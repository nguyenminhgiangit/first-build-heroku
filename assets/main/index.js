window.__require=function e(t,n,r){function o(s,a){if(!n[s]){if(!t[s]){var u=s.split("/");if(u=u[u.length-1],!t[u]){var c="function"==typeof __require&&__require;if(!a&&c)return c(u,!0);if(i)return i(u,!0);throw new Error("Cannot find module '"+s+"'")}s=u}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){return o(t[s][1][e]||e)},l,l.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof __require&&__require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){"use strict";n.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},n.toByteArray=function(e){var t,n,r=c(e),s=r[0],a=r[1],u=new i(l(0,s,a)),f=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],u[f++]=t>>16&255,u[f++]=t>>8&255,u[f++]=255&t;return 2===a&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,u[f++]=255&t),1===a&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,u[f++]=t>>8&255,u[f++]=255&t),u},n.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],s=0,a=n-o;s<a;s+=16383)i.push(f(e,s,s+16383>a?a:s+16383));return 1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],o[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){return 3*(t+n)/4-n}function f(e,t,n){for(var o,i,s=[],a=t;a<n;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}],2:[function(e,t,n){(function(t){"use strict";var r=e("base64-js"),o=e("ieee754"),i=e("isarray");function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?_(e,t,n,r):"string"==typeof t?p(e,t,n):m(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t,n,r){return l(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}function h(e,t){if(l(t),e=a(e,t<0?0:0|y(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(t,n),o=(e=a(e,r)).write(t,n);return o!==r&&(e=e.slice(0,o)),e}function d(e,t){var n=t.length<0?0:0|y(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function _(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t),e}function m(e,t){if(u.isBuffer(t)){var n=0|y(t.length);return 0===(e=a(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):d(e,t);if("Buffer"===t.type&&i(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function g(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(e).length;default:if(r)return H(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return j(this,t,n);case"base64":return U(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function w(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:I(e,t,n,r,o);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):I(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function I(e,t,n,r,o){var i,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var l=-1;for(i=n;i<a;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*s}else-1!==l&&(i-=i-l),l=-1}else for(n+u>a&&(n=a-u),i=n;i>=0;i--){for(var f=!0,h=0;h<u;h++)if(c(e,i+h)!==c(t,h)){f=!1;break}if(f)return i}return-1}function R(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function O(e,t,n,r){return Z(H(t,e.length-n),e,n,r)}function P(e,t,n,r){return Z(Y(t),e,n,r)}function k(e,t,n,r){return P(e,t,n,r)}function C(e,t,n,r){return Z(Q(t),e,n,r)}function S(e,t,n,r){return Z(K(t,e.length-n),e,n,r)}function U(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,s,a,u,c=e[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=e[o+1],s=e[o+2],128==(192&i)&&128==(192&s)&&(u=(15&c)<<12|(63&i)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=e[o+1],s=e[o+2],a=e[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return M(r)}n.Buffer=u,n.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},n.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),n.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return f(null,e,t,n)},u.allocUnsafe=function(e){return h(null,e)},u.allocUnsafeSlow=function(e){return h(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var s=e[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,o),o+=s.length}return r},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):v.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(i,s),c=this.slice(r,o),l=e.slice(t,n),f=0;f<a;++f)if(c[f]!==l[f]){i=c[f],s=l[f];break}return i<s?-1:s<i?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return R(this,e,t,n);case"utf8":case"utf-8":return O(this,e,t,n);case"ascii":return P(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function M(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function j(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function x(e,t,n){var r,o=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>o)&&(n=o);for(var i="",s=t;s<n;++s)i+=(r=e[s])<16?"0"+r.toString(16):r.toString(16);return i}function N(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function L(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,n,r,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function B(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function G(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function q(e,t,n,r,i){return i||G(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function z(e,t,n,r,i){return i||G(e,0,n,8),o.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;n=new u(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},u.prototype.readUInt8=function(e,t){return t||L(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||L(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||L(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||L(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||L(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||L(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||L(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||F(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||F(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):B(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);F(this,e,t,n,o-1,-o)}var i=0,s=1,a=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);F(this,e,t,n,o-1,-o)}var i=n-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):B(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return q(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return q(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return z(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return z(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var s=u.isBuffer(e)?e:H(new u(e,r).toString()),a=s.length;for(i=0;i<n-t;++i)this[i+t]=s[i%a]}return this};var V=/[^+\/0-9A-Za-z-_]/g;function W(e){if((e=J(e).replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function J(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function Y(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function K(e,t){for(var n,r,o,i=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,o=n%256,i.push(o),i.push(r);return i}function Q(e){return r.toByteArray(W(e))}function Z(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:4,isarray:3}],3:[function(e,t){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],4:[function(e,t,n){n.read=function(e,t,n,r,o){var i,s,a=8*o-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?o-1:0,h=n?-1:1,p=e[t+f];for(f+=h,i=p&(1<<-l)-1,p>>=-l,l+=a;l>0;i=256*i+e[t+f],f+=h,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=h,l-=8);if(0===i)i=1-c;else{if(i===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),i-=c}return(p?-1:1)*s*Math.pow(2,i-r)},n.write=function(e,t,n,r,o,i){var s,a,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,d=r?1:-1,_=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,o),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;e[n+p]=255&a,p+=d,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;e[n+p]=255&s,p+=d,s/=256,c-=8);e[n+p-d]|=128*_}},{}],5:[function(e,t,n){(function(e){var t=Object.create,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,a=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&l(e,n,t[n]);if(s)for(var n of s(t))c.call(t,n)&&l(e,n,t[n]);return e},h=e=>r(e,"__esModule",{value:!0}),p=(e,t,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of i(t))u.call(e,s)||"default"===s||r(e,s,{get:()=>t[s],enumerable:!(n=o(t,s))||n.enumerable});return e},d=(e,t,n)=>new Promise((r,o)=>{var i=e=>{try{a(n.next(e))}catch(t){o(t)}},s=e=>{try{a(n.throw(e))}catch(t){o(t)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,s);a((n=n.apply(e,t)).next())}),_=((e,t)=>(function(){return t||(0,e[Object.keys(e)[0]])((t={exports:{}}).exports,t),t.exports}))({"node_modules/whatwg-fetch/fetch.js"(e){(function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(e){return e&&DataView.prototype.isPrototypeOf(e)},o=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};l.prototype.append=function(e,t){e=a(e),t=u(t);var n=this.map[e];this.map[e]=n?n+","+t:t},l.prototype.delete=function(e){delete this.map[a(e)]},l.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},l.prototype.set=function(e,t){this.map[a(e)]=u(t)},l.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),c(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),c(e)},t.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},m.call(y.prototype),m.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var s=[301,302,303,307,308];v.redirect=function(e,t){if(-1===s.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.Headers=l,e.Request=y,e.Response=v,e.fetch=function(e,n){return new Promise(function(r,o){var i=new y(e,n),s=new XMLHttpRequest;s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var o="response"in s?s.response:s.responseText;r(new v(o,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.open(i.method,i.url,!0),"include"===i.credentials?s.withCredentials=!0:"omit"===i.credentials&&(s.withCredentials=!1),"responseType"in s&&t.blob&&(s.responseType="blob"),i.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),s.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function p(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function d(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function _(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&r(e))this._bodyArrayBuffer=_(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!o(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=_(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e,t,n,r=f(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=h(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(d(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}function y(e,t){var n,r,o=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),i.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function g(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function v(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}})("undefined"!=typeof self?self:e)}});((e,t)=>{for(var n in h(e),t)r(e,n,{get:t[n],enumerable:!0})})(n,{Client:()=>te,DefaultSocket:()=>ee,Session:()=>X,WebSocketAdapterText:()=>$}),(e=>p(h(r(null!=e?t(a(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e))(_());var m,y,g,v,b,w,I="function"==typeof atob,R="function"==typeof btoa,O="function"==typeof e,P="function"==typeof TextDecoder?new TextDecoder:void 0,k="function"==typeof TextEncoder?new TextEncoder:void 0,C=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],S=(()=>{let e={};return C.forEach((t,n)=>e[t]=n),e})(),U=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,E=String.fromCharCode.bind(String),A="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(e,t=(e=>e))=>new Uint8Array(Array.prototype.slice.call(e,0).map(t)),M=e=>e.replace(/[+\/]/g,e=>"+"==e?"-":"_").replace(/=+$/m,""),T=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),j=R?e=>btoa(e):O?t=>e.from(t,"binary").toString("base64"):e=>{let t,n,r,o,i="";const s=e.length%3;for(let a=0;a<e.length;){if((n=e.charCodeAt(a++))>255||(r=e.charCodeAt(a++))>255||(o=e.charCodeAt(a++))>255)throw new TypeError("invalid character found");i+=C[(t=n<<16|r<<8|o)>>18&63]+C[t>>12&63]+C[t>>6&63]+C[63&t]}return s?i.slice(0,s-3)+"===".substring(s):i},x=O?t=>e.from(t).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(E.apply(null,e.subarray(n,n+4096)));return j(t.join(""))},N=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?E(192|t>>>6)+E(128|63&t):E(224|t>>>12&15)+E(128|t>>>6&63)+E(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return E(240|t>>>18&7)+E(128|t>>>12&63)+E(128|t>>>6&63)+E(128|63&t)},L=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,F=e=>e.replace(L,N),D=O?t=>e.from(t,"utf8").toString("base64"):k?e=>x(k.encode(e)):e=>j(F(e)),B=(e,t=!1)=>t?M(D(e)):D(e),G=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,q=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return E(55296+(t>>>10))+E(56320+(1023&t));case 3:return E((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return E((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},z=e=>e.replace(G,q),V=I?e=>atob(T(e)):O?t=>e.from(t,"base64").toString("binary"):e=>{if(e=e.replace(/\s+/g,""),!U.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,n,r,o="";for(let i=0;i<e.length;)t=S[e.charAt(i++)]<<18|S[e.charAt(i++)]<<12|(n=S[e.charAt(i++)])<<6|(r=S[e.charAt(i++)]),o+=64===n?E(t>>16&255):64===r?E(t>>16&255,t>>8&255):E(t>>16&255,t>>8&255,255&t);return o},W=O?t=>A(e.from(t,"base64")):e=>A(V(e),e=>e.charCodeAt(0)),J=O?t=>e.from(t,"base64").toString("utf8"):P?e=>P.decode(W(e)):e=>z(V(e)),H=e=>T(e.replace(/[-_]/g,e=>"-"==e?"+":"/")),Y=e=>J(H(e));function K(e,t,n){const r=f(f({},{method:e}),t);r.headers=f({},t.headers);const o=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"withCredentials");return(null==o?void 0:o.set)||(r.credentials="cocos-ignore"),Object.keys(r.headers).includes("Accept")||(r.headers.Accept="application/json"),Object.keys(r.headers).includes("Content-Type")||(r.headers["Content-Type"]="application/json"),Object.keys(r.headers).forEach(e=>{r.headers[e]||delete r.headers[e]}),n&&(r.body=n),r}function Q(e){return B(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode(Number("0x"+t))}))}function Z(e){return decodeURIComponent(Y(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}(y=m||(m={}))[y.UNKNOWN=0]="UNKNOWN",y[y.SANDBOX=1]="SANDBOX",y[y.PRODUCTION=2]="PRODUCTION",(v=g||(g={}))[v.APPLE_APP_STORE=0]="APPLE_APP_STORE",v[v.GOOGLE_PLAY_STORE=1]="GOOGLE_PLAY_STORE",v[v.HUAWEI_APP_GALLERY=2]="HUAWEI_APP_GALLERY",(w=b||(b={}))[w.NO_OVERRIDE=0]="NO_OVERRIDE",w[w.BEST=1]="BEST",w[w.SET=2]="SET",w[w.INCREMENT=3]="INCREMENT",w[w.DECREMENT=4]="DECREMENT";var X=class{constructor(e,t,n){this.created=n,this.token=e,this.refresh_token=t,this.created_at=Math.floor((new Date).getTime()/1e3),this.update(e,t)}isexpired(e){return this.expires_at-e<0}isrefreshexpired(e){return this.refresh_expires_at-e<0}update(e,t){const n=e.split(".");if(3!=n.length)throw"jwt is not valid.";const r=JSON.parse(atob(n[1])),o=Math.floor(parseInt(r.exp));if(t){const e=t.split(".");if(3!=e.length)throw"refresh jwt is not valid.";const n=JSON.parse(atob(e[1])),r=Math.floor(parseInt(n.exp));this.refresh_expires_at=r,this.refresh_token=t}this.token=e,this.expires_at=o,this.username=r.usn,this.user_id=r.uid,this.vars=r.vrs}static restore(e,t){return new X(e,t,!1)}},$=class{constructor(){this._isConnected=!1}get onClose(){return this._socket.onclose}set onClose(e){this._socket.onclose=e}get onError(){return this._socket.onerror}set onError(e){this._socket.onerror=e}get onMessage(){return this._socket.onmessage}set onMessage(e){e?this._socket.onmessage=t=>{const n=JSON.parse(t.data);e(n)}:e=null}get onOpen(){return this._socket.onopen}set onOpen(e){this._socket.onopen=e}get isConnected(){return this._isConnected}connect(e,t,n,r,o){const i=`${e}${t}:${n}/ws?lang=en&status=${encodeURIComponent(r.toString())}&token=${encodeURIComponent(o)}`;this._socket=new WebSocket(i),this._isConnected=!0}close(){this._isConnected=!1,this._socket.close(),this._socket=void 0}send(e){e.match_data_send?e.match_data_send.op_code=e.match_data_send.op_code.toString():e.party_data_send&&(e.party_data_send.op_code=e.party_data_send.op_code.toString()),this._socket.send(JSON.stringify(e))}},ee=class{constructor(e,t,n=!1,r=!1,o=new $){this.host=e,this.port=t,this.useSSL=n,this.verbose=r,this.adapter=o,this.cIds={},this.nextCid=1}generatecid(){const e=this.nextCid.toString();return++this.nextCid,e}connect(e,t=!1){if(this.adapter.isConnected)return Promise.resolve(e);const n=this.useSSL?"wss://":"ws://";return this.adapter.connect(n,this.host,this.port,t,e.token),this.adapter.onClose=e=>{this.ondisconnect(e)},this.adapter.onError=e=>{this.onerror(e)},this.adapter.onMessage=e=>{if(this.verbose&&window&&window.console&&console.log("Response: %o",JSON.stringify(e)),null==e.cid)e.notifications?e.notifications.notifications.forEach(e=>{e.content=e.content?JSON.parse(e.content):void 0,this.onnotification(e)}):e.match_data?(e.match_data.data=null!=e.match_data.data?JSON.parse(Z(e.match_data.data)):null,e.match_data.op_code=parseInt(e.match_data.op_code),this.onmatchdata(e.match_data)):e.match_presence_event?this.onmatchpresence(e.match_presence_event):e.matchmaker_ticket?this.onmatchmakerticket(e.matchmaker_ticket):e.matchmaker_matched?this.onmatchmakermatched(e.matchmaker_matched):e.status_presence_event?this.onstatuspresence(e.status_presence_event):e.stream_presence_event?this.onstreampresence(e.stream_presence_event):e.stream_data?this.onstreamdata(e.stream_data):e.channel_message?(e.channel_message.content=JSON.parse(e.channel_message.content),this.onchannelmessage(e.channel_message)):e.channel_presence_event?this.onchannelpresence(e.channel_presence_event):e.party_data?(e.party_data.data=null!=e.party_data.data?JSON.parse(Z(e.party_data.data)):null,e.party_data.op_code=parseInt(e.party_data.op_code),this.onpartydata(e.party_data)):e.on_party_close?this.onpartyclose():e.party_join_request?this.onpartyjoinrequest(e.party_join_request):e.party_leader?this.onpartyleader(e.party_leader):e.party_matchmaker_ticket?this.onpartymatchmakerticket(e.party_matchmaker_ticket):e.party_presence_event?this.onpartypresence(e.party_presence_event):e.party?this.onparty(e.party):this.verbose&&window&&window.console&&console.log("Unrecognized message received: %o",e);else{const t=this.cIds[e.cid];if(!t)return void(this.verbose&&window&&window.console&&console.error("No promise executor for message: %o",e));delete this.cIds[e.cid],e.error?t.reject(e.error):t.resolve(e)}},new Promise((t,n)=>{this.adapter.onOpen=n=>{this.verbose&&window&&window.console&&console.log(n),t(e)},this.adapter.onError=e=>{n(e),this.adapter.close()}})}disconnect(e=!0){this.adapter.isConnected&&this.adapter.close(),e&&this.ondisconnect({})}ondisconnect(e){this.verbose&&window&&window.console&&console.log(e)}onerror(e){this.verbose&&window&&window.console&&console.log(e)}onchannelmessage(e){this.verbose&&window&&window.console&&console.log(e)}onchannelpresence(e){this.verbose&&window&&window.console&&console.log(e)}onnotification(e){this.verbose&&window&&window.console&&console.log(e)}onmatchdata(e){this.verbose&&window&&window.console&&console.log(e)}onmatchpresence(e){this.verbose&&window&&window.console&&console.log(e)}onmatchmakerticket(e){this.verbose&&window&&window.console&&console.log(e)}onmatchmakermatched(e){this.verbose&&window&&window.console&&console.log(e)}onparty(e){this.verbose&&window&&window.console&&console.log(e)}onpartyclose(){this.verbose&&window&&window.console&&console.log("Party closed.")}onpartyjoinrequest(e){this.verbose&&window&&window.console&&console.log(e)}onpartydata(e){this.verbose&&window&&window.console&&console.log(e)}onpartyleader(e){this.verbose&&window&&window.console&&console.log(e)}onpartymatchmakerticket(e){this.verbose&&window&&window.console&&console.log(e)}onpartypresence(e){this.verbose&&window&&window.console&&console.log(e)}onstatuspresence(e){this.verbose&&window&&window.console&&console.log(e)}onstreampresence(e){this.verbose&&window&&window.console&&console.log(e)}onstreamdata(e){this.verbose&&window&&window.console&&console.log(e)}send(e){const t=e;return new Promise((e,n)=>{if(this.adapter.isConnected)if(t.match_data_send)t.match_data_send.data=Q(JSON.stringify(t.match_data_send.data)),this.adapter.send(t),e();else if(t.party_data_send)t.party_data_send.data=Q(JSON.stringify(t.party_data_send.data)),this.adapter.send(t),e();else{t.channel_message_send?t.channel_message_send.content=JSON.stringify(t.channel_message_send.content):t.channel_message_update&&(t.channel_message_update.content=JSON.stringify(t.channel_message_update.content));const r=this.generatecid();this.cIds[r]={resolve:e,reject:n},t.cid=r,this.adapter.send(t)}else n("Socket connection has not been established yet.");this.verbose&&window&&window.console&&console.log("Sent message: %o",JSON.stringify(t))})}acceptPartyMember(e,t){return this.send({party_accept:{party_id:e,presence:t}})}addMatchmaker(e,t,n,r,o){return d(this,null,function*(){return(yield this.send({matchmaker_add:{min_count:t,max_count:n,query:e,string_properties:r,numeric_properties:o}})).matchmaker_ticket})}addMatchmakerParty(e,t,n,r,o,i){return d(this,null,function*(){return(yield this.send({party_matchmaker_add:{party_id:e,min_count:n,max_count:r,query:t,string_properties:o,numeric_properties:i}})).party_matchmaker_ticket})}closeParty(e){return d(this,null,function*(){return yield this.send({party_close:{party_id:e}})})}createMatch(){return d(this,null,function*(){return(yield this.send({match_create:{}})).match})}createParty(e,t){return d(this,null,function*(){return(yield this.send({party_create:{open:e,max_size:t}})).party})}followUsers(e){return d(this,null,function*(){return(yield this.send({status_follow:{user_ids:e}})).status})}joinChat(e,t,n,r){return d(this,null,function*(){return(yield this.send({channel_join:{target:e,type:t,persistence:n,hidden:r}})).channel})}joinMatch(e,t,n){return d(this,null,function*(){const r={match_join:{metadata:n}};return t?r.match_join.token=t:r.match_join.match_id=e,(yield this.send(r)).match})}joinParty(e){return d(this,null,function*(){return yield this.send({party_join:{party_id:e}})})}leaveChat(e){return this.send({channel_leave:{channel_id:e}})}leaveMatch(e){return this.send({match_leave:{match_id:e}})}leaveParty(e){return this.send({party_leave:{party_id:e}})}listPartyJoinRequests(e){return d(this,null,function*(){return(yield this.send({party_join_request_list:{party_id:e}})).party_join_request})}promotePartyMember(e,t){return d(this,null,function*(){return(yield this.send({party_promote:{party_id:e,presence:t}})).party_leader})}removeChatMessage(e,t){return d(this,null,function*(){return(yield this.send({channel_message_remove:{channel_id:e,message_id:t}})).channel_message_ack})}removeMatchmaker(e){return this.send({matchmaker_remove:{ticket:e}})}removeMatchmakerParty(e,t){return this.send({party_matchmaker_remove:{party_id:e,ticket:t}})}removePartyMember(e,t){return d(this,null,function*(){return this.send({party_remove:{party_id:e,presence:t}})})}rpc(e,t,n){return d(this,null,function*(){return(yield this.send({rpc:{id:e,payload:t,http_key:n}})).rpc})}sendMatchState(e,t,n,r){return d(this,null,function*(){return this.send({match_data_send:{match_id:e,op_code:t,data:n,presences:null!=r?r:[]}})})}sendPartyData(e,t,n){return this.send({party_data_send:{party_id:e,op_code:t,data:n}})}unfollowUsers(e){return this.send({status_unfollow:{user_ids:e}})}updateChatMessage(e,t,n){return d(this,null,function*(){return(yield this.send({channel_message_update:{channel_id:e,message_id:t,content:n}})).channel_message_ack})}updateStatus(e){return this.send({status_update:{status:e}})}writeChatMessage(e,t){return d(this,null,function*(){return(yield this.send({channel_message_send:{channel_id:e,content:t}})).channel_message_ack})}},te=class{constructor(e="defaultkey",t="127.0.0.1",n="7350",r=!1,o=7e3,i=!0){this.serverkey=e,this.host=t,this.port=n,this.useSSL=r,this.timeout=o,this.autoRefreshSession=i,this.expiredTimespanMs=3e5;const s=`${r?"https://":"http://"}${t}:${n}`;this.apiClient=new class{constructor(e,t,n){this.serverKey=e,this.basePath=t,this.timeoutMs=n}healthcheck(e,t={}){const n=new Map,r=this.buildFullUrl(this.basePath,"/healthcheck",n),o=K("GET",t,"");return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(r,o).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}getAccount(e,t={}){const n=new Map,r=this.buildFullUrl(this.basePath,"/v2/account",n),o=K("GET",t,"");return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(r,o).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}updateAccount(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/account",r),s=K("PUT",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}authenticateApple(e,t,n,r,o,i={}){if(null==n)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;s.set("create",r),s.set("username",o);let a="";a=JSON.stringify(n||{});const u=this.buildFullUrl(this.basePath,"/v2/account/authenticate/apple",s),c=K("POST",i,a);return c.headers.Authorization="Basic "+B(e+":"+t),Promise.race([fetch(u,c).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}authenticateCustom(e,t,n,r,o,i={}){if(null==n)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;s.set("create",r),s.set("username",o);let a="";a=JSON.stringify(n||{});const u=this.buildFullUrl(this.basePath,"/v2/account/authenticate/custom",s),c=K("POST",i,a);return c.headers.Authorization="Basic "+B(e+":"+t),Promise.race([fetch(u,c).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}authenticateDevice(e,t,n,r,o,i={}){if(null==n)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;s.set("create",r),s.set("username",o);let a="";a=JSON.stringify(n||{});const u=this.buildFullUrl(this.basePath,"/v2/account/authenticate/device",s),c=K("POST",i,a);return c.headers.Authorization="Basic "+B(e+":"+t),Promise.race([fetch(u,c).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}authenticateEmail(e,t,n,r,o,i={}){if(null==n)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;s.set("create",r),s.set("username",o);let a="";a=JSON.stringify(n||{});const u=this.buildFullUrl(this.basePath,"/v2/account/authenticate/email",s),c=K("POST",i,a);return c.headers.Authorization="Basic "+B(e+":"+t),Promise.race([fetch(u,c).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}authenticateFacebook(e,t,n,r,o,i,s={}){if(null==n)throw new Error("'body' is a required parameter but is null or undefined.");const a=new Map;a.set("create",r),a.set("username",o),a.set("sync",i);let u="";u=JSON.stringify(n||{});const c=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebook",a),l=K("POST",s,u);return l.headers.Authorization="Basic "+B(e+":"+t),Promise.race([fetch(c,l).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}authenticateFacebookInstantGame(e,t,n,r,o,i={}){if(null==n)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;s.set("create",r),s.set("username",o);let a="";a=JSON.stringify(n||{});const u=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebookinstantgame",s),c=K("POST",i,a);return c.headers.Authorization="Basic "+B(e+":"+t),Promise.race([fetch(u,c).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}authenticateGameCenter(e,t,n,r,o,i={}){if(null==n)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;s.set("create",r),s.set("username",o);let a="";a=JSON.stringify(n||{});const u=this.buildFullUrl(this.basePath,"/v2/account/authenticate/gamecenter",s),c=K("POST",i,a);return c.headers.Authorization="Basic "+B(e+":"+t),Promise.race([fetch(u,c).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}authenticateGoogle(e,t,n,r,o,i={}){if(null==n)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;s.set("create",r),s.set("username",o);let a="";a=JSON.stringify(n||{});const u=this.buildFullUrl(this.basePath,"/v2/account/authenticate/google",s),c=K("POST",i,a);return c.headers.Authorization="Basic "+B(e+":"+t),Promise.race([fetch(u,c).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}authenticateSteam(e,t,n,r,o,i,s={}){if(null==n)throw new Error("'body' is a required parameter but is null or undefined.");const a=new Map;a.set("create",r),a.set("username",o),a.set("sync",i);let u="";u=JSON.stringify(n||{});const c=this.buildFullUrl(this.basePath,"/v2/account/authenticate/steam",a),l=K("POST",s,u);return l.headers.Authorization="Basic "+B(e+":"+t),Promise.race([fetch(c,l).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}linkApple(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/account/link/apple",r),s=K("POST",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}linkCustom(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/account/link/custom",r),s=K("POST",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}linkDevice(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/account/link/device",r),s=K("POST",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}linkEmail(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/account/link/email",r),s=K("POST",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}linkFacebook(e,t,n,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const o=new Map;o.set("sync",n);let i="";i=JSON.stringify(t||{});const s=this.buildFullUrl(this.basePath,"/v2/account/link/facebook",o),a=K("POST",r,i);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(s,a).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}linkFacebookInstantGame(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/account/link/facebookinstantgame",r),s=K("POST",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}linkGameCenter(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/account/link/gamecenter",r),s=K("POST",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}linkGoogle(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/account/link/google",r),s=K("POST",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}linkSteam(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/account/link/steam",r),s=K("POST",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}sessionRefresh(e,t,n,r={}){if(null==n)throw new Error("'body' is a required parameter but is null or undefined.");const o=new Map;let i="";i=JSON.stringify(n||{});const s=this.buildFullUrl(this.basePath,"/v2/account/session/refresh",o),a=K("POST",r,i);return a.headers.Authorization="Basic "+B(e+":"+t),Promise.race([fetch(s,a).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}unlinkApple(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/account/unlink/apple",r),s=K("POST",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}unlinkCustom(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/account/unlink/custom",r),s=K("POST",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}unlinkDevice(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/account/unlink/device",r),s=K("POST",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}unlinkEmail(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/account/unlink/email",r),s=K("POST",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}unlinkFacebook(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebook",r),s=K("POST",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}unlinkFacebookInstantGame(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebookinstantgame",r),s=K("POST",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}unlinkGameCenter(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/account/unlink/gamecenter",r),s=K("POST",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}unlinkGoogle(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/account/unlink/google",r),s=K("POST",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}unlinkSteam(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/account/unlink/steam",r),s=K("POST",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}listChannelMessages(e,t,n,r,o,i={}){if(null==t)throw new Error("'channelId' is a required parameter but is null or undefined.");const s="/v2/channel/{channelId}".replace("{channelId}",encodeURIComponent(String(t))),a=new Map;a.set("limit",n),a.set("forward",r),a.set("cursor",o);const u=this.buildFullUrl(this.basePath,s,a),c=K("GET",i,"");return e&&(c.headers.Authorization="Bearer "+e),Promise.race([fetch(u,c).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}event(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/event",r),s=K("POST",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}deleteFriends(e,t,n,r={}){const o=new Map;o.set("ids",t),o.set("usernames",n);const i=this.buildFullUrl(this.basePath,"/v2/friend",o),s=K("DELETE",r,"");return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}listFriends(e,t,n,r,o={}){const i=new Map;i.set("limit",t),i.set("state",n),i.set("cursor",r);const s=this.buildFullUrl(this.basePath,"/v2/friend",i),a=K("GET",o,"");return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(s,a).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}addFriends(e,t,n,r={}){const o=new Map;o.set("ids",t),o.set("usernames",n);const i=this.buildFullUrl(this.basePath,"/v2/friend",o),s=K("POST",r,"");return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}blockFriends(e,t,n,r={}){const o=new Map;o.set("ids",t),o.set("usernames",n);const i=this.buildFullUrl(this.basePath,"/v2/friend/block",o),s=K("POST",r,"");return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}importFacebookFriends(e,t,n,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const o=new Map;o.set("reset",n);let i="";i=JSON.stringify(t||{});const s=this.buildFullUrl(this.basePath,"/v2/friend/facebook",o),a=K("POST",r,i);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(s,a).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}importSteamFriends(e,t,n,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const o=new Map;o.set("reset",n);let i="";i=JSON.stringify(t||{});const s=this.buildFullUrl(this.basePath,"/v2/friend/steam",o),a=K("POST",r,i);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(s,a).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}listGroups(e,t,n,r,o,i,s,a={}){const u=new Map;u.set("name",t),u.set("cursor",n),u.set("limit",r),u.set("lang_tag",o),u.set("members",i),u.set("open",s);const c=this.buildFullUrl(this.basePath,"/v2/group",u),l=K("GET",a,"");return e&&(l.headers.Authorization="Bearer "+e),Promise.race([fetch(c,l).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}createGroup(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/group",r),s=K("POST",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}deleteGroup(e,t,n={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");const r="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(t))),o=new Map,i=this.buildFullUrl(this.basePath,r,o),s=K("DELETE",n,"");return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}updateGroup(e,t,n,r={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==n)throw new Error("'body' is a required parameter but is null or undefined.");const o="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(t))),i=new Map;let s="";s=JSON.stringify(n||{});const a=this.buildFullUrl(this.basePath,o,i),u=K("PUT",r,s);return e&&(u.headers.Authorization="Bearer "+e),Promise.race([fetch(a,u).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}addGroupUsers(e,t,n,r={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");const o="/v2/group/{groupId}/add".replace("{groupId}",encodeURIComponent(String(t))),i=new Map;i.set("user_ids",n);const s=this.buildFullUrl(this.basePath,o,i),a=K("POST",r,"");return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(s,a).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}banGroupUsers(e,t,n,r={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");const o="/v2/group/{groupId}/ban".replace("{groupId}",encodeURIComponent(String(t))),i=new Map;i.set("user_ids",n);const s=this.buildFullUrl(this.basePath,o,i),a=K("POST",r,"");return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(s,a).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}demoteGroupUsers(e,t,n,r={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==n)throw new Error("'userIds' is a required parameter but is null or undefined.");const o="/v2/group/{groupId}/demote".replace("{groupId}",encodeURIComponent(String(t))),i=new Map;i.set("user_ids",n);const s=this.buildFullUrl(this.basePath,o,i),a=K("POST",r,"");return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(s,a).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}joinGroup(e,t,n={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");const r="/v2/group/{groupId}/join".replace("{groupId}",encodeURIComponent(String(t))),o=new Map,i=this.buildFullUrl(this.basePath,r,o),s=K("POST",n,"");return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}kickGroupUsers(e,t,n,r={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");const o="/v2/group/{groupId}/kick".replace("{groupId}",encodeURIComponent(String(t))),i=new Map;i.set("user_ids",n);const s=this.buildFullUrl(this.basePath,o,i),a=K("POST",r,"");return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(s,a).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}leaveGroup(e,t,n={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");const r="/v2/group/{groupId}/leave".replace("{groupId}",encodeURIComponent(String(t))),o=new Map,i=this.buildFullUrl(this.basePath,r,o),s=K("POST",n,"");return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}promoteGroupUsers(e,t,n,r={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");const o="/v2/group/{groupId}/promote".replace("{groupId}",encodeURIComponent(String(t))),i=new Map;i.set("user_ids",n);const s=this.buildFullUrl(this.basePath,o,i),a=K("POST",r,"");return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(s,a).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}listGroupUsers(e,t,n,r,o,i={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");const s="/v2/group/{groupId}/user".replace("{groupId}",encodeURIComponent(String(t))),a=new Map;a.set("limit",n),a.set("state",r),a.set("cursor",o);const u=this.buildFullUrl(this.basePath,s,a),c=K("GET",i,"");return e&&(c.headers.Authorization="Bearer "+e),Promise.race([fetch(u,c).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}validatePurchaseApple(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/iap/purchase/apple",r),s=K("POST",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}validatePurchaseGoogle(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/iap/purchase/google",r),s=K("POST",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}validatePurchaseHuawei(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/iap/purchase/huawei",r),s=K("POST",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}deleteLeaderboardRecord(e,t,n={}){if(null==t)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const r="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(t))),o=new Map,i=this.buildFullUrl(this.basePath,r,o),s=K("DELETE",n,"");return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}listLeaderboardRecords(e,t,n,r,o,i,s={}){if(null==t)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const a="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(t))),u=new Map;u.set("owner_ids",n),u.set("limit",r),u.set("cursor",o),u.set("expiry",i);const c=this.buildFullUrl(this.basePath,a,u),l=K("GET",s,"");return e&&(l.headers.Authorization="Bearer "+e),Promise.race([fetch(c,l).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}writeLeaderboardRecord(e,t,n,r={}){if(null==t)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==n)throw new Error("'body' is a required parameter but is null or undefined.");const o="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(t))),i=new Map;let s="";s=JSON.stringify(n||{});const a=this.buildFullUrl(this.basePath,o,i),u=K("POST",r,s);return e&&(u.headers.Authorization="Bearer "+e),Promise.race([fetch(a,u).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}listLeaderboardRecordsAroundOwner(e,t,n,r,o,i={}){if(null==t)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==n)throw new Error("'ownerId' is a required parameter but is null or undefined.");const s="/v2/leaderboard/{leaderboardId}/owner/{ownerId}".replace("{leaderboardId}",encodeURIComponent(String(t))).replace("{ownerId}",encodeURIComponent(String(n))),a=new Map;a.set("limit",r),a.set("expiry",o);const u=this.buildFullUrl(this.basePath,s,a),c=K("GET",i,"");return e&&(c.headers.Authorization="Bearer "+e),Promise.race([fetch(u,c).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}listMatches(e,t,n,r,o,i,s,a={}){const u=new Map;u.set("limit",t),u.set("authoritative",n),u.set("label",r),u.set("min_size",o),u.set("max_size",i),u.set("query",s);const c=this.buildFullUrl(this.basePath,"/v2/match",u),l=K("GET",a,"");return e&&(l.headers.Authorization="Bearer "+e),Promise.race([fetch(c,l).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}deleteNotifications(e,t,n={}){const r=new Map;r.set("ids",t);const o=this.buildFullUrl(this.basePath,"/v2/notification",r),i=K("DELETE",n,"");return e&&(i.headers.Authorization="Bearer "+e),Promise.race([fetch(o,i).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}listNotifications(e,t,n,r={}){const o=new Map;o.set("limit",t),o.set("cacheable_cursor",n);const i=this.buildFullUrl(this.basePath,"/v2/notification",o),s=K("GET",r,"");return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}rpcFunc2(e,t,n,r,o={}){if(null==t)throw new Error("'id' is a required parameter but is null or undefined.");const i="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(t))),s=new Map;s.set("payload",n),s.set("http_key",r);const a=this.buildFullUrl(this.basePath,i,s),u=K("GET",o,"");return e&&(u.headers.Authorization="Bearer "+e),Promise.race([fetch(a,u).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}rpcFunc(e,t,n,r,o={}){if(null==t)throw new Error("'id' is a required parameter but is null or undefined.");if(null==n)throw new Error("'body' is a required parameter but is null or undefined.");const i="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(t))),s=new Map;s.set("http_key",r);let a="";a=JSON.stringify(n||{});const u=this.buildFullUrl(this.basePath,i,s),c=K("POST",o,a);return e&&(c.headers.Authorization="Bearer "+e),Promise.race([fetch(u,c).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}sessionLogout(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/session/logout",r),s=K("POST",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}readStorageObjects(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/storage",r),s=K("POST",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}writeStorageObjects(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/storage",r),s=K("PUT",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}deleteStorageObjects(e,t,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const r=new Map;let o="";o=JSON.stringify(t||{});const i=this.buildFullUrl(this.basePath,"/v2/storage/delete",r),s=K("PUT",n,o);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}listStorageObjects(e,t,n,r,o,i={}){if(null==t)throw new Error("'collection' is a required parameter but is null or undefined.");const s="/v2/storage/{collection}".replace("{collection}",encodeURIComponent(String(t))),a=new Map;a.set("user_id",n),a.set("limit",r),a.set("cursor",o);const u=this.buildFullUrl(this.basePath,s,a),c=K("GET",i,"");return e&&(c.headers.Authorization="Bearer "+e),Promise.race([fetch(u,c).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}listStorageObjects2(e,t,n,r,o,i={}){if(null==t)throw new Error("'collection' is a required parameter but is null or undefined.");if(null==n)throw new Error("'userId' is a required parameter but is null or undefined.");const s="/v2/storage/{collection}/{userId}".replace("{collection}",encodeURIComponent(String(t))).replace("{userId}",encodeURIComponent(String(n))),a=new Map;a.set("limit",r),a.set("cursor",o);const u=this.buildFullUrl(this.basePath,s,a),c=K("GET",i,"");return e&&(c.headers.Authorization="Bearer "+e),Promise.race([fetch(u,c).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}listTournaments(e,t,n,r,o,i,s,a={}){const u=new Map;u.set("category_start",t),u.set("category_end",n),u.set("start_time",r),u.set("end_time",o),u.set("limit",i),u.set("cursor",s);const c=this.buildFullUrl(this.basePath,"/v2/tournament",u),l=K("GET",a,"");return e&&(l.headers.Authorization="Bearer "+e),Promise.race([fetch(c,l).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}listTournamentRecords(e,t,n,r,o,i,s={}){if(null==t)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const a="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(t))),u=new Map;u.set("owner_ids",n),u.set("limit",r),u.set("cursor",o),u.set("expiry",i);const c=this.buildFullUrl(this.basePath,a,u),l=K("GET",s,"");return e&&(l.headers.Authorization="Bearer "+e),Promise.race([fetch(c,l).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}writeTournamentRecord2(e,t,n,r={}){if(null==t)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==n)throw new Error("'body' is a required parameter but is null or undefined.");const o="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(t))),i=new Map;let s="";s=JSON.stringify(n||{});const a=this.buildFullUrl(this.basePath,o,i),u=K("POST",r,s);return e&&(u.headers.Authorization="Bearer "+e),Promise.race([fetch(a,u).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}writeTournamentRecord(e,t,n,r={}){if(null==t)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==n)throw new Error("'body' is a required parameter but is null or undefined.");const o="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(t))),i=new Map;let s="";s=JSON.stringify(n||{});const a=this.buildFullUrl(this.basePath,o,i),u=K("PUT",r,s);return e&&(u.headers.Authorization="Bearer "+e),Promise.race([fetch(a,u).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}joinTournament(e,t,n={}){if(null==t)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const r="/v2/tournament/{tournamentId}/join".replace("{tournamentId}",encodeURIComponent(String(t))),o=new Map,i=this.buildFullUrl(this.basePath,r,o),s=K("POST",n,"");return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(i,s).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}listTournamentRecordsAroundOwner(e,t,n,r,o,i={}){if(null==t)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==n)throw new Error("'ownerId' is a required parameter but is null or undefined.");const s="/v2/tournament/{tournamentId}/owner/{ownerId}".replace("{tournamentId}",encodeURIComponent(String(t))).replace("{ownerId}",encodeURIComponent(String(n))),a=new Map;a.set("limit",r),a.set("expiry",o);const u=this.buildFullUrl(this.basePath,s,a),c=K("GET",i,"");return e&&(c.headers.Authorization="Bearer "+e),Promise.race([fetch(u,c).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}getUsers(e,t,n,r,o={}){const i=new Map;i.set("ids",t),i.set("usernames",n),i.set("facebook_ids",r);const s=this.buildFullUrl(this.basePath,"/v2/user",i),a=K("GET",o,"");return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(s,a).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}listUserGroups(e,t,n,r,o,i={}){if(null==t)throw new Error("'userId' is a required parameter but is null or undefined.");const s="/v2/user/{userId}/group".replace("{userId}",encodeURIComponent(String(t))),a=new Map;a.set("limit",n),a.set("state",r),a.set("cursor",o);const u=this.buildFullUrl(this.basePath,s,a),c=K("GET",i,"");return e&&(c.headers.Authorization="Bearer "+e),Promise.race([fetch(u,c).then(e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e}),new Promise((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out."))])}buildFullUrl(e,t,n){let r=e+t+"?";for(let[o,i]of n)i instanceof Array?r+=i.reduce((e,t)=>e+encodeURIComponent(o)+"="+encodeURIComponent(t)+"&",""):null!=i&&(r+=encodeURIComponent(o)+"="+encodeURIComponent(i)+"&");return r}}(e,s,o)}addGroupUsers(e,t,n){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.addGroupUsers(e.token,t,n).then(e=>void 0!==e)})}addFriends(e,t,n){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.addFriends(e.token,t,n).then(e=>void 0!==e)})}authenticateApple(e,t,n){return d(this,arguments,function*(e,t,n,r=new Map,o={}){const i={token:e,vars:r};return this.apiClient.authenticateApple(this.serverkey,"",i,t,n,o).then(e=>new X(e.token||"",e.refresh_token||"",e.created||!1))})}authenticateCustom(e,t,n,r=new Map,o={}){const i={id:e,vars:r};return this.apiClient.authenticateCustom(this.serverkey,"",i,t,n,o).then(e=>new X(e.token||"",e.refresh_token||"",e.created||!1))}authenticateDevice(e,t,n,r){const o={id:e,vars:r};return this.apiClient.authenticateDevice(this.serverkey,"",o,t,n).then(e=>new X(e.token||"",e.refresh_token||"",e.created||!1))}authenticateEmail(e,t,n,r,o){const i={email:e,password:t,vars:o};return this.apiClient.authenticateEmail(this.serverkey,"",i,n,r).then(e=>new X(e.token||"",e.refresh_token||"",e.created||!1))}authenticateFacebookInstantGame(e,t,n,r,o={}){const i={signed_player_info:e,vars:r};return this.apiClient.authenticateFacebookInstantGame(this.serverkey,"",{signed_player_info:i.signed_player_info,vars:i.vars},t,n,o).then(e=>new X(e.token||"",e.refresh_token||"",e.created||!1))}authenticateFacebook(e,t,n,r,o,i={}){const s={token:e,vars:o};return this.apiClient.authenticateFacebook(this.serverkey,"",s,t,n,r,i).then(e=>new X(e.token||"",e.refresh_token||"",e.created||!1))}authenticateGoogle(e,t,n,r,o={}){const i={token:e,vars:r};return this.apiClient.authenticateGoogle(this.serverkey,"",i,t,n,o).then(e=>new X(e.token||"",e.refresh_token||"",e.created||!1))}authenticateGameCenter(e,t,n,r){const o={token:e,vars:r};return this.apiClient.authenticateGameCenter(this.serverkey,"",o,t,n).then(e=>new X(e.token||"",e.refresh_token||"",e.created||!1))}authenticateSteam(e,t,n,r,o){return d(this,null,function*(){const i={token:e,vars:o,sync:r};return this.apiClient.authenticateSteam(this.serverkey,"",i,t,n).then(e=>new X(e.token||"",e.refresh_token||"",e.created||!1))})}banGroupUsers(e,t,n){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.banGroupUsers(e.token,t,n).then(e=>void 0!==e)})}blockFriends(e,t,n){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.blockFriends(e.token,t,n).then(e=>Promise.resolve(null!=e))})}createGroup(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.createGroup(e.token,t).then(e=>Promise.resolve({avatar_url:e.avatar_url,create_time:e.create_time,creator_id:e.creator_id,description:e.description,edge_count:e.edge_count?Number(e.edge_count):0,id:e.id,lang_tag:e.lang_tag,max_count:e.max_count?Number(e.max_count):0,metadata:e.metadata?JSON.parse(e.metadata):void 0,name:e.name,open:e.open,update_time:e.update_time}))})}createSocket(e=!1,t=!1,n=new $){return new ee(this.host,this.port,e,t,n)}deleteFriends(e,t,n){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.deleteFriends(e.token,t,n).then(e=>void 0!==e)})}deleteGroup(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.deleteGroup(e.token,t).then(e=>void 0!==e)})}deleteNotifications(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.deleteNotifications(e.token,t).then(e=>Promise.resolve(null!=e))})}deleteStorageObjects(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.deleteStorageObjects(e.token,t).then(e=>Promise.resolve(null!=e))})}demoteGroupUsers(e,t,n){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.demoteGroupUsers(e.token,t,n).then(e=>Promise.resolve(null!=e))})}emitEvent(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.event(e.token,t).then(e=>Promise.resolve(null!=e))})}getAccount(e){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.getAccount(e.token)})}importFacebookFriends(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.importFacebookFriends(e.token,t).then(e=>void 0!==e)})}importSteamFriends(e,t,n){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.importSteamFriends(e.token,t,n).then(e=>void 0!==e)})}getUsers(e,t,n,r){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.getUsers(e.token,t,n,r).then(e=>{var t={users:[]};return null==e.users?Promise.resolve(t):(e.users.forEach(e=>{t.users.push({avatar_url:e.avatar_url,create_time:e.create_time,display_name:e.display_name,edge_count:e.edge_count?Number(e.edge_count):0,facebook_id:e.facebook_id,gamecenter_id:e.gamecenter_id,google_id:e.google_id,id:e.id,lang_tag:e.lang_tag,location:e.location,online:e.online,steam_id:e.steam_id,timezone:e.timezone,update_time:e.update_time,username:e.username,metadata:e.metadata?JSON.parse(e.metadata):void 0})}),Promise.resolve(t))})})}joinGroup(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.joinGroup(e.token,t,{}).then(e=>void 0!==e)})}joinTournament(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.joinTournament(e.token,t,{}).then(e=>void 0!==e)})}kickGroupUsers(e,t,n){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.kickGroupUsers(e.token,t,n).then(e=>Promise.resolve(null!=e))})}leaveGroup(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.leaveGroup(e.token,t,{}).then(e=>void 0!==e)})}listChannelMessages(e,t,n,r,o){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listChannelMessages(e.token,t,n,r,o).then(e=>{var t={messages:[],next_cursor:e.next_cursor,prev_cursor:e.prev_cursor,cacheable_cursor:e.cacheable_cursor};return null==e.messages?Promise.resolve(t):(e.messages.forEach(e=>{t.messages.push({channel_id:e.channel_id,code:e.code?Number(e.code):0,create_time:e.create_time,message_id:e.message_id,persistent:e.persistent,sender_id:e.sender_id,update_time:e.update_time,username:e.username,content:e.content?JSON.parse(e.content):void 0,group_id:e.group_id,room_name:e.room_name,user_id_one:e.user_id_one,user_id_two:e.user_id_two})}),Promise.resolve(t))})})}listGroupUsers(e,t,n,r,o){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listGroupUsers(e.token,t,r,n,o).then(e=>{var t={group_users:[],cursor:e.cursor};return null==e.group_users?Promise.resolve(t):(e.group_users.forEach(e=>{t.group_users.push({user:{avatar_url:e.user.avatar_url,create_time:e.user.create_time,display_name:e.user.display_name,edge_count:e.user.edge_count?Number(e.user.edge_count):0,facebook_id:e.user.facebook_id,gamecenter_id:e.user.gamecenter_id,google_id:e.user.google_id,id:e.user.id,lang_tag:e.user.lang_tag,location:e.user.location,online:e.user.online,steam_id:e.user.steam_id,timezone:e.user.timezone,update_time:e.user.update_time,username:e.user.username,metadata:e.user.metadata?JSON.parse(e.user.metadata):void 0},state:e.state?Number(e.state):0})}),Promise.resolve(t))})})}listUserGroups(e,t,n,r,o){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listUserGroups(e.token,t,n,r,o).then(e=>{var t={user_groups:[],cursor:e.cursor};return null==e.user_groups?Promise.resolve(t):(e.user_groups.forEach(e=>{t.user_groups.push({group:{avatar_url:e.group.avatar_url,create_time:e.group.create_time,creator_id:e.group.creator_id,description:e.group.description,edge_count:e.group.edge_count?Number(e.group.edge_count):0,id:e.group.id,lang_tag:e.group.lang_tag,max_count:e.group.max_count,metadata:e.group.metadata?JSON.parse(e.group.metadata):void 0,name:e.group.name,open:e.group.open,update_time:e.group.update_time},state:e.state?Number(e.state):0})}),Promise.resolve(t))})})}listGroups(e,t,n,r){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listGroups(e.token,t,n,r).then(e=>{var t={groups:[]};return null==e.groups?Promise.resolve(t):(t.cursor=e.cursor,e.groups.forEach(e=>{t.groups.push({avatar_url:e.avatar_url,create_time:e.create_time,creator_id:e.creator_id,description:e.description,edge_count:e.edge_count?Number(e.edge_count):0,id:e.id,lang_tag:e.lang_tag,max_count:e.max_count,metadata:e.metadata?JSON.parse(e.metadata):void 0,name:e.name,open:e.open,update_time:e.update_time})}),Promise.resolve(t))})})}linkApple(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkApple(e.token,t).then(e=>void 0!==e)})}linkCustom(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkCustom(e.token,t).then(e=>void 0!==e)})}linkDevice(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkDevice(e.token,t).then(e=>void 0!==e)})}linkEmail(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkEmail(e.token,t).then(e=>void 0!==e)})}linkFacebook(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkFacebook(e.token,t).then(e=>void 0!==e)})}linkFacebookInstantGame(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkFacebookInstantGame(e.token,t).then(e=>void 0!==e)})}linkGoogle(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkGoogle(e.token,t).then(e=>void 0!==e)})}linkGameCenter(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkGameCenter(e.token,t).then(e=>void 0!==e)})}linkSteam(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkSteam(e.token,t).then(e=>void 0!==e)})}listFriends(e,t,n,r){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listFriends(e.token,n,t,r).then(e=>{var t={friends:[],cursor:e.cursor};return null==e.friends?Promise.resolve(t):(e.friends.forEach(e=>{t.friends.push({user:{avatar_url:e.user.avatar_url,create_time:e.user.create_time,display_name:e.user.display_name,edge_count:e.user.edge_count?Number(e.user.edge_count):0,facebook_id:e.user.facebook_id,gamecenter_id:e.user.gamecenter_id,google_id:e.user.google_id,id:e.user.id,lang_tag:e.user.lang_tag,location:e.user.location,online:e.user.online,steam_id:e.user.steam_id,timezone:e.user.timezone,update_time:e.user.update_time,username:e.user.username,metadata:e.user.metadata?JSON.parse(e.user.metadata):void 0,facebook_instant_game_id:e.user.facebook_instant_game_id},state:e.state})}),Promise.resolve(t))})})}listLeaderboardRecords(e,t,n,r,o,i){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listLeaderboardRecords(e.token,t,n,r,o,i).then(e=>{var t={next_cursor:e.next_cursor,prev_cursor:e.prev_cursor,owner_records:[],records:[]};return null!=e.owner_records&&e.owner_records.forEach(e=>{t.owner_records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,rank:e.rank?Number(e.rank):0,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0})}),null!=e.records&&e.records.forEach(e=>{t.records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,rank:e.rank?Number(e.rank):0,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0})}),Promise.resolve(t)})})}listLeaderboardRecordsAroundOwner(e,t,n,r,o){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listLeaderboardRecordsAroundOwner(e.token,t,n,r,o).then(e=>{var t={next_cursor:e.next_cursor,prev_cursor:e.prev_cursor,owner_records:[],records:[]};return null!=e.owner_records&&e.owner_records.forEach(e=>{t.owner_records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,rank:e.rank?Number(e.rank):0,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0})}),null!=e.records&&e.records.forEach(e=>{t.records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,rank:e.rank?Number(e.rank):0,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0})}),Promise.resolve(t)})})}listMatches(e,t,n,r,o,i,s){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listMatches(e.token,t,n,r,o,i,s)})}listNotifications(e,t,n){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listNotifications(e.token,t,n).then(e=>{var t={cacheable_cursor:e.cacheable_cursor,notifications:[]};return null==e.notifications?Promise.resolve(t):(e.notifications.forEach(e=>{t.notifications.push({code:e.code?Number(e.code):0,create_time:e.create_time,id:e.id,persistent:e.persistent,sender_id:e.sender_id,subject:e.subject,content:e.content?JSON.parse(e.content):void 0})}),Promise.resolve(t))})})}listStorageObjects(e,t,n,r,o){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listStorageObjects(e.token,t,n,r,o).then(e=>{var t={objects:[],cursor:e.cursor};return null==e.objects?Promise.resolve(t):(e.objects.forEach(e=>{t.objects.push({collection:e.collection,key:e.key,permission_read:e.permission_read?Number(e.permission_read):0,permission_write:e.permission_write?Number(e.permission_write):0,value:e.value?JSON.parse(e.value):void 0,version:e.version,user_id:e.user_id,create_time:e.create_time,update_time:e.update_time})}),Promise.resolve(t))})})}listTournaments(e,t,n,r,o,i,s){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listTournaments(e.token,t,n,r,o,i,s).then(e=>{var t={cursor:e.cursor,tournaments:[]};return null!=e.tournaments&&e.tournaments.forEach(e=>{t.tournaments.push({id:e.id,title:e.title,description:e.description,duration:e.duration?Number(e.duration):0,category:e.category?Number(e.category):0,sort_order:e.sort_order?Number(e.sort_order):0,size:e.size?Number(e.size):0,max_size:e.max_size?Number(e.max_size):0,max_num_score:e.max_num_score?Number(e.max_num_score):0,can_enter:e.can_enter,end_active:e.end_active?Number(e.end_active):0,next_reset:e.next_reset?Number(e.next_reset):0,metadata:e.metadata?JSON.parse(e.metadata):void 0,create_time:e.create_time,start_time:e.start_time,end_time:e.end_time,start_active:e.start_active})}),Promise.resolve(t)})})}listTournamentRecords(e,t,n,r,o,i){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listTournamentRecords(e.token,t,n,r,o,i).then(e=>{var t={next_cursor:e.next_cursor,prev_cursor:e.prev_cursor,owner_records:[],records:[]};return null!=e.owner_records&&e.owner_records.forEach(e=>{t.owner_records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,rank:e.rank?Number(e.rank):0,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0})}),null!=e.records&&e.records.forEach(e=>{t.records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,rank:e.rank?Number(e.rank):0,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0})}),Promise.resolve(t)})})}listTournamentRecordsAroundOwner(e,t,n,r,o){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listTournamentRecordsAroundOwner(e.token,t,n,r,o).then(e=>{var t={next_cursor:e.next_cursor,prev_cursor:e.prev_cursor,owner_records:[],records:[]};return null!=e.owner_records&&e.owner_records.forEach(e=>{t.owner_records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,rank:e.rank?Number(e.rank):0,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0})}),null!=e.records&&e.records.forEach(e=>{t.records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,rank:e.rank?Number(e.rank):0,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0})}),Promise.resolve(t)})})}promoteGroupUsers(e,t,n){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.promoteGroupUsers(e.token,t,n)})}readStorageObjects(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.readStorageObjects(e.token,t).then(e=>{var t={objects:[]};return null==e.objects?Promise.resolve(t):(e.objects.forEach(e=>{t.objects.push({collection:e.collection,key:e.key,permission_read:e.permission_read?Number(e.permission_read):0,permission_write:e.permission_write?Number(e.permission_write):0,value:e.value?JSON.parse(e.value):void 0,version:e.version,user_id:e.user_id,create_time:e.create_time,update_time:e.update_time})}),Promise.resolve(t))})})}rpc(e,t,n){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.rpcFunc(e.token,t,JSON.stringify(n)).then(e=>Promise.resolve({id:e.id,payload:e.payload?JSON.parse(e.payload):void 0}))})}rpcHttpKey(e,t,n){return d(this,null,function*(){return this.apiClient.rpcFunc2("",t,n&&JSON.stringify(n)||"",e).then(e=>Promise.resolve({id:e.id,payload:e.payload?JSON.parse(e.payload):void 0})).catch(e=>{throw e})})}sessionLogout(e,t,n){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.sessionLogout(e.token,{refresh_token:n,token:t}).then(e=>void 0!==e)})}sessionRefresh(e){return d(this,arguments,function*(e,t=new Map){if(!e)return console.error("Cannot refresh a null session."),e;e.created&&e.expires_at-e.created_at<70&&console.warn("Session lifetime too short, please set '--session.token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/install-configuration/#session"),e.created&&e.refresh_expires_at-e.created_at<3700&&console.warn("Session refresh lifetime too short, please set '--session.refresh_token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/install-configuration/#session");const n=yield this.apiClient.sessionRefresh(this.serverkey,"",{token:e.refresh_token,vars:t});return e.update(n.token,n.refresh_token),e})}unlinkApple(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkApple(e.token,t).then(e=>void 0!==e)})}unlinkCustom(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkCustom(e.token,t).then(e=>void 0!==e)})}unlinkDevice(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkDevice(e.token,t).then(e=>void 0!==e)})}unlinkEmail(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkEmail(e.token,t).then(e=>void 0!==e)})}unlinkFacebook(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkFacebook(e.token,t).then(e=>void 0!==e)})}unlinkFacebookInstantGame(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkFacebookInstantGame(e.token,t).then(e=>void 0!==e)})}unlinkGoogle(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkGoogle(e.token,t).then(e=>void 0!==e)})}unlinkGameCenter(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkGameCenter(e.token,t).then(e=>void 0!==e)})}unlinkSteam(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkSteam(e.token,t).then(e=>void 0!==e)})}updateAccount(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.updateAccount(e.token,t).then(e=>void 0!==e)})}updateGroup(e,t,n){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.updateGroup(e.token,t,n).then(e=>void 0!==e)})}validatePurchaseApple(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.validatePurchaseApple(e.token,{receipt:t})})}validatePurchaseGoogle(e,t){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.validatePurchaseGoogle(e.token,{purchase:t})})}validatePurchaseHuawei(e,t,n){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.validatePurchaseHuawei(e.token,{purchase:t,signature:n})})}writeLeaderboardRecord(e,t,n){return d(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.writeLeaderboardRecord(e.token,t,{metadata:n.metadata?JSON.stringify(n.metadata):void 0,score:n.score,subscore:n.subscore}).then(e=>Promise.resolve({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0,rank:e.rank?Number(e.rank):0}))})}writeStorageObjects(e,t){return d(this,null,function*(){this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e));var n={objects:[]};return t.forEach(e=>{n.objects.push({collection:e.collection,key:e.key,permission_read:e.permission_read,permission_write:e.permission_write,value:JSON.stringify(e.value),version:e.version})}),this.apiClient.writeStorageObjects(e.token,n)})}writeTournamentRecord(e,t,n){return d(this,null,function*(){return this.apiClient.writeTournamentRecord(e.token,t,{metadata:n.metadata?JSON.stringify(n.metadata):void 0,score:n.score,subscore:n.subscore}).then(e=>Promise.resolve({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0,rank:e.rank?Number(e.rank):0}))})}}}).call(this,e("buffer").Buffer)},{buffer:2}],6:[function(e,t,n){(function(e){(function(){var r,o=200,i="Expected a function",s="__lodash_placeholder__",a=1,u=2,c=4,l=1,f=2,h=1,p=2,d=4,_=8,m=16,y=32,g=64,v=128,b=256,w=512,I=800,R=16,O=1/0,P=9007199254740991,k=17976931348623157e292,C=NaN,S=4294967295,U=S-1,E=S>>>1,A=[["ary",v],["bind",h],["bindKey",p],["curry",_],["curryRight",m],["flip",w],["partial",y],["partialRight",g],["rearg",b]],M="[object Arguments]",T="[object Array]",j="[object AsyncFunction]",x="[object Boolean]",N="[object Date]",L="[object DOMException]",F="[object Error]",D="[object Function]",B="[object GeneratorFunction]",G="[object Map]",q="[object Number]",z="[object Null]",V="[object Object]",W="[object Proxy]",J="[object RegExp]",H="[object Set]",Y="[object String]",K="[object Symbol]",Q="[object Undefined]",Z="[object WeakMap]",X="[object ArrayBuffer]",$="[object DataView]",ee="[object Float32Array]",te="[object Float64Array]",ne="[object Int8Array]",re="[object Int16Array]",oe="[object Int32Array]",ie="[object Uint8Array]",se="[object Uint8ClampedArray]",ae="[object Uint16Array]",ue="[object Uint32Array]",ce=/\b__p \+= '';/g,le=/\b(__p \+=) '' \+/g,fe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,he=/&(?:amp|lt|gt|quot|#39);/g,pe=/[&<>"']/g,de=RegExp(he.source),_e=RegExp(pe.source),me=/<%-([\s\S]+?)%>/g,ye=/<%([\s\S]+?)%>/g,ge=/<%=([\s\S]+?)%>/g,ve=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,be=/^\w*$/,we=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ie=/[\\^$.*+?()[\]{}|]/g,Re=RegExp(Ie.source),Oe=/^\s+/,Pe=/\s/,ke=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ce=/\{\n\/\* \[wrapped with (.+)\] \*/,Se=/,? & /,Ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ee=/[()=,{}\[\]\/\s]/,Ae=/\\(\\)?/g,Me=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Te=/\w*$/,je=/^[-+]0x[0-9a-f]+$/i,xe=/^0b[01]+$/i,Ne=/^\[object .+?Constructor\]$/,Le=/^0o[0-7]+$/i,Fe=/^(?:0|[1-9]\d*)$/,De=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Be=/($^)/,Ge=/['\n\r\u2028\u2029\\]/g,qe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ze="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ve="["+ze+"]",We="["+qe+"]",Je="\\d+",He="[a-z\\xdf-\\xf6\\xf8-\\xff]",Ye="[^\\ud800-\\udfff"+ze+Je+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Ke="\\ud83c[\\udffb-\\udfff]",Qe="[^\\ud800-\\udfff]",Ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Xe="[\\ud800-\\udbff][\\udc00-\\udfff]",$e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",et="(?:"+He+"|"+Ye+")",tt="(?:"+$e+"|"+Ye+")",nt="(?:"+We+"|"+Ke+")?",rt="[\\ufe0e\\ufe0f]?"+nt+"(?:\\u200d(?:"+[Qe,Ze,Xe].join("|")+")[\\ufe0e\\ufe0f]?"+nt+")*",ot="(?:"+["[\\u2700-\\u27bf]",Ze,Xe].join("|")+")"+rt,it="(?:"+[Qe+We+"?",We,Ze,Xe,"[\\ud800-\\udfff]"].join("|")+")",st=RegExp("['\u2019]","g"),at=RegExp(We,"g"),ut=RegExp(Ke+"(?="+Ke+")|"+it+rt,"g"),ct=RegExp([$e+"?"+He+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[Ve,$e,"$"].join("|")+")",tt+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[Ve,$e+et,"$"].join("|")+")",$e+"?"+et+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",$e+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Je,ot].join("|"),"g"),lt=RegExp("[\\u200d\\ud800-\\udfff"+qe+"\\ufe0e\\ufe0f]"),ft=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ht=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],pt=-1,dt={};dt[ee]=dt[te]=dt[ne]=dt[re]=dt[oe]=dt[ie]=dt[se]=dt[ae]=dt[ue]=!0,dt[M]=dt[T]=dt[X]=dt[x]=dt[$]=dt[N]=dt[F]=dt[D]=dt[G]=dt[q]=dt[V]=dt[J]=dt[H]=dt[Y]=dt[Z]=!1;var _t={};_t[M]=_t[T]=_t[X]=_t[$]=_t[x]=_t[N]=_t[ee]=_t[te]=_t[ne]=_t[re]=_t[oe]=_t[G]=_t[q]=_t[V]=_t[J]=_t[H]=_t[Y]=_t[K]=_t[ie]=_t[se]=_t[ae]=_t[ue]=!0,_t[F]=_t[D]=_t[Z]=!1;var mt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},yt=parseFloat,gt=parseInt,vt="object"==typeof e&&e&&e.Object===Object&&e,bt="object"==typeof self&&self&&self.Object===Object&&self,wt=vt||bt||Function("","return this")(),It="object"==typeof n&&n&&!n.nodeType&&n,Rt=It&&"object"==typeof t&&t&&!t.nodeType&&t,Ot=Rt&&Rt.exports===It,Pt=Ot&&vt.process,kt=function(){try{return Rt&&Rt.require&&Rt.require("util").types||Pt&&Pt.binding&&Pt.binding("util")}catch(e){}}(),Ct=kt&&kt.isArrayBuffer,St=kt&&kt.isDate,Ut=kt&&kt.isMap,Et=kt&&kt.isRegExp,At=kt&&kt.isSet,Mt=kt&&kt.isTypedArray;function Tt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function jt(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}function xt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Nt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Lt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ft(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}function Dt(e,t){return!(null==e||!e.length)&&Zt(e,t,0)>-1}function Bt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Gt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function qt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function zt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Vt(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Wt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Jt=tn("length");function Ht(e){return e.split("")}function Yt(e){return e.match(Ue)||[]}function Kt(e,t,n){var r;return n(e,function(e,n,o){if(t(e,n,o))return r=n,!1}),r}function Qt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Zt(e,t,n){return t==t?Sn(e,t,n):Qt(e,$t,n)}function Xt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function $t(e){return e!=e}function en(e,t){var n=null==e?0:e.length;return n?sn(e,t)/n:C}function tn(e){return function(t){return null==t?r:t[e]}}function nn(e){return function(t){return null==e?r:e[t]}}function rn(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function on(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function sn(e,t){for(var n,o=-1,i=e.length;++o<i;){var s=t(e[o]);s!==r&&(n=n===r?s:n+s)}return n}function an(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function un(e,t){return Gt(t,function(t){return[t,e[t]]})}function cn(e){return e?e.slice(0,Mn(e)+1).replace(Oe,""):e}function ln(e){return function(t){return e(t)}}function fn(e,t){return Gt(t,function(t){return e[t]})}function hn(e,t){return e.has(t)}function pn(e,t){for(var n=-1,r=e.length;++n<r&&Zt(t,e[n],0)>-1;);return n}function dn(e,t){for(var n=e.length;n--&&Zt(t,e[n],0)>-1;);return n}function _n(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var mn=nn({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),yn=nn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function gn(e){return"\\"+mt[e]}function vn(e,t){return null==e?r:e[t]}function bn(e){return lt.test(e)}function wn(e){return ft.test(e)}function In(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function Rn(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function On(e,t){return function(n){return e(t(n))}}function Pn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,i[o++]=n)}return i}function kn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function Cn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function Sn(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}function Un(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}function En(e){return bn(e)?jn(e):Jt(e)}function An(e){return bn(e)?xn(e):Ht(e)}function Mn(e){for(var t=e.length;t--&&Pe.test(e.charAt(t)););return t}var Tn=nn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});function jn(e){for(var t=ut.lastIndex=0;ut.test(e);)++t;return t}function xn(e){return e.match(ut)||[]}function Nn(e){return e.match(ct)||[]}var Ln=function e(t){var n,Pe=(t=null==t?wt:Ln.defaults(wt.Object(),t,Ln.pick(wt,ht))).Array,Ue=t.Date,qe=t.Error,ze=t.Function,Ve=t.Math,We=t.Object,Je=t.RegExp,He=t.String,Ye=t.TypeError,Ke=Pe.prototype,Qe=ze.prototype,Ze=We.prototype,Xe=t["__core-js_shared__"],$e=Qe.toString,et=Ze.hasOwnProperty,tt=0,nt=(n=/[^.]+$/.exec(Xe&&Xe.keys&&Xe.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",rt=Ze.toString,ot=$e.call(We),it=wt._,ut=Je("^"+$e.call(et).replace(Ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ct=Ot?t.Buffer:r,lt=t.Symbol,ft=t.Uint8Array,mt=ct?ct.allocUnsafe:r,vt=On(We.getPrototypeOf,We),bt=We.create,It=Ze.propertyIsEnumerable,Rt=Ke.splice,Pt=lt?lt.isConcatSpreadable:r,kt=lt?lt.iterator:r,Jt=lt?lt.toStringTag:r,Ht=function(){try{var e=os(We,"defineProperty");return e({},"",{}),e}catch(t){}}(),nn=t.clearTimeout!==wt.clearTimeout&&t.clearTimeout,Sn=Ue&&Ue.now!==wt.Date.now&&Ue.now,jn=t.setTimeout!==wt.setTimeout&&t.setTimeout,xn=Ve.ceil,Fn=Ve.floor,Dn=We.getOwnPropertySymbols,Bn=ct?ct.isBuffer:r,Gn=t.isFinite,qn=Ke.join,zn=On(We.keys,We),Vn=Ve.max,Wn=Ve.min,Jn=Ue.now,Hn=t.parseInt,Yn=Ve.random,Kn=Ke.reverse,Qn=os(t,"DataView"),Zn=os(t,"Map"),Xn=os(t,"Promise"),$n=os(t,"Set"),er=os(t,"WeakMap"),tr=os(We,"create"),nr=er&&new er,rr={},or=Bs(Qn),ir=Bs(Zn),sr=Bs(Xn),ar=Bs($n),ur=Bs(er),cr=lt?lt.prototype:r,lr=cr?cr.valueOf:r,fr=cr?cr.toString:r;function hr(e){if(ou(e)&&!Ha(e)&&!(e instanceof mr)){if(e instanceof _r)return e;if(et.call(e,"__wrapped__"))return qs(e)}return new _r(e)}var pr=function(){function e(){}return function(t){if(!ru(t))return{};if(bt)return bt(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function dr(){}function _r(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function mr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=S,this.__views__=[]}function yr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function gr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function vr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function br(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new vr;++t<n;)this.add(e[t])}function wr(e){var t=this.__data__=new gr(e);this.size=t.size}function Ir(e,t){var n=Ha(e),r=!n&&Ja(e),o=!n&&!r&&Za(e),i=!n&&!r&&!o&&hu(e),s=n||r||o||i,a=s?an(e.length,He):[],u=a.length;for(var c in e)!t&&!et.call(e,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ys(c,u))||a.push(c);return a}function Rr(e){var t=e.length;return t?e[Eo(0,t-1)]:r}function Or(e,t){return Ls(_i(e),jr(t,0,e.length))}function Pr(e){return Ls(_i(e))}function kr(e,t,n){(n===r||za(e[t],n))&&(n!==r||t in e)||Mr(e,t,n)}function Cr(e,t,n){var o=e[t];et.call(e,t)&&za(o,n)&&(n!==r||t in e)||Mr(e,t,n)}function Sr(e,t){for(var n=e.length;n--;)if(za(e[n][0],t))return n;return-1}function Ur(e,t,n,r){return Br(e,function(e,o,i){t(r,e,n(e),i)}),r}function Er(e,t){return e&&mi(t,ju(t),e)}function Ar(e,t){return e&&mi(t,xu(t),e)}function Mr(e,t,n){"__proto__"==t&&Ht?Ht(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Tr(e,t){for(var n=-1,o=t.length,i=Pe(o),s=null==e;++n<o;)i[n]=s?r:Uu(e,t[n]);return i}function jr(e,t,n){return e==e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function xr(e,t,n,o,i,s){var l,f=t&a,h=t&u,p=t&c;if(n&&(l=i?n(e,o,i,s):n(e)),l!==r)return l;if(!ru(e))return e;var d=Ha(e);if(d){if(l=hs(e),!f)return _i(e,l)}else{var _=us(e),m=_==D||_==B;if(Za(e))return si(e,f);if(_==V||_==M||m&&!i){if(l=h||m?{}:ps(e),!f)return h?gi(e,Ar(l,e)):yi(e,Er(l,e))}else{if(!_t[_])return i?e:{};l=ds(e,_,f)}}s||(s=new wr);var y=s.get(e);if(y)return y;s.set(e,l),cu(e)?e.forEach(function(r){l.add(xr(r,t,n,r,e,s))}):iu(e)&&e.forEach(function(r,o){l.set(o,xr(r,t,n,o,e,s))});var g=d?r:(p?h?Zi:Qi:h?xu:ju)(e);return xt(g||e,function(r,o){g&&(r=e[o=r]),Cr(l,o,xr(r,t,n,o,e,s))}),l}function Nr(e){var t=ju(e);return function(n){return Lr(n,e,t)}}function Lr(e,t,n){var o=n.length;if(null==e)return!o;for(e=We(e);o--;){var i=n[o],s=t[i],a=e[i];if(a===r&&!(i in e)||!s(a))return!1}return!0}function Fr(e,t,n){if("function"!=typeof e)throw new Ye(i);return Ts(function(){e.apply(r,n)},t)}function Dr(e,t,n,r){var i=-1,s=Dt,a=!0,u=e.length,c=[],l=t.length;if(!u)return c;n&&(t=Gt(t,ln(n))),r?(s=Bt,a=!1):t.length>=o&&(s=hn,a=!1,t=new br(t));e:for(;++i<u;){var f=e[i],h=null==n?f:n(f);if(f=r||0!==f?f:0,a&&h==h){for(var p=l;p--;)if(t[p]===h)continue e;c.push(f)}else s(t,h,r)||c.push(f)}return c}hr.templateSettings={escape:me,evaluate:ye,interpolate:ge,variable:"",imports:{_:hr}},hr.prototype=dr.prototype,hr.prototype.constructor=hr,_r.prototype=pr(dr.prototype),_r.prototype.constructor=_r,mr.prototype=pr(dr.prototype),mr.prototype.constructor=mr,yr.prototype.clear=function(){this.__data__=tr?tr(null):{},this.size=0},yr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},yr.prototype.get=function(e){var t=this.__data__;if(tr){var n=t[e];return"__lodash_hash_undefined__"===n?r:n}return et.call(t,e)?t[e]:r},yr.prototype.has=function(e){var t=this.__data__;return tr?t[e]!==r:et.call(t,e)},yr.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=tr&&t===r?"__lodash_hash_undefined__":t,this},gr.prototype.clear=function(){this.__data__=[],this.size=0},gr.prototype.delete=function(e){var t=this.__data__,n=Sr(t,e);return!(n<0||(n==t.length-1?t.pop():Rt.call(t,n,1),--this.size,0))},gr.prototype.get=function(e){var t=this.__data__,n=Sr(t,e);return n<0?r:t[n][1]},gr.prototype.has=function(e){return Sr(this.__data__,e)>-1},gr.prototype.set=function(e,t){var n=this.__data__,r=Sr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},vr.prototype.clear=function(){this.size=0,this.__data__={hash:new yr,map:new(Zn||gr),string:new yr}},vr.prototype.delete=function(e){var t=ns(this,e).delete(e);return this.size-=t?1:0,t},vr.prototype.get=function(e){return ns(this,e).get(e)},vr.prototype.has=function(e){return ns(this,e).has(e)},vr.prototype.set=function(e,t){var n=ns(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},br.prototype.add=br.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},br.prototype.has=function(e){return this.__data__.has(e)},wr.prototype.clear=function(){this.__data__=new gr,this.size=0},wr.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},wr.prototype.get=function(e){return this.__data__.get(e)},wr.prototype.has=function(e){return this.__data__.has(e)},wr.prototype.set=function(e,t){var n=this.__data__;if(n instanceof gr){var r=n.__data__;if(!Zn||r.length<o-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new vr(r)}return n.set(e,t),this.size=n.size,this};var Br=wi(Kr),Gr=wi(Qr,!0);function qr(e,t){var n=!0;return Br(e,function(e,r,o){return n=!!t(e,r,o)}),n}function zr(e,t,n){for(var o=-1,i=e.length;++o<i;){var s=e[o],a=t(s);if(null!=a&&(u===r?a==a&&!fu(a):n(a,u)))var u=a,c=s}return c}function Vr(e,t,n,o){var i=e.length;for((n=yu(n))<0&&(n=-n>i?0:i+n),(o=o===r||o>i?i:yu(o))<0&&(o+=i),o=n>o?0:gu(o);n<o;)e[n++]=t;return e}function Wr(e,t){var n=[];return Br(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function Jr(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=ms),o||(o=[]);++i<s;){var a=e[i];t>0&&n(a)?t>1?Jr(a,t-1,n,r,o):qt(o,a):r||(o[o.length]=a)}return o}var Hr=Ii(),Yr=Ii(!0);function Kr(e,t){return e&&Hr(e,t,ju)}function Qr(e,t){return e&&Yr(e,t,ju)}function Zr(e,t){return Ft(t,function(t){return eu(e[t])})}function Xr(e,t){for(var n=0,o=(t=ni(t,e)).length;null!=e&&n<o;)e=e[Ds(t[n++])];return n&&n==o?e:r}function $r(e,t,n){var r=t(e);return Ha(e)?r:qt(r,n(e))}function eo(e){return null==e?e===r?Q:z:Jt&&Jt in We(e)?is(e):Cs(e)}function to(e,t){return e>t}function no(e,t){return null!=e&&et.call(e,t)}function ro(e,t){return null!=e&&t in We(e)}function oo(e,t,n){return e>=Wn(t,n)&&e<Vn(t,n)}function io(e,t,n){for(var o=n?Bt:Dt,i=e[0].length,s=e.length,a=s,u=Pe(s),c=1/0,l=[];a--;){var f=e[a];a&&t&&(f=Gt(f,ln(t))),c=Wn(f.length,c),u[a]=!n&&(t||i>=120&&f.length>=120)?new br(a&&f):r}f=e[0];var h=-1,p=u[0];e:for(;++h<i&&l.length<c;){var d=f[h],_=t?t(d):d;if(d=n||0!==d?d:0,!(p?hn(p,_):o(l,_,n))){for(a=s;--a;){var m=u[a];if(!(m?hn(m,_):o(e[a],_,n)))continue e}p&&p.push(_),l.push(d)}}return l}function so(e,t,n,r){return Kr(e,function(e,o,i){t(r,n(e),o,i)}),r}function ao(e,t,n){var o=null==(e=Us(e,t=ni(t,e)))?e:e[Ds($s(t))];return null==o?r:Tt(o,e,n)}function uo(e){return ou(e)&&eo(e)==M}function co(e,t,n,r,o){return e===t||(null==e||null==t||!ou(e)&&!ou(t)?e!=e&&t!=t:lo(e,t,n,r,co,o))}function lo(e,t,n,r,o,i){var s=Ha(e),a=Ha(t),u=s?T:us(e),c=a?T:us(t),f=(u=u==M?V:u)==V,h=(c=c==M?V:c)==V,p=u==c;if(p&&Za(e)){if(!Za(t))return!1;s=!0,f=!1}if(p&&!f)return i||(i=new wr),s||hu(e)?Ji(e,t,n,r,o,i):Hi(e,t,u,n,r,o,i);if(!(n&l)){var d=f&&et.call(e,"__wrapped__"),_=h&&et.call(t,"__wrapped__");if(d||_){var m=d?e.value():e,y=_?t.value():t;return i||(i=new wr),o(m,y,n,r,i)}}return!!p&&(i||(i=new wr),Yi(e,t,n,r,o,i))}function fo(e,t,n,o){var i=n.length,s=i,a=!o;if(null==e)return!s;for(e=We(e);i--;){var u=n[i];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<s;){var c=(u=n[i])[0],h=e[c],p=u[1];if(a&&u[2]){if(h===r&&!(c in e))return!1}else{var d=new wr;if(o)var _=o(h,p,c,e,t,d);if(!(_===r?co(p,h,l|f,o,d):_))return!1}}return!0}function ho(e){return!(!ru(e)||(t=e,nt&&nt in t))&&(eu(e)?ut:Ne).test(Bs(e));var t}function po(e){return"function"==typeof e?e:null==e?sc:"object"==typeof e?Ha(e)?bo(e[0],e[1]):vo(e):_c(e)}function _o(e){if(!Is(e))return zn(e);var t=[];for(var n in We(e))et.call(e,n)&&"constructor"!=n&&t.push(n);return t}function mo(e){if(!ru(e))return ks(e);var t=Is(e),n=[];for(var r in e)("constructor"!=r||!t&&et.call(e,r))&&n.push(r);return n}function yo(e,t){return e<t}function go(e,t){var n=-1,r=Ka(e)?Pe(e.length):[];return Br(e,function(e,o,i){r[++n]=t(e,o,i)}),r}function vo(e){var t=rs(e);return 1==t.length&&t[0][2]?Os(t[0][0],t[0][1]):function(n){return n===e||fo(n,e,t)}}function bo(e,t){return vs(e)&&Rs(t)?Os(Ds(e),t):function(n){var o=Uu(n,e);return o===r&&o===t?Eu(n,e):co(t,o,l|f)}}function wo(e,t,n,o,i){e!==t&&Hr(t,function(s,a){if(i||(i=new wr),ru(s))Io(e,t,a,n,wo,o,i);else{var u=o?o(As(e,a),s,a+"",e,t,i):r;u===r&&(u=s),kr(e,a,u)}},xu)}function Io(e,t,n,o,i,s,a){var u=As(e,n),c=As(t,n),l=a.get(c);if(l)kr(e,n,l);else{var f=s?s(u,c,n+"",e,t,a):r,h=f===r;if(h){var p=Ha(c),d=!p&&Za(c),_=!p&&!d&&hu(c);f=c,p||d||_?Ha(u)?f=u:Qa(u)?f=_i(u):d?(h=!1,f=si(c,!0)):_?(h=!1,f=li(c,!0)):f=[]:au(c)||Ja(c)?(f=u,Ja(u)?f=bu(u):ru(u)&&!eu(u)||(f=ps(c))):h=!1}h&&(a.set(c,f),i(f,c,o,s,a),a.delete(c)),kr(e,n,f)}}function Ro(e,t){var n=e.length;if(n)return ys(t+=t<0?n:0,n)?e[t]:r}function Oo(e,t,n){t=t.length?Gt(t,function(e){return Ha(e)?function(t){return Xr(t,1===e.length?e[0]:e)}:e}):[sc];var r=-1;return t=Gt(t,ln(ts())),on(go(e,function(e){return{criteria:Gt(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return hi(e,t,n)})}function Po(e,t){return ko(e,t,function(t,n){return Eu(e,n)})}function ko(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var s=t[r],a=Xr(e,s);n(a,s)&&No(i,ni(s,e),a)}return i}function Co(e){return function(t){return Xr(t,e)}}function So(e,t,n,r){var o=r?Xt:Zt,i=-1,s=t.length,a=e;for(e===t&&(t=_i(t)),n&&(a=Gt(e,ln(n)));++i<s;)for(var u=0,c=t[i],l=n?n(c):c;(u=o(a,l,u,r))>-1;)a!==e&&Rt.call(a,u,1),Rt.call(e,u,1);return e}function Uo(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;ys(o)?Rt.call(e,o,1):Yo(e,o)}}return e}function Eo(e,t){return e+Fn(Yn()*(t-e+1))}function Ao(e,t,n,r){for(var o=-1,i=Vn(xn((t-e)/(n||1)),0),s=Pe(i);i--;)s[r?i:++o]=e,e+=n;return s}function Mo(e,t){var n="";if(!e||t<1||t>P)return n;do{t%2&&(n+=e),(t=Fn(t/2))&&(e+=e)}while(t);return n}function To(e,t){return js(Ss(e,t,sc),e+"")}function jo(e){return Rr(zu(e))}function xo(e,t){var n=zu(e);return Ls(n,jr(t,0,n.length))}function No(e,t,n,o){if(!ru(e))return e;for(var i=-1,s=(t=ni(t,e)).length,a=s-1,u=e;null!=u&&++i<s;){var c=Ds(t[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=a){var f=u[c];(l=o?o(f,c,u):r)===r&&(l=ru(f)?f:ys(t[i+1])?[]:{})}Cr(u,c,l),u=u[c]}return e}var Lo=nr?function(e,t){return nr.set(e,t),e}:sc,Fo=Ht?function(e,t){return Ht(e,"toString",{configurable:!0,enumerable:!1,value:rc(t),writable:!0})}:sc;function Do(e){return Ls(zu(e))}function Bo(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Pe(o);++r<o;)i[r]=e[r+t];return i}function Go(e,t){var n;return Br(e,function(e,r,o){return!(n=t(e,r,o))}),!!n}function qo(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=E){for(;r<o;){var i=r+o>>>1,s=e[i];null!==s&&!fu(s)&&(n?s<=t:s<t)?r=i+1:o=i}return o}return zo(e,t,sc,n)}function zo(e,t,n,o){var i=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!=t,u=null===t,c=fu(t),l=t===r;i<s;){var f=Fn((i+s)/2),h=n(e[f]),p=h!==r,d=null===h,_=h==h,m=fu(h);if(a)var y=o||_;else y=l?_&&(o||p):u?_&&p&&(o||!d):c?_&&p&&!d&&(o||!m):!d&&!m&&(o?h<=t:h<t);y?i=f+1:s=f}return Wn(s,U)}function Vo(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!za(a,u)){var u=a;i[o++]=0===s?0:s}}return i}function Wo(e){return"number"==typeof e?e:fu(e)?C:+e}function Jo(e){if("string"==typeof e)return e;if(Ha(e))return Gt(e,Jo)+"";if(fu(e))return fr?fr.call(e):"";var t=e+"";return"0"==t&&1/e==-O?"-0":t}function Ho(e,t,n){var r=-1,i=Dt,s=e.length,a=!0,u=[],c=u;if(n)a=!1,i=Bt;else if(s>=o){var l=t?null:Bi(e);if(l)return kn(l);a=!1,i=hn,c=new br}else c=t?[]:u;e:for(;++r<s;){var f=e[r],h=t?t(f):f;if(f=n||0!==f?f:0,a&&h==h){for(var p=c.length;p--;)if(c[p]===h)continue e;t&&c.push(h),u.push(f)}else i(c,h,n)||(c!==u&&c.push(h),u.push(f))}return u}function Yo(e,t){return null==(e=Us(e,t=ni(t,e)))||delete e[Ds($s(t))]}function Ko(e,t,n,r){return No(e,t,n(Xr(e,t)),r)}function Qo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?Bo(e,r?0:i,r?i+1:o):Bo(e,r?i+1:0,r?o:i)}function Zo(e,t){var n=e;return n instanceof mr&&(n=n.value()),zt(t,function(e,t){return t.func.apply(t.thisArg,qt([e],t.args))},n)}function Xo(e,t,n){var r=e.length;if(r<2)return r?Ho(e[0]):[];for(var o=-1,i=Pe(r);++o<r;)for(var s=e[o],a=-1;++a<r;)a!=o&&(i[o]=Dr(i[o]||s,e[a],t,n));return Ho(Jr(i,1),t,n)}function $o(e,t,n){for(var o=-1,i=e.length,s=t.length,a={};++o<i;){var u=o<s?t[o]:r;n(a,e[o],u)}return a}function ei(e){return Qa(e)?e:[]}function ti(e){return"function"==typeof e?e:sc}function ni(e,t){return Ha(e)?e:vs(e,t)?[e]:Fs(wu(e))}var ri=To;function oi(e,t,n){var o=e.length;return n=n===r?o:n,!t&&n>=o?e:Bo(e,t,n)}var ii=nn||function(e){return wt.clearTimeout(e)};function si(e,t){if(t)return e.slice();var n=e.length,r=mt?mt(n):new e.constructor(n);return e.copy(r),r}function ai(e){var t=new e.constructor(e.byteLength);return new ft(t).set(new ft(e)),t}function ui(e,t){var n=t?ai(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function ci(e){var t=new e.constructor(e.source,Te.exec(e));return t.lastIndex=e.lastIndex,t}function li(e,t){var n=t?ai(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function fi(e,t){if(e!==t){var n=e!==r,o=null===e,i=e==e,s=fu(e),a=t!==r,u=null===t,c=t==t,l=fu(t);if(!u&&!l&&!s&&e>t||s&&a&&c&&!u&&!l||o&&a&&c||!n&&c||!i)return 1;if(!o&&!s&&!l&&e<t||l&&n&&i&&!o&&!s||u&&n&&i||!a&&i||!c)return-1}return 0}function hi(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,s=o.length,a=n.length;++r<s;){var u=fi(o[r],i[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}function pi(e,t,n,r){for(var o=-1,i=e.length,s=n.length,a=-1,u=t.length,c=Vn(i-s,0),l=Pe(u+c),f=!r;++a<u;)l[a]=t[a];for(;++o<s;)(f||o<i)&&(l[n[o]]=e[o]);for(;c--;)l[a++]=e[o++];return l}function di(e,t,n,r){for(var o=-1,i=e.length,s=-1,a=n.length,u=-1,c=t.length,l=Vn(i-a,0),f=Pe(l+c),h=!r;++o<l;)f[o]=e[o];for(var p=o;++u<c;)f[p+u]=t[u];for(;++s<a;)(h||o<i)&&(f[p+n[s]]=e[o++]);return f}function _i(e,t){var n=-1,r=e.length;for(t||(t=Pe(r));++n<r;)t[n]=e[n];return t}function mi(e,t,n,o){var i=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var u=t[s],c=o?o(n[u],e[u],u,n,e):r;c===r&&(c=e[u]),i?Mr(n,u,c):Cr(n,u,c)}return n}function yi(e,t){return mi(e,ss(e),t)}function gi(e,t){return mi(e,as(e),t)}function vi(e,t){return function(n,r){var o=Ha(n)?jt:Ur,i=t?t():{};return o(n,e,ts(r,2),i)}}function bi(e){return To(function(t,n){var o=-1,i=n.length,s=i>1?n[i-1]:r,a=i>2?n[2]:r;for(s=e.length>3&&"function"==typeof s?(i--,s):r,a&&gs(n[0],n[1],a)&&(s=i<3?r:s,i=1),t=We(t);++o<i;){var u=n[o];u&&e(t,u,o,s)}return t})}function wi(e,t){return function(n,r){if(null==n)return n;if(!Ka(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=We(n);(t?i--:++i<o)&&!1!==r(s[i],i,s););return n}}function Ii(e){return function(t,n,r){for(var o=-1,i=We(t),s=r(t),a=s.length;a--;){var u=s[e?a:++o];if(!1===n(i[u],u,i))break}return t}}function Ri(e,t,n){var r=t&h,o=ki(e);return function t(){return(this&&this!==wt&&this instanceof t?o:e).apply(r?n:this,arguments)}}function Oi(e){return function(t){var n=bn(t=wu(t))?An(t):r,o=n?n[0]:t.charAt(0),i=n?oi(n,1).join(""):t.slice(1);return o[e]()+i}}function Pi(e){return function(t){return zt(ec(Ju(t).replace(st,"")),e,"")}}function ki(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=pr(e.prototype),r=e.apply(n,t);return ru(r)?r:n}}function Ci(e,t,n){var o=ki(e);return function i(){for(var s=arguments.length,a=Pe(s),u=s,c=es(i);u--;)a[u]=arguments[u];var l=s<3&&a[0]!==c&&a[s-1]!==c?[]:Pn(a,c);return(s-=l.length)<n?Fi(e,t,Ei,i.placeholder,r,a,l,r,r,n-s):Tt(this&&this!==wt&&this instanceof i?o:e,this,a)}}function Si(e){return function(t,n,o){var i=We(t);if(!Ka(t)){var s=ts(n,3);t=ju(t),n=function(e){return s(i[e],e,i)}}var a=e(t,n,o);return a>-1?i[s?t[a]:a]:r}}function Ui(e){return Ki(function(t){var n=t.length,o=n,s=_r.prototype.thru;for(e&&t.reverse();o--;){var a=t[o];if("function"!=typeof a)throw new Ye(i);if(s&&!u&&"wrapper"==$i(a))var u=new _r([],!0)}for(o=u?o:n;++o<n;){var c=$i(a=t[o]),l="wrapper"==c?Xi(a):r;u=l&&bs(l[0])&&l[1]==(v|_|y|b)&&!l[4].length&&1==l[9]?u[$i(l[0])].apply(u,l[3]):1==a.length&&bs(a)?u[c]():u.thru(a)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Ha(r))return u.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}})}function Ei(e,t,n,o,i,s,a,u,c,l){var f=t&v,d=t&h,y=t&p,g=t&(_|m),b=t&w,I=y?r:ki(e);return function r(){for(var h=arguments.length,p=Pe(h),_=h;_--;)p[_]=arguments[_];if(g)var m=es(r),v=_n(p,m);if(o&&(p=pi(p,o,i,g)),s&&(p=di(p,s,a,g)),h-=v,g&&h<l){var w=Pn(p,m);return Fi(e,t,Ei,r.placeholder,n,p,w,u,c,l-h)}var R=d?n:this,O=y?R[e]:e;return h=p.length,u?p=Es(p,u):b&&h>1&&p.reverse(),f&&c<h&&(p.length=c),this&&this!==wt&&this instanceof r&&(O=I||ki(O)),O.apply(R,p)}}function Ai(e,t){return function(n,r){return so(n,e,t(r),{})}}function Mi(e,t){return function(n,o){var i;if(n===r&&o===r)return t;if(n!==r&&(i=n),o!==r){if(i===r)return o;"string"==typeof n||"string"==typeof o?(n=Jo(n),o=Jo(o)):(n=Wo(n),o=Wo(o)),i=e(n,o)}return i}}function Ti(e){return Ki(function(t){return t=Gt(t,ln(ts())),To(function(n){var r=this;return e(t,function(e){return Tt(e,r,n)})})})}function ji(e,t){var n=(t=t===r?" ":Jo(t)).length;if(n<2)return n?Mo(t,e):t;var o=Mo(t,xn(e/En(t)));return bn(t)?oi(An(o),0,e).join(""):o.slice(0,e)}function xi(e,t,n,r){var o=t&h,i=ki(e);return function t(){for(var s=-1,a=arguments.length,u=-1,c=r.length,l=Pe(c+a),f=this&&this!==wt&&this instanceof t?i:e;++u<c;)l[u]=r[u];for(;a--;)l[u++]=arguments[++s];return Tt(f,o?n:this,l)}}function Ni(e){return function(t,n,o){return o&&"number"!=typeof o&&gs(t,n,o)&&(n=o=r),t=mu(t),n===r?(n=t,t=0):n=mu(n),Ao(t,n,o=o===r?t<n?1:-1:mu(o),e)}}function Li(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=vu(t),n=vu(n)),e(t,n)}}function Fi(e,t,n,o,i,s,a,u,c,l){var f=t&_;t|=f?y:g,(t&=~(f?g:y))&d||(t&=~(h|p));var m=[e,t,i,f?s:r,f?a:r,f?r:s,f?r:a,u,c,l],v=n.apply(r,m);return bs(e)&&Ms(v,m),v.placeholder=o,xs(v,e,t)}function Di(e){var t=Ve[e];return function(e,n){if(e=vu(e),(n=null==n?0:Wn(yu(n),292))&&Gn(e)){var r=(wu(e)+"e").split("e");return+((r=(wu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Bi=$n&&1/kn(new $n([,-0]))[1]==O?function(e){return new $n(e)}:fc;function Gi(e){return function(t){var n=us(t);return n==G?Rn(t):n==H?Cn(t):un(t,e(t))}}function qi(e,t,n,o,s,a,u,c){var l=t&p;if(!l&&"function"!=typeof e)throw new Ye(i);var f=o?o.length:0;if(f||(t&=~(y|g),o=s=r),u=u===r?u:Vn(yu(u),0),c=c===r?c:yu(c),f-=s?s.length:0,t&g){var d=o,v=s;o=s=r}var b=l?r:Xi(e),w=[e,t,n,o,s,d,v,a,u,c];if(b&&Ps(w,b),e=w[0],t=w[1],n=w[2],o=w[3],s=w[4],!(c=w[9]=w[9]===r?l?0:e.length:Vn(w[9]-f,0))&&t&(_|m)&&(t&=~(_|m)),t&&t!=h)I=t==_||t==m?Ci(e,t,c):t!=y&&t!=(h|y)||s.length?Ei.apply(r,w):xi(e,t,n,o);else var I=Ri(e,t,n);return xs((b?Lo:Ms)(I,w),e,t)}function zi(e,t,n,o){return e===r||za(e,Ze[n])&&!et.call(o,n)?t:e}function Vi(e,t,n,o,i,s){return ru(e)&&ru(t)&&(s.set(t,e),wo(e,t,r,Vi,s),s.delete(t)),e}function Wi(e){return au(e)?r:e}function Ji(e,t,n,o,i,s){var a=n&l,u=e.length,c=t.length;if(u!=c&&!(a&&c>u))return!1;var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var d=-1,_=!0,m=n&f?new br:r;for(s.set(e,t),s.set(t,e);++d<u;){var y=e[d],g=t[d];if(o)var v=a?o(g,y,d,t,e,s):o(y,g,d,e,t,s);if(v!==r){if(v)continue;_=!1;break}if(m){if(!Wt(t,function(e,t){if(!hn(m,t)&&(y===e||i(y,e,n,o,s)))return m.push(t)})){_=!1;break}}else if(y!==g&&!i(y,g,n,o,s)){_=!1;break}}return s.delete(e),s.delete(t),_}function Hi(e,t,n,r,o,i,s){switch(n){case $:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case X:return!(e.byteLength!=t.byteLength||!i(new ft(e),new ft(t)));case x:case N:case q:return za(+e,+t);case F:return e.name==t.name&&e.message==t.message;case J:case Y:return e==t+"";case G:var a=Rn;case H:var u=r&l;if(a||(a=kn),e.size!=t.size&&!u)return!1;var c=s.get(e);if(c)return c==t;r|=f,s.set(e,t);var h=Ji(a(e),a(t),r,o,i,s);return s.delete(e),h;case K:if(lr)return lr.call(e)==lr.call(t)}return!1}function Yi(e,t,n,o,i,s){var a=n&l,u=Qi(e),c=u.length;if(c!=Qi(t).length&&!a)return!1;for(var f=c;f--;){var h=u[f];if(!(a?h in t:et.call(t,h)))return!1}var p=s.get(e),d=s.get(t);if(p&&d)return p==t&&d==e;var _=!0;s.set(e,t),s.set(t,e);for(var m=a;++f<c;){var y=e[h=u[f]],g=t[h];if(o)var v=a?o(g,y,h,t,e,s):o(y,g,h,e,t,s);if(!(v===r?y===g||i(y,g,n,o,s):v)){_=!1;break}m||(m="constructor"==h)}if(_&&!m){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(_=!1)}return s.delete(e),s.delete(t),_}function Ki(e){return js(Ss(e,r,Ys),e+"")}function Qi(e){return $r(e,ju,ss)}function Zi(e){return $r(e,xu,as)}var Xi=nr?function(e){return nr.get(e)}:fc;function $i(e){for(var t=e.name+"",n=rr[t],r=et.call(rr,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function es(e){return(et.call(hr,"placeholder")?hr:e).placeholder}function ts(){var e=hr.iteratee||ac;return e=e===ac?po:e,arguments.length?e(arguments[0],arguments[1]):e}function ns(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function rs(e){for(var t=ju(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Rs(o)]}return t}function os(e,t){var n=vn(e,t);return ho(n)?n:r}function is(e){var t=et.call(e,Jt),n=e[Jt];try{e[Jt]=r;var o=!0}catch(s){}var i=rt.call(e);return o&&(t?e[Jt]=n:delete e[Jt]),i}var ss=Dn?function(e){return null==e?[]:(e=We(e),Ft(Dn(e),function(t){return It.call(e,t)}))}:gc,as=Dn?function(e){for(var t=[];e;)qt(t,ss(e)),e=vt(e);return t}:gc,us=eo;function cs(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],s=i.size;switch(i.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=Wn(t,e+s);break;case"takeRight":e=Vn(e,t-s)}}return{start:e,end:t}}function ls(e){var t=e.match(Ce);return t?t[1].split(Se):[]}function fs(e,t,n){for(var r=-1,o=(t=ni(t,e)).length,i=!1;++r<o;){var s=Ds(t[r]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&nu(o)&&ys(s,o)&&(Ha(e)||Ja(e))}function hs(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&et.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function ps(e){return"function"!=typeof e.constructor||Is(e)?{}:pr(vt(e))}function ds(e,t,n){var r,o=e.constructor;switch(t){case X:return ai(e);case x:case N:return new o(+e);case $:return ui(e,n);case ee:case te:case ne:case re:case oe:case ie:case se:case ae:case ue:return li(e,n);case G:return new o;case q:case Y:return new o(e);case J:return ci(e);case H:return new o;case K:return r=e,lr?We(lr.call(r)):{}}}function _s(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ke,"{\n/* [wrapped with "+t+"] */\n")}function ms(e){return Ha(e)||Ja(e)||!!(Pt&&e&&e[Pt])}function ys(e,t){var n=typeof e;return!!(t=null==t?P:t)&&("number"==n||"symbol"!=n&&Fe.test(e))&&e>-1&&e%1==0&&e<t}function gs(e,t,n){if(!ru(n))return!1;var r=typeof t;return!!("number"==r?Ka(n)&&ys(t,n.length):"string"==r&&t in n)&&za(n[t],e)}function vs(e,t){if(Ha(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!fu(e))||be.test(e)||!ve.test(e)||null!=t&&e in We(t)}function bs(e){var t=$i(e),n=hr[t];if("function"!=typeof n||!(t in mr.prototype))return!1;if(e===n)return!0;var r=Xi(n);return!!r&&e===r[0]}(Qn&&us(new Qn(new ArrayBuffer(1)))!=$||Zn&&us(new Zn)!=G||Xn&&"[object Promise]"!=us(Xn.resolve())||$n&&us(new $n)!=H||er&&us(new er)!=Z)&&(us=function(e){var t=eo(e),n=t==V?e.constructor:r,o=n?Bs(n):"";if(o)switch(o){case or:return $;case ir:return G;case sr:return"[object Promise]";case ar:return H;case ur:return Z}return t});var ws=Xe?eu:vc;function Is(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ze)}function Rs(e){return e==e&&!ru(e)}function Os(e,t){return function(n){return null!=n&&n[e]===t&&(t!==r||e in We(n))}}function Ps(e,t){var n=e[1],r=t[1],o=n|r,i=o<(h|p|v),a=r==v&&n==_||r==v&&n==b&&e[7].length<=t[8]||r==(v|b)&&t[7].length<=t[8]&&n==_;if(!i&&!a)return e;r&h&&(e[2]=t[2],o|=n&h?0:d);var u=t[3];if(u){var c=e[3];e[3]=c?pi(c,u,t[4]):u,e[4]=c?Pn(e[3],s):t[4]}return(u=t[5])&&(c=e[5],e[5]=c?di(c,u,t[6]):u,e[6]=c?Pn(e[5],s):t[6]),(u=t[7])&&(e[7]=u),r&v&&(e[8]=null==e[8]?t[8]:Wn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}function ks(e){var t=[];if(null!=e)for(var n in We(e))t.push(n);return t}function Cs(e){return rt.call(e)}function Ss(e,t,n){return t=Vn(t===r?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=Vn(r.length-t,0),s=Pe(i);++o<i;)s[o]=r[t+o];o=-1;for(var a=Pe(t+1);++o<t;)a[o]=r[o];return a[t]=n(s),Tt(e,this,a)}}function Us(e,t){return t.length<2?e:Xr(e,Bo(t,0,-1))}function Es(e,t){for(var n=e.length,o=Wn(t.length,n),i=_i(e);o--;){var s=t[o];e[o]=ys(s,n)?i[s]:r}return e}function As(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ms=Ns(Lo),Ts=jn||function(e,t){return wt.setTimeout(e,t)},js=Ns(Fo);function xs(e,t,n){var r=t+"";return js(e,_s(r,Gs(ls(r),n)))}function Ns(e){var t=0,n=0;return function(){var o=Jn(),i=R-(o-n);if(n=o,i>0){if(++t>=I)return arguments[0]}else t=0;return e.apply(r,arguments)}}function Ls(e,t){var n=-1,o=e.length,i=o-1;for(t=t===r?o:t;++n<t;){var s=Eo(n,i),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Fs=function(){var e=La(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(we,function(e,n,r,o){t.push(r?o.replace(Ae,"$1"):n||e)}),t},function(e){return 500===t.size&&t.clear(),e}),t=e.cache;return e}();function Ds(e){if("string"==typeof e||fu(e))return e;var t=e+"";return"0"==t&&1/e==-O?"-0":t}function Bs(e){if(null!=e){try{return $e.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Gs(e,t){return xt(A,function(n){var r="_."+n[0];t&n[1]&&!Dt(e,r)&&e.push(r)}),e.sort()}function qs(e){if(e instanceof mr)return e.clone();var t=new _r(e.__wrapped__,e.__chain__);return t.__actions__=_i(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var zs=To(function(e,t){return Qa(e)?Dr(e,Jr(t,1,Qa,!0)):[]}),Vs=To(function(e,t){var n=$s(t);return Qa(n)&&(n=r),Qa(e)?Dr(e,Jr(t,1,Qa,!0),ts(n,2)):[]}),Ws=To(function(e,t){var n=$s(t);return Qa(n)&&(n=r),Qa(e)?Dr(e,Jr(t,1,Qa,!0),r,n):[]});function Js(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:yu(n);return o<0&&(o=Vn(r+o,0)),Qt(e,ts(t,3),o)}function Hs(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var i=o-1;return n!==r&&(i=yu(n),i=n<0?Vn(o+i,0):Wn(i,o-1)),Qt(e,ts(t,3),i,!0)}function Ys(e){return null!=e&&e.length?Jr(e,1):[]}function Ks(e){return e&&e.length?e[0]:r}var Qs=To(function(e){var t=Gt(e,ei);return t.length&&t[0]===e[0]?io(t):[]}),Zs=To(function(e){var t=$s(e),n=Gt(e,ei);return t===$s(n)?t=r:n.pop(),n.length&&n[0]===e[0]?io(n,ts(t,2)):[]}),Xs=To(function(e){var t=$s(e),n=Gt(e,ei);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?io(n,r,t):[]});function $s(e){var t=null==e?0:e.length;return t?e[t-1]:r}var ea=To(ta);function ta(e,t){return e&&e.length&&t&&t.length?So(e,t):e}var na=Ki(function(e,t){var n=null==e?0:e.length,r=Tr(e,t);return Uo(e,Gt(t,function(e){return ys(e,n)?+e:e}).sort(fi)),r});function ra(e){return null==e?e:Kn.call(e)}var oa=To(function(e){return Ho(Jr(e,1,Qa,!0))}),ia=To(function(e){var t=$s(e);return Qa(t)&&(t=r),Ho(Jr(e,1,Qa,!0),ts(t,2))}),sa=To(function(e){var t=$s(e);return t="function"==typeof t?t:r,Ho(Jr(e,1,Qa,!0),r,t)});function aa(e){if(!e||!e.length)return[];var t=0;return e=Ft(e,function(e){if(Qa(e))return t=Vn(e.length,t),!0}),an(t,function(t){return Gt(e,tn(t))})}function ua(e,t){if(!e||!e.length)return[];var n=aa(e);return null==t?n:Gt(n,function(e){return Tt(t,r,e)})}var ca=To(function(e,t){return Qa(e)?Dr(e,t):[]}),la=To(function(e){return Xo(Ft(e,Qa))}),fa=To(function(e){var t=$s(e);return Qa(t)&&(t=r),Xo(Ft(e,Qa),ts(t,2))}),ha=To(function(e){var t=$s(e);return t="function"==typeof t?t:r,Xo(Ft(e,Qa),r,t)}),pa=To(aa),da=To(function(e){var t=e.length,n=t>1?e[t-1]:r;return n="function"==typeof n?(e.pop(),n):r,ua(e,n)});function _a(e){var t=hr(e);return t.__chain__=!0,t}function ma(e,t){return t(e)}var ya=Ki(function(e){var t=e.length,n=t?e[0]:0,o=this.__wrapped__,i=function(t){return Tr(t,e)};return!(t>1||this.__actions__.length)&&o instanceof mr&&ys(n)?((o=o.slice(n,+n+(t?1:0))).__actions__.push({func:ma,args:[i],thisArg:r}),new _r(o,this.__chain__).thru(function(e){return t&&!e.length&&e.push(r),e})):this.thru(i)}),ga=vi(function(e,t,n){et.call(e,n)?++e[n]:Mr(e,n,1)}),va=Si(Js),ba=Si(Hs);function wa(e,t){return(Ha(e)?xt:Br)(e,ts(t,3))}function Ia(e,t){return(Ha(e)?Nt:Gr)(e,ts(t,3))}var Ra=vi(function(e,t,n){et.call(e,n)?e[n].push(t):Mr(e,n,[t])}),Oa=To(function(e,t,n){var r=-1,o="function"==typeof t,i=Ka(e)?Pe(e.length):[];return Br(e,function(e){i[++r]=o?Tt(t,e,n):ao(e,t,n)}),i}),Pa=vi(function(e,t,n){Mr(e,n,t)});function ka(e,t){return(Ha(e)?Gt:go)(e,ts(t,3))}var Ca=vi(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Sa=To(function(e,t){if(null==e)return[];var n=t.length;return n>1&&gs(e,t[0],t[1])?t=[]:n>2&&gs(t[0],t[1],t[2])&&(t=[t[0]]),Oo(e,Jr(t,1),[])}),Ua=Sn||function(){return wt.Date.now()};function Ea(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,qi(e,v,r,r,r,r,t)}function Aa(e,t){var n;if("function"!=typeof t)throw new Ye(i);return e=yu(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var Ma=To(function(e,t,n){var r=h;if(n.length){var o=Pn(n,es(Ma));r|=y}return qi(e,r,t,n,o)}),Ta=To(function(e,t,n){var r=h|p;if(n.length){var o=Pn(n,es(Ta));r|=y}return qi(t,r,e,n,o)});function ja(e,t,n){var o,s,a,u,c,l,f=0,h=!1,p=!1,d=!0;if("function"!=typeof e)throw new Ye(i);function _(t){var n=o,i=s;return o=s=r,f=t,u=e.apply(i,n)}function m(e){return f=e,c=Ts(v,t),h?_(e):u}function y(e){var n=t-(e-l);return p?Wn(n,a-(e-f)):n}function g(e){var n=e-l;return l===r||n>=t||n<0||p&&e-f>=a}function v(){var e=Ua();if(g(e))return b(e);c=Ts(v,y(e))}function b(e){return c=r,d&&o?_(e):(o=s=r,u)}function w(){var e=Ua(),n=g(e);if(o=arguments,s=this,l=e,n){if(c===r)return m(l);if(p)return ii(c),c=Ts(v,t),_(l)}return c===r&&(c=Ts(v,t)),u}return t=vu(t)||0,ru(n)&&(h=!!n.leading,a=(p="maxWait"in n)?Vn(vu(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d),w.cancel=function(){c!==r&&ii(c),f=0,o=l=s=c=r},w.flush=function(){return c===r?u:b(Ua())},w}var xa=To(function(e,t){return Fr(e,1,t)}),Na=To(function(e,t,n){return Fr(e,vu(t)||0,n)});function La(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ye(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(La.Cache||vr),n}function Fa(e){if("function"!=typeof e)throw new Ye(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}La.Cache=vr;var Da=ri(function(e,t){var n=(t=1==t.length&&Ha(t[0])?Gt(t[0],ln(ts())):Gt(Jr(t,1),ln(ts()))).length;return To(function(r){for(var o=-1,i=Wn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return Tt(e,this,r)})}),Ba=To(function(e,t){var n=Pn(t,es(Ba));return qi(e,y,r,t,n)}),Ga=To(function(e,t){var n=Pn(t,es(Ga));return qi(e,g,r,t,n)}),qa=Ki(function(e,t){return qi(e,b,r,r,r,t)});function za(e,t){return e===t||e!=e&&t!=t}var Va=Li(to),Wa=Li(function(e,t){return e>=t}),Ja=uo(function(){return arguments}())?uo:function(e){return ou(e)&&et.call(e,"callee")&&!It.call(e,"callee")},Ha=Pe.isArray,Ya=Ct?ln(Ct):function(e){return ou(e)&&eo(e)==X};function Ka(e){return null!=e&&nu(e.length)&&!eu(e)}function Qa(e){return ou(e)&&Ka(e)}var Za=Bn||vc,Xa=St?ln(St):function(e){return ou(e)&&eo(e)==N};function $a(e){if(!ou(e))return!1;var t=eo(e);return t==F||t==L||"string"==typeof e.message&&"string"==typeof e.name&&!au(e)}function eu(e){if(!ru(e))return!1;var t=eo(e);return t==D||t==B||t==j||t==W}function tu(e){return"number"==typeof e&&e==yu(e)}function nu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=P}function ru(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ou(e){return null!=e&&"object"==typeof e}var iu=Ut?ln(Ut):function(e){return ou(e)&&us(e)==G};function su(e){return"number"==typeof e||ou(e)&&eo(e)==q}function au(e){if(!ou(e)||eo(e)!=V)return!1;var t=vt(e);if(null===t)return!0;var n=et.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&$e.call(n)==ot}var uu=Et?ln(Et):function(e){return ou(e)&&eo(e)==J},cu=At?ln(At):function(e){return ou(e)&&us(e)==H};function lu(e){return"string"==typeof e||!Ha(e)&&ou(e)&&eo(e)==Y}function fu(e){return"symbol"==typeof e||ou(e)&&eo(e)==K}var hu=Mt?ln(Mt):function(e){return ou(e)&&nu(e.length)&&!!dt[eo(e)]},pu=Li(yo),du=Li(function(e,t){return e<=t});function _u(e){if(!e)return[];if(Ka(e))return lu(e)?An(e):_i(e);if(kt&&e[kt])return In(e[kt]());var t=us(e);return(t==G?Rn:t==H?kn:zu)(e)}function mu(e){return e?(e=vu(e))===O||e===-O?(e<0?-1:1)*k:e==e?e:0:0===e?e:0}function yu(e){var t=mu(e),n=t%1;return t==t?n?t-n:t:0}function gu(e){return e?jr(yu(e),0,S):0}function vu(e){if("number"==typeof e)return e;if(fu(e))return C;if(ru(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ru(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=cn(e);var n=xe.test(e);return n||Le.test(e)?gt(e.slice(2),n?2:8):je.test(e)?C:+e}function bu(e){return mi(e,xu(e))}function wu(e){return null==e?"":Jo(e)}var Iu=bi(function(e,t){if(Is(t)||Ka(t))mi(t,ju(t),e);else for(var n in t)et.call(t,n)&&Cr(e,n,t[n])}),Ru=bi(function(e,t){mi(t,xu(t),e)}),Ou=bi(function(e,t,n,r){mi(t,xu(t),e,r)}),Pu=bi(function(e,t,n,r){mi(t,ju(t),e,r)}),ku=Ki(Tr),Cu=To(function(e,t){e=We(e);var n=-1,o=t.length,i=o>2?t[2]:r;for(i&&gs(t[0],t[1],i)&&(o=1);++n<o;)for(var s=t[n],a=xu(s),u=-1,c=a.length;++u<c;){var l=a[u],f=e[l];(f===r||za(f,Ze[l])&&!et.call(e,l))&&(e[l]=s[l])}return e}),Su=To(function(e){return e.push(r,Vi),Tt(Lu,r,e)});function Uu(e,t,n){var o=null==e?r:Xr(e,t);return o===r?n:o}function Eu(e,t){return null!=e&&fs(e,t,ro)}var Au=Ai(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=rt.call(t)),e[t]=n},rc(sc)),Mu=Ai(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=rt.call(t)),et.call(e,t)?e[t].push(n):e[t]=[n]},ts),Tu=To(ao);function ju(e){return Ka(e)?Ir(e):_o(e)}function xu(e){return Ka(e)?Ir(e,!0):mo(e)}var Nu=bi(function(e,t,n){wo(e,t,n)}),Lu=bi(function(e,t,n,r){wo(e,t,n,r)}),Fu=Ki(function(e,t){var n={};if(null==e)return n;var r=!1;t=Gt(t,function(t){return t=ni(t,e),r||(r=t.length>1),t}),mi(e,Zi(e),n),r&&(n=xr(n,a|u|c,Wi));for(var o=t.length;o--;)Yo(n,t[o]);return n}),Du=Ki(function(e,t){return null==e?{}:Po(e,t)});function Bu(e,t){if(null==e)return{};var n=Gt(Zi(e),function(e){return[e]});return t=ts(t),ko(e,n,function(e,n){return t(e,n[0])})}var Gu=Gi(ju),qu=Gi(xu);function zu(e){return null==e?[]:fn(e,ju(e))}var Vu=Pi(function(e,t,n){return t=t.toLowerCase(),e+(n?Wu(t):t)});function Wu(e){return $u(wu(e).toLowerCase())}function Ju(e){return(e=wu(e))&&e.replace(De,mn).replace(at,"")}var Hu=Pi(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Yu=Pi(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Ku=Oi("toLowerCase"),Qu=Pi(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Zu=Pi(function(e,t,n){return e+(n?" ":"")+$u(t)}),Xu=Pi(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),$u=Oi("toUpperCase");function ec(e,t,n){return e=wu(e),(t=n?r:t)===r?wn(e)?Nn(e):Yt(e):e.match(t)||[]}var tc=To(function(e,t){try{return Tt(e,r,t)}catch(n){return $a(n)?n:new qe(n)}}),nc=Ki(function(e,t){return xt(t,function(t){t=Ds(t),Mr(e,t,Ma(e[t],e))}),e});function rc(e){return function(){return e}}var oc=Ui(),ic=Ui(!0);function sc(e){return e}function ac(e){return po("function"==typeof e?e:xr(e,a))}var uc=To(function(e,t){return function(n){return ao(n,e,t)}}),cc=To(function(e,t){return function(n){return ao(e,n,t)}});function lc(e,t,n){var r=ju(t),o=Zr(t,r);null!=n||ru(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Zr(t,ju(t)));var i=!(ru(n)&&"chain"in n&&!n.chain),s=eu(e);return xt(o,function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),o=n.__actions__=_i(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,qt([this.value()],arguments))})}),e}function fc(){}var hc=Ti(Gt),pc=Ti(Lt),dc=Ti(Wt);function _c(e){return vs(e)?tn(Ds(e)):Co(e)}var mc=Ni(),yc=Ni(!0);function gc(){return[]}function vc(){return!1}var bc,wc=Mi(function(e,t){return e+t},0),Ic=Di("ceil"),Rc=Mi(function(e,t){return e/t},1),Oc=Di("floor"),Pc=Mi(function(e,t){return e*t},1),kc=Di("round"),Cc=Mi(function(e,t){return e-t},0);return hr.after=function(e,t){if("function"!=typeof t)throw new Ye(i);return e=yu(e),function(){if(--e<1)return t.apply(this,arguments)}},hr.ary=Ea,hr.assign=Iu,hr.assignIn=Ru,hr.assignInWith=Ou,hr.assignWith=Pu,hr.at=ku,hr.before=Aa,hr.bind=Ma,hr.bindAll=nc,hr.bindKey=Ta,hr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ha(e)?e:[e]},hr.chain=_a,hr.chunk=function(e,t,n){t=(n?gs(e,t,n):t===r)?1:Vn(yu(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var i=0,s=0,a=Pe(xn(o/t));i<o;)a[s++]=Bo(e,i,i+=t);return a},hr.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},hr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=Pe(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return qt(Ha(n)?_i(n):[n],Jr(t,1))},hr.cond=function(e){var t=null==e?0:e.length,n=ts();return e=t?Gt(e,function(e){if("function"!=typeof e[1])throw new Ye(i);return[n(e[0]),e[1]]}):[],To(function(n){for(var r=-1;++r<t;){var o=e[r];if(Tt(o[0],this,n))return Tt(o[1],this,n)}})},hr.conforms=function(e){return Nr(xr(e,a))},hr.constant=rc,hr.countBy=ga,hr.create=function(e,t){var n=pr(e);return null==t?n:Er(n,t)},hr.curry=function e(t,n,o){var i=qi(t,_,r,r,r,r,r,n=o?r:n);return i.placeholder=e.placeholder,i},hr.curryRight=function e(t,n,o){var i=qi(t,m,r,r,r,r,r,n=o?r:n);return i.placeholder=e.placeholder,i},hr.debounce=ja,hr.defaults=Cu,hr.defaultsDeep=Su,hr.defer=xa,hr.delay=Na,hr.difference=zs,hr.differenceBy=Vs,hr.differenceWith=Ws,hr.drop=function(e,t,n){var o=null==e?0:e.length;return o?Bo(e,(t=n||t===r?1:yu(t))<0?0:t,o):[]},hr.dropRight=function(e,t,n){var o=null==e?0:e.length;return o?Bo(e,0,(t=o-(t=n||t===r?1:yu(t)))<0?0:t):[]},hr.dropRightWhile=function(e,t){return e&&e.length?Qo(e,ts(t,3),!0,!0):[]},hr.dropWhile=function(e,t){return e&&e.length?Qo(e,ts(t,3),!0):[]},hr.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&gs(e,t,n)&&(n=0,r=o),Vr(e,t,n,r)):[]},hr.filter=function(e,t){return(Ha(e)?Ft:Wr)(e,ts(t,3))},hr.flatMap=function(e,t){return Jr(ka(e,t),1)},hr.flatMapDeep=function(e,t){return Jr(ka(e,t),O)},hr.flatMapDepth=function(e,t,n){return n=n===r?1:yu(n),Jr(ka(e,t),n)},hr.flatten=Ys,hr.flattenDeep=function(e){return null!=e&&e.length?Jr(e,O):[]},hr.flattenDepth=function(e,t){return null!=e&&e.length?Jr(e,t=t===r?1:yu(t)):[]},hr.flip=function(e){return qi(e,w)},hr.flow=oc,hr.flowRight=ic,hr.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},hr.functions=function(e){return null==e?[]:Zr(e,ju(e))},hr.functionsIn=function(e){return null==e?[]:Zr(e,xu(e))},hr.groupBy=Ra,hr.initial=function(e){return null!=e&&e.length?Bo(e,0,-1):[]},hr.intersection=Qs,hr.intersectionBy=Zs,hr.intersectionWith=Xs,hr.invert=Au,hr.invertBy=Mu,hr.invokeMap=Oa,hr.iteratee=ac,hr.keyBy=Pa,hr.keys=ju,hr.keysIn=xu,hr.map=ka,hr.mapKeys=function(e,t){var n={};return t=ts(t,3),Kr(e,function(e,r,o){Mr(n,t(e,r,o),e)}),n},hr.mapValues=function(e,t){var n={};return t=ts(t,3),Kr(e,function(e,r,o){Mr(n,r,t(e,r,o))}),n},hr.matches=function(e){return vo(xr(e,a))},hr.matchesProperty=function(e,t){return bo(e,xr(t,a))},hr.memoize=La,hr.merge=Nu,hr.mergeWith=Lu,hr.method=uc,hr.methodOf=cc,hr.mixin=lc,hr.negate=Fa,hr.nthArg=function(e){return e=yu(e),To(function(t){return Ro(t,e)})},hr.omit=Fu,hr.omitBy=function(e,t){return Bu(e,Fa(ts(t)))},hr.once=function(e){return Aa(2,e)},hr.orderBy=function(e,t,n,o){return null==e?[]:(Ha(t)||(t=null==t?[]:[t]),Ha(n=o?r:n)||(n=null==n?[]:[n]),Oo(e,t,n))},hr.over=hc,hr.overArgs=Da,hr.overEvery=pc,hr.overSome=dc,hr.partial=Ba,hr.partialRight=Ga,hr.partition=Ca,hr.pick=Du,hr.pickBy=Bu,hr.property=_c,hr.propertyOf=function(e){return function(t){return null==e?r:Xr(e,t)}},hr.pull=ea,hr.pullAll=ta,hr.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?So(e,t,ts(n,2)):e},hr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?So(e,t,r,n):e},hr.pullAt=na,hr.range=mc,hr.rangeRight=yc,hr.rearg=qa,hr.reject=function(e,t){return(Ha(e)?Ft:Wr)(e,Fa(ts(t,3)))},hr.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=ts(t,3);++r<i;){var s=e[r];t(s,r,e)&&(n.push(s),o.push(r))}return Uo(e,o),n},hr.rest=function(e,t){if("function"!=typeof e)throw new Ye(i);return To(e,t=t===r?t:yu(t))},hr.reverse=ra,hr.sampleSize=function(e,t,n){return t=(n?gs(e,t,n):t===r)?1:yu(t),(Ha(e)?Or:xo)(e,t)},hr.set=function(e,t,n){return null==e?e:No(e,t,n)},hr.setWith=function(e,t,n,o){return o="function"==typeof o?o:r,null==e?e:No(e,t,n,o)},hr.shuffle=function(e){return(Ha(e)?Pr:Do)(e)},hr.slice=function(e,t,n){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&gs(e,t,n)?(t=0,n=o):(t=null==t?0:yu(t),n=n===r?o:yu(n)),Bo(e,t,n)):[]},hr.sortBy=Sa,hr.sortedUniq=function(e){return e&&e.length?Vo(e):[]},hr.sortedUniqBy=function(e,t){return e&&e.length?Vo(e,ts(t,2)):[]},hr.split=function(e,t,n){return n&&"number"!=typeof n&&gs(e,t,n)&&(t=n=r),(n=n===r?S:n>>>0)?(e=wu(e))&&("string"==typeof t||null!=t&&!uu(t))&&!(t=Jo(t))&&bn(e)?oi(An(e),0,n):e.split(t,n):[]},hr.spread=function(e,t){if("function"!=typeof e)throw new Ye(i);return t=null==t?0:Vn(yu(t),0),To(function(n){var r=n[t],o=oi(n,0,t);return r&&qt(o,r),Tt(e,this,o)})},hr.tail=function(e){var t=null==e?0:e.length;return t?Bo(e,1,t):[]},hr.take=function(e,t,n){return e&&e.length?Bo(e,0,(t=n||t===r?1:yu(t))<0?0:t):[]},hr.takeRight=function(e,t,n){var o=null==e?0:e.length;return o?Bo(e,(t=o-(t=n||t===r?1:yu(t)))<0?0:t,o):[]},hr.takeRightWhile=function(e,t){return e&&e.length?Qo(e,ts(t,3),!1,!0):[]},hr.takeWhile=function(e,t){return e&&e.length?Qo(e,ts(t,3)):[]},hr.tap=function(e,t){return t(e),e},hr.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new Ye(i);return ru(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ja(e,t,{leading:r,maxWait:t,trailing:o})},hr.thru=ma,hr.toArray=_u,hr.toPairs=Gu,hr.toPairsIn=qu,hr.toPath=function(e){return Ha(e)?Gt(e,Ds):fu(e)?[e]:_i(Fs(wu(e)))},hr.toPlainObject=bu,hr.transform=function(e,t,n){var r=Ha(e),o=r||Za(e)||hu(e);if(t=ts(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:ru(e)&&eu(i)?pr(vt(e)):{}}return(o?xt:Kr)(e,function(e,r,o){return t(n,e,r,o)}),n},hr.unary=function(e){return Ea(e,1)},hr.union=oa,hr.unionBy=ia,hr.unionWith=sa,hr.uniq=function(e){return e&&e.length?Ho(e):[]},hr.uniqBy=function(e,t){return e&&e.length?Ho(e,ts(t,2)):[]},hr.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?Ho(e,r,t):[]},hr.unset=function(e,t){return null==e||Yo(e,t)},hr.unzip=aa,hr.unzipWith=ua,hr.update=function(e,t,n){return null==e?e:Ko(e,t,ti(n))},hr.updateWith=function(e,t,n,o){return o="function"==typeof o?o:r,null==e?e:Ko(e,t,ti(n),o)},hr.values=zu,hr.valuesIn=function(e){return null==e?[]:fn(e,xu(e))},hr.without=ca,hr.words=ec,hr.wrap=function(e,t){return Ba(ti(t),e)},hr.xor=la,hr.xorBy=fa,hr.xorWith=ha,hr.zip=pa,hr.zipObject=function(e,t){return $o(e||[],t||[],Cr)},hr.zipObjectDeep=function(e,t){return $o(e||[],t||[],No)},hr.zipWith=da,hr.entries=Gu,hr.entriesIn=qu,hr.extend=Ru,hr.extendWith=Ou,lc(hr,hr),hr.add=wc,hr.attempt=tc,hr.camelCase=Vu,hr.capitalize=Wu,hr.ceil=Ic,hr.clamp=function(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=vu(n))==n?n:0),t!==r&&(t=(t=vu(t))==t?t:0),jr(vu(e),t,n)},hr.clone=function(e){return xr(e,c)},hr.cloneDeep=function(e){return xr(e,a|c)},hr.cloneDeepWith=function(e,t){return xr(e,a|c,t="function"==typeof t?t:r)},hr.cloneWith=function(e,t){return xr(e,c,t="function"==typeof t?t:r)},hr.conformsTo=function(e,t){return null==t||Lr(e,t,ju(t))},hr.deburr=Ju,hr.defaultTo=function(e,t){return null==e||e!=e?t:e},hr.divide=Rc,hr.endsWith=function(e,t,n){e=wu(e),t=Jo(t);var o=e.length,i=n=n===r?o:jr(yu(n),0,o);return(n-=t.length)>=0&&e.slice(n,i)==t},hr.eq=za,hr.escape=function(e){return(e=wu(e))&&_e.test(e)?e.replace(pe,yn):e},hr.escapeRegExp=function(e){return(e=wu(e))&&Re.test(e)?e.replace(Ie,"\\$&"):e},hr.every=function(e,t,n){var o=Ha(e)?Lt:qr;return n&&gs(e,t,n)&&(t=r),o(e,ts(t,3))},hr.find=va,hr.findIndex=Js,hr.findKey=function(e,t){return Kt(e,ts(t,3),Kr)},hr.findLast=ba,hr.findLastIndex=Hs,hr.findLastKey=function(e,t){return Kt(e,ts(t,3),Qr)},hr.floor=Oc,hr.forEach=wa,hr.forEachRight=Ia,hr.forIn=function(e,t){return null==e?e:Hr(e,ts(t,3),xu)},hr.forInRight=function(e,t){return null==e?e:Yr(e,ts(t,3),xu)},hr.forOwn=function(e,t){return e&&Kr(e,ts(t,3))},hr.forOwnRight=function(e,t){return e&&Qr(e,ts(t,3))},hr.get=Uu,hr.gt=Va,hr.gte=Wa,hr.has=function(e,t){return null!=e&&fs(e,t,no)},hr.hasIn=Eu,hr.head=Ks,hr.identity=sc,hr.includes=function(e,t,n,r){e=Ka(e)?e:zu(e),n=n&&!r?yu(n):0;var o=e.length;return n<0&&(n=Vn(o+n,0)),lu(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Zt(e,t,n)>-1},hr.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:yu(n);return o<0&&(o=Vn(r+o,0)),Zt(e,t,o)},hr.inRange=function(e,t,n){return t=mu(t),n===r?(n=t,t=0):n=mu(n),oo(e=vu(e),t,n)},hr.invoke=Tu,hr.isArguments=Ja,hr.isArray=Ha,hr.isArrayBuffer=Ya,hr.isArrayLike=Ka,hr.isArrayLikeObject=Qa,hr.isBoolean=function(e){return!0===e||!1===e||ou(e)&&eo(e)==x},hr.isBuffer=Za,hr.isDate=Xa,hr.isElement=function(e){return ou(e)&&1===e.nodeType&&!au(e)},hr.isEmpty=function(e){if(null==e)return!0;if(Ka(e)&&(Ha(e)||"string"==typeof e||"function"==typeof e.splice||Za(e)||hu(e)||Ja(e)))return!e.length;var t=us(e);if(t==G||t==H)return!e.size;if(Is(e))return!_o(e).length;for(var n in e)if(et.call(e,n))return!1;return!0},hr.isEqual=function(e,t){return co(e,t)},hr.isEqualWith=function(e,t,n){var o=(n="function"==typeof n?n:r)?n(e,t):r;return o===r?co(e,t,r,n):!!o},hr.isError=$a,hr.isFinite=function(e){return"number"==typeof e&&Gn(e)},hr.isFunction=eu,hr.isInteger=tu,hr.isLength=nu,hr.isMap=iu,hr.isMatch=function(e,t){return e===t||fo(e,t,rs(t))},hr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:r,fo(e,t,rs(t),n)},hr.isNaN=function(e){return su(e)&&e!=+e},hr.isNative=function(e){if(ws(e))throw new qe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ho(e)},hr.isNil=function(e){return null==e},hr.isNull=function(e){return null===e},hr.isNumber=su,hr.isObject=ru,hr.isObjectLike=ou,hr.isPlainObject=au,hr.isRegExp=uu,hr.isSafeInteger=function(e){return tu(e)&&e>=-P&&e<=P},hr.isSet=cu,hr.isString=lu,hr.isSymbol=fu,hr.isTypedArray=hu,hr.isUndefined=function(e){return e===r},hr.isWeakMap=function(e){return ou(e)&&us(e)==Z},hr.isWeakSet=function(e){return ou(e)&&"[object WeakSet]"==eo(e)},hr.join=function(e,t){return null==e?"":qn.call(e,t)},hr.kebabCase=Hu,hr.last=$s,hr.lastIndexOf=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var i=o;return n!==r&&(i=(i=yu(n))<0?Vn(o+i,0):Wn(i,o-1)),t==t?Un(e,t,i):Qt(e,$t,i,!0)},hr.lowerCase=Yu,hr.lowerFirst=Ku,hr.lt=pu,hr.lte=du,hr.max=function(e){return e&&e.length?zr(e,sc,to):r},hr.maxBy=function(e,t){return e&&e.length?zr(e,ts(t,2),to):r},hr.mean=function(e){return en(e,sc)},hr.meanBy=function(e,t){return en(e,ts(t,2))},hr.min=function(e){return e&&e.length?zr(e,sc,yo):r},hr.minBy=function(e,t){return e&&e.length?zr(e,ts(t,2),yo):r},hr.stubArray=gc,hr.stubFalse=vc,hr.stubObject=function(){return{}},hr.stubString=function(){return""},hr.stubTrue=function(){return!0},hr.multiply=Pc,hr.nth=function(e,t){return e&&e.length?Ro(e,yu(t)):r},hr.noConflict=function(){return wt._===this&&(wt._=it),this},hr.noop=fc,hr.now=Ua,hr.pad=function(e,t,n){e=wu(e);var r=(t=yu(t))?En(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return ji(Fn(o),n)+e+ji(xn(o),n)},hr.padEnd=function(e,t,n){e=wu(e);var r=(t=yu(t))?En(e):0;return t&&r<t?e+ji(t-r,n):e},hr.padStart=function(e,t,n){e=wu(e);var r=(t=yu(t))?En(e):0;return t&&r<t?ji(t-r,n)+e:e},hr.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Hn(wu(e).replace(Oe,""),t||0)},hr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&gs(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=mu(e),t===r?(t=e,e=0):t=mu(t)),e>t){var o=e;e=t,t=o}if(n||e%1||t%1){var i=Yn();return Wn(e+i*(t-e+yt("1e-"+((i+"").length-1))),t)}return Eo(e,t)},hr.reduce=function(e,t,n){var r=Ha(e)?zt:rn,o=arguments.length<3;return r(e,ts(t,4),n,o,Br)},hr.reduceRight=function(e,t,n){var r=Ha(e)?Vt:rn,o=arguments.length<3;return r(e,ts(t,4),n,o,Gr)},hr.repeat=function(e,t,n){return t=(n?gs(e,t,n):t===r)?1:yu(t),Mo(wu(e),t)},hr.replace=function(){var e=arguments,t=wu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},hr.result=function(e,t,n){var o=-1,i=(t=ni(t,e)).length;for(i||(i=1,e=r);++o<i;){var s=null==e?r:e[Ds(t[o])];s===r&&(o=i,s=n),e=eu(s)?s.call(e):s}return e},hr.round=kc,hr.runInContext=e,hr.sample=function(e){return(Ha(e)?Rr:jo)(e)},hr.size=function(e){if(null==e)return 0;if(Ka(e))return lu(e)?En(e):e.length;var t=us(e);return t==G||t==H?e.size:_o(e).length},hr.snakeCase=Qu,hr.some=function(e,t,n){var o=Ha(e)?Wt:Go;return n&&gs(e,t,n)&&(t=r),o(e,ts(t,3))},hr.sortedIndex=function(e,t){return qo(e,t)},hr.sortedIndexBy=function(e,t,n){return zo(e,t,ts(n,2))},hr.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=qo(e,t);if(r<n&&za(e[r],t))return r}return-1},hr.sortedLastIndex=function(e,t){return qo(e,t,!0)},hr.sortedLastIndexBy=function(e,t,n){return zo(e,t,ts(n,2),!0)},hr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=qo(e,t,!0)-1;if(za(e[n],t))return n}return-1},hr.startCase=Zu,hr.startsWith=function(e,t,n){return e=wu(e),n=null==n?0:jr(yu(n),0,e.length),t=Jo(t),e.slice(n,n+t.length)==t},hr.subtract=Cc,hr.sum=function(e){return e&&e.length?sn(e,sc):0},hr.sumBy=function(e,t){return e&&e.length?sn(e,ts(t,2)):0},hr.template=function(e,t,n){var o=hr.templateSettings;n&&gs(e,t,n)&&(t=r),e=wu(e),t=Ou({},t,o,zi);var i,s,a=Ou({},t.imports,o.imports,zi),u=ju(a),c=fn(a,u),l=0,f=t.interpolate||Be,h="__p += '",p=Je((t.escape||Be).source+"|"+f.source+"|"+(f===ge?Me:Be).source+"|"+(t.evaluate||Be).source+"|$","g"),d="//# sourceURL="+(et.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++pt+"]")+"\n";e.replace(p,function(t,n,r,o,a,u){return r||(r=o),h+=e.slice(l,u).replace(Ge,gn),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t}),h+="';\n";var _=et.call(t,"variable")&&t.variable;if(_){if(Ee.test(_))throw new qe("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(ce,""):h).replace(le,"$1").replace(fe,"$1;"),h="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=tc(function(){return ze(u,d+"return "+h).apply(r,c)});if(m.source=h,$a(m))throw m;return m},hr.times=function(e,t){if((e=yu(e))<1||e>P)return[];var n=S,r=Wn(e,S);t=ts(t),e-=S;for(var o=an(r,t);++n<e;)t(n);return o},hr.toFinite=mu,hr.toInteger=yu,hr.toLength=gu,hr.toLower=function(e){return wu(e).toLowerCase()},hr.toNumber=vu,hr.toSafeInteger=function(e){return e?jr(yu(e),-P,P):0===e?e:0},hr.toString=wu,hr.toUpper=function(e){return wu(e).toUpperCase()},hr.trim=function(e,t,n){if((e=wu(e))&&(n||t===r))return cn(e);if(!e||!(t=Jo(t)))return e;var o=An(e),i=An(t);return oi(o,pn(o,i),dn(o,i)+1).join("")},hr.trimEnd=function(e,t,n){if((e=wu(e))&&(n||t===r))return e.slice(0,Mn(e)+1);if(!e||!(t=Jo(t)))return e;var o=An(e);return oi(o,0,dn(o,An(t))+1).join("")},hr.trimStart=function(e,t,n){if((e=wu(e))&&(n||t===r))return e.replace(Oe,"");if(!e||!(t=Jo(t)))return e;var o=An(e);return oi(o,pn(o,An(t))).join("")},hr.truncate=function(e,t){var n=30,o="...";if(ru(t)){var i="separator"in t?t.separator:i;n="length"in t?yu(t.length):n,o="omission"in t?Jo(t.omission):o}var s=(e=wu(e)).length;if(bn(e)){var a=An(e);s=a.length}if(n>=s)return e;var u=n-En(o);if(u<1)return o;var c=a?oi(a,0,u).join(""):e.slice(0,u);if(i===r)return c+o;if(a&&(u+=c.length-u),uu(i)){if(e.slice(u).search(i)){var l,f=c;for(i.global||(i=Je(i.source,wu(Te.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var h=l.index;c=c.slice(0,h===r?u:h)}}else if(e.indexOf(Jo(i),u)!=u){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+o},hr.unescape=function(e){return(e=wu(e))&&de.test(e)?e.replace(he,Tn):e},hr.uniqueId=function(e){var t=++tt;return wu(e)+t},hr.upperCase=Xu,hr.upperFirst=$u,hr.each=wa,hr.eachRight=Ia,hr.first=Ks,lc(hr,(bc={},Kr(hr,function(e,t){et.call(hr.prototype,t)||(bc[t]=e)}),bc),{chain:!1}),hr.VERSION="4.17.21",xt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){hr[e].placeholder=hr}),xt(["drop","take"],function(e,t){mr.prototype[e]=function(n){n=n===r?1:Vn(yu(n),0);var o=this.__filtered__&&!t?new mr(this):this.clone();return o.__filtered__?o.__takeCount__=Wn(n,o.__takeCount__):o.__views__.push({size:Wn(n,S),type:e+(o.__dir__<0?"Right":"")}),o},mr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),xt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;mr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ts(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),xt(["head","last"],function(e,t){var n="take"+(t?"Right":"");mr.prototype[e]=function(){return this[n](1).value()[0]}}),xt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");mr.prototype[e]=function(){return this.__filtered__?new mr(this):this[n](1)}}),mr.prototype.compact=function(){return this.filter(sc)},mr.prototype.find=function(e){return this.filter(e).head()},mr.prototype.findLast=function(e){return this.reverse().find(e)},mr.prototype.invokeMap=To(function(e,t){return"function"==typeof e?new mr(this):this.map(function(n){return ao(n,e,t)})}),mr.prototype.reject=function(e){return this.filter(Fa(ts(e)))},mr.prototype.slice=function(e,t){e=yu(e);var n=this;return n.__filtered__&&(e>0||t<0)?new mr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=yu(t))<0?n.dropRight(-t):n.take(t-e)),n)},mr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},mr.prototype.toArray=function(){return this.take(S)},Kr(mr.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),i=hr[o?"take"+("last"==t?"Right":""):t],s=o||/^find/.test(t);i&&(hr.prototype[t]=function(){var t=this.__wrapped__,a=o?[1]:arguments,u=t instanceof mr,c=a[0],l=u||Ha(t),f=function(e){var t=i.apply(hr,qt([e],a));return o&&h?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var h=this.__chain__,p=!!this.__actions__.length,d=s&&!h,_=u&&!p;if(!s&&l){t=_?t:new mr(this);var m=e.apply(t,a);return m.__actions__.push({func:ma,args:[f],thisArg:r}),new _r(m,h)}return d&&_?e.apply(this,a):(m=this.thru(f),d?o?m.value()[0]:m.value():m)})}),xt(["pop","push","shift","sort","splice","unshift"],function(e){var t=Ke[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);hr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Ha(o)?o:[],e)}return this[n](function(n){return t.apply(Ha(n)?n:[],e)})}}),Kr(mr.prototype,function(e,t){var n=hr[t];if(n){var r=n.name+"";et.call(rr,r)||(rr[r]=[]),rr[r].push({name:t,func:n})}}),rr[Ei(r,p).name]=[{name:"wrapper",func:r}],mr.prototype.clone=function(){var e=new mr(this.__wrapped__);return e.__actions__=_i(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=_i(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=_i(this.__views__),e},mr.prototype.reverse=function(){if(this.__filtered__){var e=new mr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},mr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ha(e),r=t<0,o=n?e.length:0,i=cs(0,o,this.__views__),s=i.start,a=i.end,u=a-s,c=r?a:s-1,l=this.__iteratees__,f=l.length,h=0,p=Wn(u,this.__takeCount__);if(!n||!r&&o==u&&p==u)return Zo(e,this.__actions__);var d=[];e:for(;u--&&h<p;){for(var _=-1,m=e[c+=t];++_<f;){var y=l[_],g=y.iteratee,v=y.type,b=g(m);if(2==v)m=b;else if(!b){if(1==v)continue e;break e}}d[h++]=m}return d},hr.prototype.at=ya,hr.prototype.chain=function(){return _a(this)},hr.prototype.commit=function(){return new _r(this.value(),this.__chain__)},hr.prototype.next=function(){this.__values__===r&&(this.__values__=_u(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},hr.prototype.plant=function(e){for(var t,n=this;n instanceof dr;){var o=qs(n);o.__index__=0,o.__values__=r,t?i.__wrapped__=o:t=o;var i=o;n=n.__wrapped__}return i.__wrapped__=e,t},hr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof mr){var t=e;return this.__actions__.length&&(t=new mr(this)),(t=t.reverse()).__actions__.push({func:ma,args:[ra],thisArg:r}),new _r(t,this.__chain__)}return this.thru(ra)},hr.prototype.toJSON=hr.prototype.valueOf=hr.prototype.value=function(){return Zo(this.__wrapped__,this.__actions__)},hr.prototype.first=hr.prototype.head,kt&&(hr.prototype[kt]=function(){return this}),hr}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(wt._=Ln,define(function(){return Ln})):Rt?((Rt.exports=Ln)._=Ln,It._=Ln):wt._=Ln}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],AdventureScene:[function(e,t,n){"use strict";cc._RF.push(t,"3fa0dAknhBNw5ItK3d3xxRc","AdventureScene");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../standard/ui/UIManager"),a=e("../logic/GameLogic"),u=e("../models/game_constants"),c=e("../uiviews/UIConstant"),l=cc._decorator,f=l.ccclass,h=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lbEnergy=null,t.lbRuby=null,t}return o(t,e),t.prototype.start=function(){this.updateDisplay()},t.prototype.updateDisplay=function(){var e=a.GameLogic.Instance.playerProfile;this.lbEnergy.string=""+e.energy,this.lbRuby.string=""+e.gold},t.prototype.backClick=function(){cc.warn("backClick"),a.GameLogic.Instance.loadScene(u.NameScene.Lobby,function(){})},t.prototype.joinGame=function(){cc.log("joinGame"),a.GameLogic.Instance.showLoading(),a.GameLogic.Instance.getPvEMatch(),this.scheduleOnce(function(){a.GameLogic.Instance.loadScene(u.NameScene.Playing,function(){})},1)},t.prototype.onInventoryClick=function(){s.uiManager.open(c.UIIDCustom.UIInventory)},i([h(cc.Label)],t.prototype,"lbEnergy",void 0),i([h(cc.Label)],t.prototype,"lbRuby",void 0),i([f],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../../standard/ui/UIManager":"UIManager","../logic/GameLogic":"GameLogic","../models/game_constants":"game_constants","../uiviews/UIConstant":"UIConstant"}],ArenaScene:[function(e,t,n){"use strict";cc._RF.push(t,"c9badYQbypFApBm9/vMrbik","ArenaScene");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../logic/GameLogic"),a=cc._decorator,u=a.ccclass,c=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.backClick=function(){cc.warn("backClick"),s.GameLogic.Instance.loadScene("lobby",function(){})},i([u],t)}(cc.Component));n.default=c,cc._RF.pop()},{"../logic/GameLogic":"GameLogic"}],EmptyScene:[function(e,t,n){"use strict";cc._RF.push(t,"2d3e36atnNNiLeEqusEYQBm","EmptyScene");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,u=s.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t}return o(t,e),t.prototype.start=function(){var e=cc.loader;this.label.string="Current Scene Asset Count "+Object.keys(e._cache).length},i([u(cc.Label)],t.prototype,"label",void 0),i([a],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],Enemy:[function(e,t,n){"use strict";cc._RF.push(t,"a9324mmCllFN6UOS75I6vAs","Enemy");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,u=s.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._enemySpine=null,t.dmgTxt=null,t.player=null,t}return o(t,e),t.prototype.onLoad=function(){var e=this,t=this;this._enemySpine=this.node.getComponent(sp.Skeleton),this._enemySpine.setCompleteListener(function(n){(n.animation?n.animation.name:"").includes("attack")&&(e._enemySpine.clearTrack(1),t.OnEndAttack())})},t.prototype.OnEndAttack=function(){this.player.getComponent("Player").OnHit()},t.prototype.start=function(){this._enemySpine=this.node.getComponent(sp.Skeleton)},t.prototype.TakeDamage=function(){this._enemySpine.setAnimation(0,"hit",!1);var e=cc.instantiate(this.dmgTxt);this.scheduleOnce(function(){e.destroy()},400)},i([u(sp.Skeleton)],t.prototype,"_enemySpine",void 0),i([u(cc.Prefab)],t.prototype,"dmgTxt",void 0),i([u(cc.Node)],t.prototype,"player",void 0),i([a],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],EventManager:[function(e,t,n){"use strict";cc._RF.push(t,"e1b5ewyNbRHAaWWNlvuupwY","EventManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.EventMgr=n.EventManager=void 0;var r=function(){function e(){this._eventListeners={}}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.destroy=function(){this.instance&&(this.instance=null)},e.prototype.getEventListenersIndex=function(e,t,n){for(var r=-1,o=0;o<this._eventListeners[e].length;o++){var i=this._eventListeners[e][o];if(i.callBack==t&&(!n||i.target==n)){r=o;break}}return r},e.prototype.addEventListener=function(e,t,n){if(e){if(null==t)return cc.log("addEventListener callBack is nil"),!1;var r={callBack:t,target:n};return null==this._eventListeners[e]?this._eventListeners[e]=[r]:-1==this.getEventListenersIndex(e,t,n)&&this._eventListeners[e].push(r),!0}cc.warn("eventName is empty"+e)},e.prototype.setEventListener=function(e,t,n){if(e){if(null==t)return cc.log("setEventListener callBack is nil"),!1;var r={callBack:t,target:n};return this._eventListeners[e]=[r],!0}cc.warn("eventName is empty"+e)},e.prototype.removeEventListener=function(e,t,n){if(null!=this._eventListeners[e]){var r=this.getEventListenersIndex(e,t,n);-1!=r&&this._eventListeners[e].splice(r,1)}},e.prototype.raiseEvent=function(e,t){if(console.log("==================== raiseEvent "+e+" begin | "+JSON.stringify(t)),null!=this._eventListeners[e]){for(var n=[],r=0,o=this._eventListeners[e];r<o.length;r++){var i=o[r];n.push({callBack:i.callBack,target:i.target})}for(var s=0,a=n;s<a.length;s++)(i=a[s]).callBack.call(i.target,e,t)}console.log("==================== raiseEvent "+e+" end")},e.instance=null,e}();n.EventManager=r,n.EventMgr=r.getInstance(),cc._RF.pop()},{}],GameLogicInit:[function(e,t,n){"use strict";cc._RF.push(t,"a3f81l6txRJ05J7jON5tezv","GameLogicInit");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../standard/ui/UIManager"),a=e("../models/session_data"),u=e("../uiviews/UIConstant"),c=e("./GameLogic"),l=cc._decorator,f=l.ccclass,h=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameVersion="v1.0.0",t}return o(t,e),t.prototype.onLoad=function(){c.GameLogic.Instance||(cc.game.addPersistRootNode(this.node),c.GameLogic.instantiate(),c.GameLogic.Instance.GameVersion=this.gameVersion,a.default.initialize()),s.uiManager.initUIConf(u.UICFCustom)},t.prototype.start=function(){},i([h()],t.prototype,"gameVersion",void 0),i([f],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../../standard/ui/UIManager":"UIManager","../models/session_data":"session_data","../uiviews/UIConstant":"UIConstant","./GameLogic":"GameLogic"}],GameLogic:[function(e,t,n){"use strict";cc._RF.push(t,"53c64ZZ+3VJ3a136azdXWC1","GameLogic");var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.GameLogic=void 0;var o=e("../../network"),i=e("../../standard/common/EventManager"),s=e("../../standard/ui/UIManager"),a=e("../models/game_constants"),u=e("../models/session_data"),c=e("../services/storage_service"),l=e("../uiviews/UIConstant"),f=cc._decorator,h=f.ccclass,p=(f.property,function(){function e(){this.isLoadingScene=!1,this._networkAPI=null,this.gameVersion="",cc.game.on(cc.game.EVENT_HIDE,function(){i.EventMgr.raiseEvent(a.EventName.LostFocus.toString(),{})}),cc.game.on(cc.game.EVENT_SHOW,function(){i.EventMgr.raiseEvent(a.EventName.GainFocus.toString(),{})}),this.NetworkAPI}var t;return t=e,Object.defineProperty(e,"Instance",{get:function(){return this.instance},enumerable:!1,configurable:!0}),e.instantiate=function(){return this.instance=new t,this.instance},e.prototype.loadScene=function(e,t){var n=this;!1===this.isLoadingScene&&(this.isLoadingScene=!0,cc.director.loadScene(e,function(){n.isLoadingScene=!1,t&&t()}))},e.prototype.signInWithEmail=function(e,t,n,r){this.NetworkAPI.loginWithEmail(e,t,function(r){cc.log("result > ",r),cc.warn("result.InfoResultPayload > ",r),u.default.initialize(),u.default.userData.displayName=r.username,u.default.userData.userId=r.user_id,u.default.isAuthenticated=!0,c.default.Instance.setLocalItem(a.StringConstant.KEY_LOCAL_IS_SIGNED_IN,!0),c.default.Instance.setLocalItem(a.StringConstant.KEY_LOCAL_EMAIL,e),c.default.Instance.setLocalItem(a.StringConstant.KEY_LOCAL_PASSWORD,t),i.EventMgr.raiseEvent(a.EventName.UpdatedAuthentication.toString(),{}),n(r)},function(e){r(e)})},e.prototype.signUpWithEmail=function(e,t,n,r,o){this.NetworkAPI.registerAccount(t,e,n,function(e){cc.log("result > ",e),r(e)},function(e){cc.log("error > ",e),o(e)})},e.prototype.signOut=function(){c.default.Instance.setLocalItem(a.StringConstant.KEY_LOCAL_IS_SIGNED_IN,!1),u.default.isAuthenticated=!1,u.default.userData=null,u.default.playerProfile=null,i.EventMgr.raiseEvent(a.EventName.UpdatedAuthentication.toString(),{})},e.prototype.getProfile=function(e,t){this.NetworkAPI.getCurrentPlayerProfile(function(t){cc.log("getPlayerProfile",t),u.default.playerProfile=t,e(t)},function(e){u.default.userData=null,u.default.playerProfile=null,cc.error("=> getPlayerProfile: ",e),t(e)})},e.prototype.updateProfile=function(e,t,n){o.default.Instance.updatePlayerProfile(e,function(){t(),i.EventMgr.raiseEvent(a.EventName.UpdatedAuthentication.toString(),{})},function(e){cc.error("=> updateProfile: ",e),n(e)})},e.prototype.getPvEMatch=function(){o.default.Instance.getPvEMatch(function(e){cc.log("=> getPvEMatch",e)},function(e){cc.error("=> getPvEMatch: ",e)})},Object.defineProperty(e.prototype,"GameVersion",{get:function(){return this.gameVersion},set:function(e){this.gameVersion=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"NetworkAPI",{get:function(){return null==this._networkAPI&&(this._networkAPI=o.default.Instance),this._networkAPI},enumerable:!1,configurable:!0}),e.prototype.showNotice=function(e,t){s.uiManager.open(l.UIIDCustom.UINotice,{title:e,message:t})},e.prototype.showToast=function(e){s.uiManager.open(l.UIIDCustom.UIToast,{message:e})},Object.defineProperty(e.prototype,"isAuthenticated",{get:function(){return u.default.isAuthenticated},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userData",{get:function(){return u.default.userData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playerProfile",{get:function(){return u.default.playerProfile},enumerable:!1,configurable:!0}),e.prototype.checkAuthenticated=function(e){e&&e()},e.prototype.showLoading=function(){s.uiManager.open(l.UIIDCustom.UILoadingScene)},e.prototype.hideLoading=function(){s.uiManager.closeToUI(l.UIIDCustom.UILoadingScene,"hide loading")},t=r([h],e)}());n.GameLogic=p,cc._RF.pop()},{"../../network":"network","../../standard/common/EventManager":"EventManager","../../standard/ui/UIManager":"UIManager","../models/game_constants":"game_constants","../models/session_data":"session_data","../services/storage_service":"storage_service","../uiviews/UIConstant":"UIConstant"}],JumpAnim:[function(e,t,n){"use strict";cc._RF.push(t,"b7ef3QZgGFMjrZCeokSTjhq","JumpAnim");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,u=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.originalPos=null,t}return o(t,e),t.prototype.onLoad=function(){this.originalPos=this.node.position},t.prototype.start=function(){this.node.stopAllActions(),this.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(.5),cc.moveTo(.2,cc.v2(this.node.x,this.originalPos.y+20)),cc.moveTo(.2,cc.v2(this.node.x,this.originalPos.y)))))},i([a],t)}(cc.Component));n.default=u,cc._RF.pop()},{}],LoadingGame:[function(e,t,n){"use strict";cc._RF.push(t,"15f5agQeVNMVpxT3bPq9+28","LoadingGame");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../standard/common/EventManager"),a=e("../models/game_constants"),u=cc._decorator,c=u.ccclass,l=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loadingBar=null,t.loadingValue=null,t.timeLeft=0,t.fullTime=a.default.durationLoadingGame,t}return o(t,e),t.prototype.update=function(e){if(this.timeLeft<0)return s.EventMgr.raiseEvent(a.EventName.Loading_Game_Play_Finish.toString(),{}),void this.hide();this.loadingBar.progress=1-this.timeLeft/this.fullTime,this.timeLeft-=e,this.loadingValue.string=Math.ceil(100*this.loadingBar.progress)+"%"},t.prototype.show=function(){this.timeLeft=this.fullTime,this.node.active=!0},t.prototype.hide=function(){this.node.active=!1},i([l(cc.ProgressBar)],t.prototype,"loadingBar",void 0),i([l(cc.Label)],t.prototype,"loadingValue",void 0),i([c],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../standard/common/EventManager":"EventManager","../models/game_constants":"game_constants"}],LobbyScene:[function(e,t,n){"use strict";cc._RF.push(t,"9bddb+R+sdJcYeFnAYSmzAh","LobbyScene");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../standard/common/EventManager"),a=e("../../standard/ui/UIManager"),u=e("../logic/GameLogic"),c=e("../models/game_constants"),l=e("../models/session_data"),f=e("../services/storage_service"),h=e("../uiviews/UIConstant"),p=cc._decorator,d=p.ccclass,_=p.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.signInUpNode=null,t.userInfoNode=null,t.lbUsername=null,t.skeCharacter=null,t.lbEnergy=null,t.lbRuby=null,t.callFuncSignedIn=null,t}return o(t,e),t.prototype.start=function(){this.reset(),this.displayUserInfo(),this.callFuncSignedIn=this.displayUserInfo.bind(this),s.EventMgr.addEventListener(c.EventName.UpdatedAuthentication.toString(),this.callFuncSignedIn,this),this.firstLoadGame()},t.prototype.onDestroy=function(){s.EventMgr.removeEventListener(c.EventName.UpdatedAuthentication.toString(),this.callFuncSignedIn,this)},t.prototype.arenaClick=function(){u.GameLogic.Instance.checkAuthenticated(function(){u.GameLogic.Instance.showNotice("NOTICE","COMING SOON")})},t.prototype.signInClick=function(){a.uiManager.open(h.UIIDCustom.UISignIn)},t.prototype.upgradeClick=function(){u.GameLogic.Instance.checkAuthenticated(function(){a.uiManager.open(h.UIIDCustom.UIUpgrade)})},t.prototype.inventoryClick=function(){u.GameLogic.Instance.checkAuthenticated(function(){a.uiManager.open(h.UIIDCustom.UIInventory)})},t.prototype.shopClick=function(){u.GameLogic.Instance.checkAuthenticated(function(){a.uiManager.open(h.UIIDCustom.UIShop)})},t.prototype.marketClick=function(){u.GameLogic.Instance.checkAuthenticated(function(){u.GameLogic.Instance.showNotice("NOTICE","COMING SOON")})},t.prototype.adventureClick=function(){var e=this;u.GameLogic.Instance.checkAuthenticated(function(){u.GameLogic.Instance.showLoading(),e.scheduleOnce(function(){u.GameLogic.Instance.loadScene(c.NameScene.Adventure,function(){console.log("load scene:",c.NameScene.Adventure)})},1)})},t.prototype.enegryClick=function(){u.GameLogic.Instance.checkAuthenticated(function(){console.log("enegryClick")})},t.prototype.diamondClick=function(){u.GameLogic.Instance.checkAuthenticated(function(){console.log("diamondClick")})},t.prototype.settingClick=function(){u.GameLogic.Instance.checkAuthenticated(function(){console.log("settingClick"),u.GameLogic.Instance.signOut()})},t.prototype.onSignOut=function(){u.GameLogic.Instance.signOut()},t.prototype.displayUserInfo=function(){var e=this,t="true"===f.default.Instance.getLocalItem(c.StringConstant.KEY_LOCAL_IS_SIGNED_IN);t?(cc.warn("Session usser > ",u.GameLogic.Instance.userData),u.GameLogic.Instance.userData&&u.GameLogic.Instance.userData.userId&&u.GameLogic.Instance.getProfile(function(n){cc.log("getPlayerProfile",n);var r=u.GameLogic.Instance.playerProfile,o=r.metaData&&r.metaData.length>0;!o&&t&&a.uiManager.open(h.UIIDCustom.UIConnectMetaMask),e.signInUpNode.active=!t,e.userInfoNode.active=t,e.skeCharacter&&(e.skeCharacter.node.active=t&&o),null!=u.GameLogic.Instance?e.lbUsername.string=l.default.userData.displayName:e.lbUsername.string=f.default.Instance.getLocalItem(c.StringConstant.KEY_LOCAL_EMAIL),e.lbEnergy.string=""+r.energy,e.lbRuby.string=""+r.gold},function(e){cc.error("=> getPlayerProfile: ",e)})):this.reset()},t.prototype.firstLoadGame=function(){var e=this;if("true"===f.default.Instance.getLocalItem(c.StringConstant.KEY_LOCAL_IS_SIGNED_IN)&&!l.default.isAuthenticated){var t=f.default.Instance.getLocalItem(c.StringConstant.KEY_LOCAL_EMAIL),n=f.default.Instance.getLocalItem(c.StringConstant.KEY_LOCAL_PASSWORD);u.GameLogic.Instance.signInWithEmail(t,n,function(e){cc.log("result > ",e)},function(t){cc.log("error > ",t),f.default.Instance.setLocalItem(c.StringConstant.KEY_LOCAL_IS_SIGNED_IN,!1),f.default.Instance.setLocalItem(c.StringConstant.KEY_LOCAL_EMAIL,""),f.default.Instance.setLocalItem(c.StringConstant.KEY_LOCAL_PASSWORD,""),e.displayUserInfo()})}},t.prototype.reset=function(){this.signInUpNode.active=!0,this.userInfoNode.active=!1,this.skeCharacter&&(this.skeCharacter.node.active=!1),this.lbEnergy.string="60/60",this.lbRuby.string="100"},i([_(cc.Node)],t.prototype,"signInUpNode",void 0),i([_(cc.Node)],t.prototype,"userInfoNode",void 0),i([_(cc.Label)],t.prototype,"lbUsername",void 0),i([_(sp.Skeleton)],t.prototype,"skeCharacter",void 0),i([_(cc.Label)],t.prototype,"lbEnergy",void 0),i([_(cc.Label)],t.prototype,"lbRuby",void 0),i([d],t)}(cc.Component);n.default=m,cc._RF.pop()},{"../../standard/common/EventManager":"EventManager","../../standard/ui/UIManager":"UIManager","../logic/GameLogic":"GameLogic","../models/game_constants":"game_constants","../models/session_data":"session_data","../services/storage_service":"storage_service","../uiviews/UIConstant":"UIConstant"}],NetExample:[function(e,t,n){"use strict";cc._RF.push(t,"55d23dNa9JDRafcCFqeXFVH","NetExample");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../standard/network/NetInterface"),a=e("../standard/network/NetManager"),u=e("../standard/network/NetNode"),c=e("../standard/network/WebSock"),l=cc._decorator,f=l.ccclass,h=l.property,p=function(){function e(){}return e.prototype.getLabel=function(){var e=null,t=cc.director.getScene().getChildByName("@net_tip_label");return t?e=t.getComponent(cc.Label):(e=(t=new cc.Node("@net_tip_label")).addComponent(cc.Label),t.setPosition(cc.winSize.width/2,cc.winSize.height/2)),e},e.prototype.connectTips=function(e){e?(this.getLabel().string="Connecting",this.getLabel().node.active=!0):this.getLabel().node.active=!1},e.prototype.reconnectTips=function(e){e?(this.getLabel().string="Reconnecting",this.getLabel().node.active=!0):this.getLabel().node.active=!1},e.prototype.requestTips=function(e){e?(this.getLabel().string="Requesting",this.getLabel().node.active=!0):this.getLabel().node.active=!1},e}(),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.textLabel=null,t.urlLabel=null,t.msgLabel=null,t.lineCount=0,t}return o(t,e),t.prototype.onLoad=function(){var e=this,t=new u.NetNode;t.init(new c.WebSock,new s.DefStringProtocol,new p),t.setResponeHandler(0,function(t,n){if(e.lineCount>5){var r=e.msgLabel.string.search("\n");e.msgLabel.string=e.msgLabel.string.substr(r+1)}e.msgLabel.string+=n+"\n",++e.lineCount}),a.NetManager.getInstance().setNetNode(t)},t.prototype.onConnectClick=function(){a.NetManager.getInstance().connect({url:this.urlLabel.string})},t.prototype.onSendClick=function(){a.NetManager.getInstance().send(this.textLabel.string)},t.prototype.onDisconnectClick=function(){a.NetManager.getInstance().close()},i([h(cc.Label)],t.prototype,"textLabel",void 0),i([h(cc.Label)],t.prototype,"urlLabel",void 0),i([h(cc.RichText)],t.prototype,"msgLabel",void 0),i([f],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../standard/network/NetInterface":"NetInterface","../standard/network/NetManager":"NetManager","../standard/network/NetNode":"NetNode","../standard/network/WebSock":"WebSock"}],NetInterface:[function(e,t,n){"use strict";cc._RF.push(t,"d9f8b+CV69FyKwnUdCjOtad","NetInterface"),Object.defineProperty(n,"__esModule",{value:!0}),n.DefStringProtocol=void 0;var r=function(){function e(){}return e.prototype.getHeadlen=function(){return 0},e.prototype.getHearbeat=function(){return""},e.prototype.getPackageLen=function(e){return e.toString().length},e.prototype.checkPackage=function(){return!0},e.prototype.getPackageId=function(){return 0},e}();n.DefStringProtocol=r,cc._RF.pop()},{}],NetManager:[function(e,t,n){"use strict";cc._RF.push(t,"d8cd5el6GBGTYTW+N8b8EuJ","NetManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.NetManager=void 0;var r=function(){function e(){this._channels={}}return e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance},e.prototype.setNetNode=function(e,t){void 0===t&&(t=0),this._channels[t]=e},e.prototype.removeNetNode=function(e){delete this._channels[e]},e.prototype.connect=function(e,t){return void 0===t&&(t=0),!!this._channels[t]&&this._channels[t].connect(e)},e.prototype.send=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=0);var r=this._channels[n];return!!r&&r.send(e,t)},e.prototype.request=function(e,t,n,r,o,i){void 0===r&&(r=!0),void 0===o&&(o=!1),void 0===i&&(i=0);var s=this._channels[i];s&&s.request(e,t,n,r,o)},e.prototype.requestUnique=function(e,t,n,r,o,i){void 0===r&&(r=!0),void 0===o&&(o=!1),void 0===i&&(i=0);var s=this._channels[i];return!!s&&s.requestUnique(e,t,n,r,o)},e.prototype.close=function(e,t,n){if(void 0===n&&(n=0),this._channels[n])return this._channels[n].closeSocket(e,t)},e._instance=null,e}();n.NetManager=r,cc._RF.pop()},{}],NetNode:[function(e,t,n){"use strict";var r,o;cc._RF.push(t,"57f0fB90kNBUJ98yyu+jxjx","NetNode"),Object.defineProperty(n,"__esModule",{value:!0}),n.NetNode=n.NetNodeState=n.NetTipsType=void 0,function(e){e[e.Connecting=0]="Connecting",e[e.ReConnecting=1]="ReConnecting",e[e.Requesting=2]="Requesting"}(r=n.NetTipsType||(n.NetTipsType={})),function(e){e[e.Closed=0]="Closed",e[e.Connecting=1]="Connecting",e[e.Checking=2]="Checking",e[e.Working=3]="Working"}(o=n.NetNodeState||(n.NetNodeState={}));var i=function(){function e(){this._connectOptions=null,this._autoReconnect=0,this._isSocketInit=!1,this._isSocketOpen=!1,this._state=o.Closed,this._socket=null,this._networkTips=null,this._protocolHelper=null,this._connectedCallback=null,this._disconnectCallback=null,this._callbackExecuter=null,this._keepAliveTimer=null,this._receiveMsgTimer=null,this._reconnectTimer=null,this._heartTime=1e4,this._receiveTime=6e6,this._reconnetTimeOut=8e6,this._requests=Array(),this._listener={}}return e.prototype.init=function(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r=null),console.log("NetNode init socket"),this._socket=e,this._protocolHelper=t,this._networkTips=n,this._callbackExecuter=r||function(e,t){e.callback.call(e.target,0,t)}},e.prototype.connect=function(e){return!(!this._socket||this._state!=o.Closed||(this._isSocketInit||this.initSocket(),this._state=o.Connecting,this._socket.connect(e)?(null==this._connectOptions&&(e.autoReconnect=e.autoReconnect),this._connectOptions=e,this.updateNetTips(r.Connecting,!0),0):(this.updateNetTips(r.Connecting,!1),1)))},e.prototype.initSocket=function(){var e=this;this._socket.onConnected=function(t){e.onConnected(t)},this._socket.onMessage=function(t){e.onMessage(t)},this._socket.onError=function(t){e.onError(t)},this._socket.onClosed=function(t){e.onClosed(t)},this._isSocketInit=!0},e.prototype.updateNetTips=function(e,t){this._networkTips&&(e==r.Requesting?this._networkTips.requestTips(t):e==r.Connecting?this._networkTips.connectTips(t):e==r.ReConnecting&&this._networkTips.reconnectTips(t))},e.prototype.onConnected=function(){var e=this;console.log("NetNode onConnected!"),this._isSocketOpen=!0,null!==this._connectedCallback?(this._state=o.Checking,this._connectedCallback(function(){e.onChecked()})):this.onChecked(),console.log("NetNode onConnected! state ="+this._state)},e.prototype.onChecked=function(){if(console.log("NetNode onChecked!"),this._state=o.Working,this.updateNetTips(r.Connecting,!1),this.updateNetTips(r.ReConnecting,!1),console.log("NetNode flush "+this._requests.length+" request"),this._requests.length>0){for(var e=0;e<this._requests.length;){var t=this._requests[e];this._socket.send(t.buffer),null==t.rspObject||t.rspCmd<=0?this._requests.splice(e,1):++e}this.updateNetTips(r.Requesting,this.request.length>0)}},e.prototype.onMessage=function(e){if(this._protocolHelper.checkPackage(e)){this.resetReceiveMsgTimer(),this.resetHearbeatTimer();var t=this._protocolHelper.getPackageId(e);if(console.log("NetNode onMessage rspCmd = "+t),this._requests.length>0){for(var n in this._requests){var o=this._requests[n];if(o.rspCmd==t){console.log("NetNode execute request rspcmd "+t),this._callbackExecuter(o.rspObject,e),this._requests.splice(parseInt(n),1);break}}console.log("NetNode still has "+this._requests.length+" request watting"),0==this._requests.length&&this.updateNetTips(r.Requesting,!1)}var i=this._listener[t];if(null!=i)for(var s=0,a=i;s<a.length;s++){var u=a[s];console.log("NetNode execute listener cmd "+t),this._callbackExecuter(u,e)}}else console.error("NetNode checkHead Error")},e.prototype.onError=function(e){console.error(e)},e.prototype.onClosed=function(){var e=this;this.clearTimer(),!this._disconnectCallback||this._disconnectCallback()?this.isAutoReconnect()?(this.updateNetTips(r.ReConnecting,!0),this._reconnectTimer=setTimeout(function(){e._socket.close(),e._state=o.Closed,e.connect(e._connectOptions),e._autoReconnect>0&&(e._autoReconnect-=1)},this._reconnetTimeOut)):this._state=o.Closed:console.log("disconnect return!")},e.prototype.close=function(e,t){this.clearTimer(),this._listener={},this._requests.length=0,this._networkTips&&(this._networkTips.connectTips(!1),this._networkTips.reconnectTips(!1),this._networkTips.requestTips(!1)),this._socket?this._socket.close(e,t):this._state=o.Closed},e.prototype.closeSocket=function(e,t){this._socket&&this._socket.close(e,t)},e.prototype.send=function(e,t){return void 0===t&&(t=!1),this._state==o.Working||t?(console.log("socket send ..."),this._socket.send(e)):this._state==o.Checking||this._state==o.Connecting?(this._requests.push({buffer:e,rspCmd:0,rspObject:null}),console.log("NetNode socket is busy, push to send buffer, current state is "+this._state),!0):(console.error("NetNode request error! current state is "+this._state),!1)},e.prototype.request=function(e,t,n,i,s){void 0===i&&(i=!0),void 0===s&&(s=!1),(this._state==o.Working||s)&&this._socket.send(e),console.log("NetNode request with timeout for "+t),this._requests.push({buffer:e,rspCmd:t,rspObject:n}),i&&this.updateNetTips(r.Requesting,!0)},e.prototype.requestUnique=function(e,t,n,r,o){void 0===r&&(r=!0),void 0===o&&(o=!1);for(var i=0;i<this._requests.length;++i)if(this._requests[i].rspCmd==t)return console.log("NetNode requestUnique faile for "+t),!1;return this.request(e,t,n,r,o),!0},e.prototype.setResponeHandler=function(e,t,n){return null==t?(console.error("NetNode setResponeHandler error "+e),!1):(this._listener[e]=[{target:n,callback:t}],!0)},e.prototype.addResponeHandler=function(e,t,n){if(null==t)return console.error("NetNode addResponeHandler error "+e),!1;var r={target:n,callback:t};return null==this._listener[e]?this._listener[e]=[r]:-1==this.getNetListenersIndex(e,r)&&this._listener[e].push(r),!0},e.prototype.removeResponeHandler=function(e,t,n){if(null!=this._listener[e]&&null!=t){var r=this.getNetListenersIndex(e,{target:n,callback:t});-1!=r&&this._listener[e].splice(r,1)}},e.prototype.cleanListeners=function(e){void 0===e&&(e=-1),-1==e?this._listener={}:this._listener[e]=null},e.prototype.getNetListenersIndex=function(e,t){for(var n=-1,r=0;r<this._listener[e].length;r++){var o=this._listener[e][r];if(o.callback==t.callback&&o.target==t.target){n=r;break}}return n},e.prototype.resetReceiveMsgTimer=function(){var e=this;null!==this._receiveMsgTimer&&clearTimeout(this._receiveMsgTimer),this._receiveMsgTimer=setTimeout(function(){console.warn("NetNode recvieMsgTimer close socket!"),e._socket.close()},this._receiveTime)},e.prototype.resetHearbeatTimer=function(){var e=this;null!==this._keepAliveTimer&&clearTimeout(this._keepAliveTimer),this._keepAliveTimer=setTimeout(function(){console.log("NetNode keepAliveTimer send Hearbeat"),e.send(e._protocolHelper.getHearbeat())},this._heartTime)},e.prototype.clearTimer=function(){null!==this._receiveMsgTimer&&clearTimeout(this._receiveMsgTimer),null!==this._keepAliveTimer&&clearTimeout(this._keepAliveTimer),null!==this._reconnectTimer&&clearTimeout(this._reconnectTimer)},e.prototype.isAutoReconnect=function(){return 0!=this._autoReconnect},e.prototype.rejectReconnect=function(){this._autoReconnect=0,this.clearTimer()},e}();n.NetNode=i,cc._RF.pop()},{}],NodePool:[function(e,t){"use strict";cc._RF.push(t,"79670Jcz25EHbpPz2sbGO5H","NodePool"),cc._RF.pop()},{}],PageController:[function(e,t,n){"use strict";cc._RF.push(t,"93e6e2kGRpOyp9sUXoT7NJ8","PageController");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,u=s.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lbPageIndex=null,t.btnPrevious=null,t.previousDisable=null,t.btnNext=null,t.nextDisable=null,t.currentIndex=0,t.totalPage=0,t.cbClickFunc=null,t}return o(t,e),t.prototype.start=function(){},t.prototype.onPreviousClick=function(){this.currentIndex--,this.handlerArrowClick()},t.prototype.onNextClick=function(){this.currentIndex++,this.handlerArrowClick()},t.prototype.loadData=function(e,t){this.currentIndex=e,this.totalPage=t,this.totalPage<=1?(this.btnPrevious.active=!1,this.btnNext.active=!1):this.currentIndex<1?(this.btnPrevious.active=!1,this.btnNext.active=!0):this.currentIndex>=this.totalPage-1?(this.btnPrevious.active=!0,this.btnNext.active=!1):(this.btnPrevious.active=!0,this.btnNext.active=!0),this.previousDisable.active=!this.btnPrevious.active,this.nextDisable.active=!this.btnNext.active;var n=this.currentIndex+1,r=this.totalPage;0==r&&(r=n),this.lbPageIndex.string=n+"/"+r},t.prototype.addClickHandler=function(e){this.cbClickFunc=e},t.prototype.handlerArrowClick=function(){this.currentIndex<0&&(this.currentIndex=0),this.currentIndex>=this.totalPage&&(this.currentIndex=this.totalPage-1),this.cbClickFunc&&this.cbClickFunc(this.currentIndex)},i([u(cc.Label)],t.prototype,"lbPageIndex",void 0),i([u(cc.Node)],t.prototype,"btnPrevious",void 0),i([u(cc.Node)],t.prototype,"previousDisable",void 0),i([u(cc.Node)],t.prototype,"btnNext",void 0),i([u(cc.Node)],t.prototype,"nextDisable",void 0),i([a],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],Player:[function(e,t,n){"use strict";cc._RF.push(t,"0fa55356bRNk7O+TTHXGOf1","Player");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,u=s.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._playerSpine=null,t.enemy=null,t.dmgTxt=null,t._id=null,t}return o(t,e),t.prototype.onLoad=function(){var e=this,t=this;this._playerSpine=this.node.getComponent(sp.Skeleton),this._playerSpine.setCompleteListener(function(n){(n.animation?n.animation.name:"").includes("attack")&&(e._playerSpine.clearTrack(1),t.OnEndAttack())})},t.prototype.OnEndAttack=function(){this.enemy.getComponent("Enemy").TakeDamage()},t.prototype.OnHit=function(){this._playerSpine.setAnimation(0,"hit",!1);var e=cc.instantiate(this.dmgTxt);this.scheduleOnce(function(){e.destroy},400)},t.prototype.start=function(){},i([u(sp.Skeleton)],t.prototype,"_playerSpine",void 0),i([u(cc.Node)],t.prototype,"enemy",void 0),i([u(cc.Prefab)],t.prototype,"dmgTxt",void 0),i([a],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],PlayingScene:[function(e,t,n){"use strict";cc._RF.push(t,"7c866FhZ6pJCbZXfOEJKgzB","PlayingScene");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("lodash"),a=e("../../standard/common/EventManager"),u=e("../../standard/ui/UIManager"),c=e("../comp/LoadingGame"),l=e("../gameplay/character_manager"),f=e("../logic/GameLogic"),h=e("../models/game_constants"),p=e("../uiviews/UIConstant"),d=cc._decorator,_=d.ccclass,m=d.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.callFuncLoadingGameFinish=null,t.callFuncRequestReplay=null,t.callFuncEndGame=null,t.characterManager=null,t.loadingGame=null,t.startNode=null,t}return o(t,e),t.prototype.start=function(){this.loadingGame.show(),this.callFuncLoadingGameFinish=this.onStartGame.bind(this),a.EventMgr.addEventListener(h.EventName.Loading_Game_Play_Finish.toString(),this.callFuncLoadingGameFinish,this),this.callFuncEndGame=this.onEndGame.bind(this),a.EventMgr.addEventListener(h.EventName.End_Game.toString(),this.callFuncEndGame,this),this.callFuncRequestReplay=this.onRequestReplayGame.bind(this),a.EventMgr.addEventListener(h.EventName.Request_Replay.toString(),this.callFuncRequestReplay,this)},t.prototype.onDestroy=function(){a.EventMgr.removeEventListener(h.EventName.Loading_Game_Play_Finish.toString(),this.callFuncLoadingGameFinish,this),a.EventMgr.removeEventListener(h.EventName.End_Game.toString(),this.callFuncEndGame,this),a.EventMgr.removeEventListener(h.EventName.Request_Replay.toString(),this.callFuncRequestReplay,this)},t.prototype.backClick=function(){cc.warn("backClick"),f.GameLogic.Instance.loadScene(h.NameScene.Adventure,function(){})},t.prototype.onResultClick=function(){cc.warn("onResultClick");var e=s.random(0,10)%2==0;u.uiManager.open(p.UIIDCustom.UIResult,{isWin:e})},t.prototype.onNoticeClick=function(){cc.warn("onNoticeClick"),u.uiManager.open(p.UIIDCustom.UIInsufficientNotify)},t.prototype.onStartGame=function(){cc.log("onStartGame after Loading finish"),this.showStartGame(!0),this.characterManager.onPrepare()},t.prototype.onEndGame=function(e,t){cc.log("onEndGame > ",e,t);var n=t.isWin;u.uiManager.open(p.UIIDCustom.UIResult,{isWin:n})},t.prototype.onRequestReplayGame=function(){this.characterManager.onPrepare(),this.onPlayGame()},t.prototype.onPlayGame=function(){this.characterManager.onStartActions()},t.prototype.onSkipClick=function(){this.showStartGame(!1),this.onResultClick()},t.prototype.onStartClick=function(){this.showStartGame(!1),this.onPlayGame()},t.prototype.showStartGame=function(e){var t=this.startNode;if(t)if(t.stopAllActions(),e)t.active=!0,t.runAction(cc.fadeIn(.1));else{var n=this;t.runAction(cc.sequence(cc.fadeOut(.1),cc.callFunc(function(){n.startNode.active=!1})))}},i([m(l.default)],t.prototype,"characterManager",void 0),i([m(c.default)],t.prototype,"loadingGame",void 0),i([m(cc.Node)],t.prototype,"startNode",void 0),i([_],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../standard/common/EventManager":"EventManager","../../standard/ui/UIManager":"UIManager","../comp/LoadingGame":"LoadingGame","../gameplay/character_manager":"character_manager","../logic/GameLogic":"GameLogic","../models/game_constants":"game_constants","../uiviews/UIConstant":"UIConstant",lodash:6}],ResExample:[function(e,t,n){"use strict";cc._RF.push(t,"35e3enlxPVNnbcdFPQpVJAV","ResExample");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../standard/res/ResLoader"),a=e("../standard/res/ResUtil"),u=cc._decorator,c=u.ccclass,l=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.attachNode=null,t.dumpLabel=null,t._dirPrefabs=null,t._remoteRes=null,t}return o(t,e),t.prototype.start=function(){},t.prototype.onLoadRes=function(){var e=this;cc.loader.loadRes("example/prefabDir/HelloWorld",cc.Prefab,function(t,n){t||(cc.instantiate(n).parent=e.attachNode)})},t.prototype.onUnloadRes=function(){this.attachNode.removeAllChildren(!0),this.attachNode.destroyAllChildren(),cc.loader.releaseRes("example/prefabDir/HelloWorld")},t.prototype.onMyLoadRes=function(){var e=this;s.resLoader.loadResDir("example/prefabDir",cc.Prefab,function(t,n){if(!t){e._dirPrefabs=n,a.ResUtil.traceObject(n[0]),n[0].addRef(),n[0].addRef(),n[0].decRef();for(var r=0;r<n.length;++r)cc.instantiate(n[r]).parent=e.attachNode}})},t.prototype.onMyUnloadRes=function(){this.attachNode.removeAllChildren(!0),this.attachNode.destroyAllChildren(),s.resLoader.releaseArray(this._dirPrefabs)},t.prototype.onLoadRemote=function(){var e=this;s.resLoader.loadRemoteRes("http://tools.itharbors.com/christmas/res/tree.png",function(t,n){if(!t&&n){e._remoteRes=n;var r=new cc.SpriteFrame(n),o=new cc.Node("tmp");o.addComponent(cc.Sprite).spriteFrame=r,o.parent=e.attachNode}})},t.prototype.onUnloadRemote=function(){this.attachNode.removeAllChildren(!0),this.attachNode.destroyAllChildren(),s.resLoader.releaseAsset(this._remoteRes)},t.prototype.onDump=function(){var e=cc.loader;this.dumpLabel.string="\u5f53\u524d\u8d44\u6e90\u603b\u6570:"+Object.keys(e._cache).length,this._dirPrefabs&&this._dirPrefabs[0].dump()},i([l(cc.Node)],t.prototype,"attachNode",void 0),i([l(cc.Label)],t.prototype,"dumpLabel",void 0),i([c],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../standard/res/ResLoader":"ResLoader","../standard/res/ResUtil":"ResUtil"}],ResKeeperExample:[function(e,t,n){"use strict";cc._RF.push(t,"44dff6sUhxOK5EHy6webOHq","ResKeeperExample");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../standard/res/ResLoader"),a=e("../standard/res/ResUtil"),u=cc._decorator,c=u.ccclass,l=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.resUtilMode=!0,t.attachNode=null,t.dumpLabel=null,t}return o(t,e),t.prototype.onAdd=function(){var e=this;s.resLoader.loadRes("example/prefabDir/HelloWorld",cc.Prefab,function(t,n){if(!t){var r=a.ResUtil.instantiate(n);r.parent=e.attachNode,r.setPosition(500*Math.random()-250,r.position.y),console.log(r.position)}})},t.prototype.onSub=function(){this.attachNode.childrenCount>0&&this.attachNode.children[this.attachNode.childrenCount-1].destroy()},t.prototype.onAssign=function(){var e=this;s.resLoader.loadRes("example/images/test",cc.SpriteFrame,function(t,n){if(e.attachNode.childrenCount>0){var r=e.attachNode.children[e.attachNode.childrenCount-1];r.getComponent(cc.Sprite).spriteFrame=a.ResUtil.assignWith(n,r)}s.resLoader.releaseAsset(n)})},t.prototype.onClean=function(){this.attachNode.destroyAllChildren()},t.prototype.onDump=function(){var e=cc.loader;this.dumpLabel.string="\u5f53\u524d\u8d44\u6e90\u603b\u6570:"+Object.keys(e._cache).length},t.prototype.onLoadClick=function(){cc.director.loadScene("example_empty")},t.prototype.onPreloadClick=function(){cc.director.preloadScene("example_empty")},i([l(cc.Boolean)],t.prototype,"resUtilMode",void 0),i([l(cc.Node)],t.prototype,"attachNode",void 0),i([l(cc.Label)],t.prototype,"dumpLabel",void 0),i([c],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../standard/res/ResLoader":"ResLoader","../standard/res/ResUtil":"ResUtil"}],ResKeeper:[function(e,t,n){"use strict";cc._RF.push(t,"e7548uPzG1IHbJAG5JOhIeu","ResKeeper");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./ResLoader"),a=e("./ResUtil"),u=cc._decorator,c=u.ccclass,l=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.autoRes=[],t}return o(t,e),t.prototype.loadRes=function(){var e=this,t=a.ResUtil.parseLoadResArgs.apply(this,arguments),n=t.onCompleted;t.onCompleted=function(t,r){t||(r.addRef(),e.autoRes.push(r)),n&&n(t,r)},s.resLoader.loadRes(t.urls,t.type,t.onProgess,t.onCompleted)},t.prototype.onDestroy=function(){this.releaseAutoRes()},t.prototype.releaseAutoRes=function(){for(var e=0;e<this.autoRes.length;e++)this.autoRes[e].decRef();this.autoRes.length=0},t.prototype.autoReleaseRes=function(e){e.addRef(),this.autoRes.push(e)},i([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"./ResLoader":"ResLoader","./ResUtil":"ResUtil"}],ResLeakChecker:[function(e,t,n){"use strict";cc._RF.push(t,"9487ex5I5NG3qnus+fkql3x","ResLeakChecker"),Object.defineProperty(n,"__esModule",{value:!0}),n.ResLeakChecker=void 0;var r=e("./ResUtil"),o=function(){function e(){this.resFilter=null,this._checking=!1,this._log=new Map}return e.prototype.checkFilter=function(e){return!!this._checking&&(!this.resFilter||this.resFilter(e))},e.prototype.logLoad=function(e,t,n){if(this.checkFilter(e)){this._log.has(e)||this._log.set(e,new Map);var o=this._log.get(e);o.has(t)&&console.warn("ResLeakChecker doubel same use "+e+" : "+t+", stack "+o[t]),o.set(t,n||r.ResUtil.getCallStack(2))}},e.prototype.logRelease=function(e,t){if(this.checkFilter(e))if(this._log.has(e)){var n=this._log.get(e);n.has(t)?n.delete(t):console.warn("ResLeakChecker use nofound "+e+" : "+t)}else console.warn("ResLeakChecker url nofound "+e+" : "+t)},e.prototype.startCheck=function(){this._checking=!0},e.prototype.stopCheck=function(){this._checking=!1},e.prototype.getLog=function(){return this._log},e.prototype.resetLog=function(){this._log=new Map},e.prototype.dump=function(){this._log.forEach(function(e,t){console.log(t),e.forEach(function(e,t){console.log(t+" : "+e)})})},e}();n.ResLeakChecker=o,cc._RF.pop()},{"./ResUtil":"ResUtil"}],ResLoader:[function(e,t,n){"use strict";cc._RF.push(t,"6bb26tYPddGS7YfeSGyasL8","ResLoader"),Object.defineProperty(n,"__esModule",{value:!0}),n.resLoader=void 0;var r=function(){function e(){this.resLeakChecker=null}return e.prototype.loadRes=function(){cc.resources.load.apply(cc.resources,arguments)},e.prototype.loadResDir=function(){cc.resources.loadDir.apply(cc.resources,arguments)},e.prototype.loadRemoteRes=function(){cc.assetManager.loadRemote.apply(cc.assetManager,arguments)},e.prototype.releaseArray=function(e){for(var t=0;t<e.length;++t)this.releaseAsset(e[t])},e.prototype.releaseAsset=function(e){e.decRef()},e}();n.default=r,n.resLoader=new r,cc._RF.pop()},{}],ResPool:[function(e,t){"use strict";cc._RF.push(t,"4d239KZe5hI4Zb4kyjxarWh","ResPool"),cc._RF.pop()},{}],ResUtil:[function(e,t,n){"use strict";cc._RF.push(t,"8f503HZlhxLTY5UPaFTxC1e","ResUtil"),Object.defineProperty(n,"__esModule",{value:!0}),n.ResUtil=n.LoadResArgs=void 0;var r=e("./ResKeeper");n.LoadResArgs=function(){};var o=function(){function e(){}return e.parseLoadResArgs=function(e,t,n,r){return void 0===r&&("function"==typeof t?("function"==typeof n?(r=n,n=t):r=t,t=null):"function"==typeof n&&(r=n,n=null)),{urls:e,type:t,onProgess:n,onCompleted:r}},e.getResKeeper=function(t,n){return t?t.getComponent(r.default)||(n?t.addComponent(r.default):e.getResKeeper(t.parent,n)):null},e.assignWith=function(t,n,r){var o=e.getResKeeper(n,r);return o&&t?(o.autoReleaseRes(t),t):(console.error("AssignWith "+t+" to "+n+" faile"),null)},e.instantiate=function(t){var n=cc.instantiate(t),r=e.getResKeeper(n,!0);return r?(r.autoReleaseRes(t),n):(console.warn("instantiate "+t+", autoRelease faile"),n)},e.findCharPos=function(e,t,n){for(var r=e.indexOf(t),o=r,i=0;i<n;i++){if(-1==(r=e.indexOf(t,r+1)))return o;o=r}return o},e.getCallStack=function(t){var n=(new Error).stack,r=e.findCharPos(n,"\n",t);return r>0&&(n=n.slice(r)),n},e.traceObject=function(t){var n=t.addRef,r=t.decRef,o=new Array;t.addRef=function(){return o.push(e.getCallStack(1)),n.apply(t,arguments)},t.decRef=function(){return o.push(e.getCallStack(1)),r.apply(t,arguments)},t.dump=function(){console.log(o)}},e}();n.ResUtil=o,cc._RF.pop()},{"./ResKeeper":"ResKeeper"}],ScaleAnim:[function(e,t,n){"use strict";cc._RF.push(t,"f522cIpevtAaLpRr2LK7K5S","ScaleAnim");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,u=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.start=function(){this.node.stopAllActions(),this.node.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.15,.9),cc.scaleTo(.5,1.2))))},i([a],t)}(cc.Component));n.default=u,cc._RF.pop()},{}],ShopItem:[function(e,t,n){"use strict";cc._RF.push(t,"0eaacXiDMROoYIM/HTcnl2Z","ShopItem");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../utils"),a=cc._decorator,u=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lbTitle=null,t.lbDescription=null,t.lbMultiplier=null,t.lbPrice=null,t.frame1=null,t.frame2=null,t.sprIcon=null,t}return o(t,e),t.prototype.setInfo=function(e,t){var n=this;this.lbTitle.string=e;var r=t%2==0;this.frame1.active=r,this.frame2.active=!r;var o="custom/sprites/shop/chest_"+t%2;s.default.loadSpriteFrame(o,function(e,t){e||(n.sprIcon.spriteFrame=t)})},t.prototype.onBuyClick=function(){cc.log("onBuyClick > ")},i([c(cc.Label)],t.prototype,"lbTitle",void 0),i([c(cc.Label)],t.prototype,"lbDescription",void 0),i([c(cc.Label)],t.prototype,"lbMultiplier",void 0),i([c(cc.Label)],t.prototype,"lbPrice",void 0),i([c(cc.Node)],t.prototype,"frame1",void 0),i([c(cc.Node)],t.prototype,"frame2",void 0),i([c(cc.Sprite)],t.prototype,"sprIcon",void 0),i([u],t)}(cc.Component);n.default=l,cc._RF.pop()},{"../utils":"utils"}],SyncComponent:[function(e,t,n){"use strict";cc._RF.push(t,"114bekAaJlIOqGew8ESmg9P","SyncComponent");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.SyncComponent=n.replicated=n.ReplicatedUtil=void 0;var s=cc._decorator,a=s.ccclass,u=(s.property,function(){this.names=new Set,this.versions=new Map,this.lastVersion=0}),c=function(){function e(){}return e.copyProperty=function(e,t,n,r){var o=e[n];if(o){var i=o._syncDirty;if(o instanceof cc.Component||o instanceof cc.Node)return i?void(t[n]=i.networkId):void console.error("object "+o+" is not a replicated object");if(i){var s=this.diff(o,r);return void(s&&(t[n]=s))}}t[n]=o},e.diff=function(e,t){var n=this,r=e._syncDirty;if(!r)return console.error("object "+e+" is not a replicated object"),null;if(r.names.size>0){var o=0;r.parent?(o=r.parent.lastVersion,r.lastVersion=o):o=++r.lastVersion,r.lastDiff=Object.create(null),r.names.forEach(function(i){r.versions.set(i,o),n.copyProperty(e,r.lastDiff,i,t)}),r.names.clear()}var i=r.lastVersion;if(t>=i)return null;if(t+1==i)return r.lastDiff;var s=Object.create(null);return r.versions.forEach(function(r,o){r>t&&n.copyProperty(e,s,o,t)}),s},e.apply=function(e,t){for(var n in e){var r=e[n];if(r instanceof cc.Component||r instanceof cc.Node);else if(r instanceof Object){var o=t[n];o||(o=Object.create(null),t[n]=o),this.apply(r,o)}else t[n]=r}},e.MAX_SYNC_COMPONENT=99,e}();function l(e){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._syncDirty=new u,t}return o(t,e),t.prototype.onLoad=function(){if(this instanceof cc.Component){var t=this.node.getComponent(h);t||(t=this.node.addComponent(h));var n=e.prototype.onLoad;n instanceof Function&&n(),t.addSyncComponent(this)}},t}(e)}function f(e,t){Object.defineProperty(e,t,{get:function(){return this["_@"+t]},set:function(e){this["_@"+t]=e;var n=this._syncDirty;if(e instanceof Object){var r=e._syncDirty;r&&r.parent!=n&&(r.parent=n)}n.names.has(t)||(n.names.add(t),n.parent&&n.parent.names.add(n.name))}})}n.ReplicatedUtil=c,n.replicated=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];switch(e.length){case 2:return f.apply(this,e);case 1:return l.apply(this,e);default:throw new Error("invalid decorator!")}};var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.networkId=0,t.checkChildren=!1,t.checkComponents=!1,t.syncComId=0,t.staticComId=0,t.syncComMap=new Map,t}return o(t,e),t.prototype.addSyncComponent=function(e){this.syncComMap.size>=c.MAX_SYNC_COMPONENT&&console.error("add too manay sync components!");var t=e._syncDirty;if(t){var n=c.MAX_SYNC_COMPONENT-this.staticComId;do{if(++this.syncComId>c.MAX_SYNC_COMPONENT&&(this.syncComId=this.staticComId+1),!this.syncComMap.has(this.syncComId)){this.syncComMap.set(this.syncComId,e),t.networkId=this.networkId+this.syncComId;break}}while(--n);0==n&&console.error("can't find sync component id")}else console.error("add "+e+" is not a sync component!")},t.prototype.onLoad=function(){this.staticComId=this.syncComId},t.prototype.start=function(){},t.prototype.update=function(){},i([a],t)}(cc.Component);n.SyncComponent=h,cc._RF.pop()},{}],TabController:[function(e,t,n){"use strict";cc._RF.push(t,"fb2834V82RMDpCBrZVhP8rS","TabController");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,u=s.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.toggleContainer=null,t.cbClickFunc=null,t}return o(t,e),t.prototype.start=function(){},t.prototype.onSwitchEvent=function(e){cc.log("onSwitchEvent > ",e);for(var t=this.toggleContainer.toggleItems,n=-1,r=0;r<t.length;r++)if(t[r]==e){n=r;break}cc.log("onSwitchEvent index > ",n),-1!=n&&this.cbClickFunc&&this.cbClickFunc(n)},t.prototype.addClickHandler=function(e){this.cbClickFunc=e},t.prototype.setFocus=function(e){var t=this.toggleContainer.toggleItems;e<0||e>=t.length||t[e].check()},i([u(cc.ToggleContainer)],t.prototype,"toggleContainer",void 0),i([a],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],TaskQueue:[function(e,t,n){"use strict";cc._RF.push(t,"26663rTKJRAT5IjOTN+GERU","TaskQueue"),Object.defineProperty(n,"__esModule",{value:!0}),n.TaskManager=n.TaskQueue=void 0;var r=function(e,t){this.task=e,this.priority=t},o=function(){function e(){this._curTask=null,this._taskQueue=Array()}return e.prototype.pushTask=function(e,t){void 0===t&&(t=0);var n=new r(e,t);if(this._taskQueue.length>0)for(var o=this._taskQueue.length-1;o>=0;--o)if(this._taskQueue[o].priority<=t)return void this._taskQueue.splice(o+1,0,n);this._taskQueue.splice(0,0,n),null==this._curTask&&this.executeNextTask()},e.prototype.clearTask=function(){this._curTask=null,this._taskQueue.length=0},e.prototype.executeNextTask=function(){var e=this,t=this._taskQueue.shift()||null;this._curTask=t,t&&t.task(function(){t===e._curTask?e.executeNextTask():console.warn("your task finish twice!")})},e}();n.TaskQueue=o;var i=function(){function e(){this._taskQueues={}}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.destory=function(){this._instance=null},e.prototype.pushTask=function(e,t){return void 0===t&&(t=0),this.getTaskQueue().pushTask(e,t)},e.prototype.pushTaskByTag=function(e,t,n){return void 0===n&&(n=0),this.getTaskQueue(t).pushTask(e,n)},e.prototype.clearTaskQueue=function(e){void 0===e&&(e=0);var t=this._taskQueues[e];t&&t.clearTask()},e.prototype.clearAllTaskQueue=function(){for(var e in this._taskQueues)this._taskQueues[e].clearTask();this._taskQueues={}},e.prototype.getTaskQueue=function(e){void 0===e&&(e=0);var t=this._taskQueues[e];return null==t&&(t=new o,this._taskQueues[e]=t),t},e._instance=null,e}();n.TaskManager=i,cc._RF.pop()},{}],UIBag:[function(e,t,n){"use strict";cc._RF.push(t,"fca327d1KhLiq6nzIlLgtCj","UIBag");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../standard/ui/UIManager"),a=e("../../standard/ui/UIView"),u=cc._decorator,c=u.ccclass,l=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectItem=null,t.selectNode=null,t}return o(t,e),t.prototype.init=function(){},t.prototype.onClick=function(e){this.selectNode&&this.selectNode.setScale(1);var t=e.target;this.selectNode=t,this.selectNode.setScale(1.5);var n=t.getComponent(cc.Sprite);this.selectItem=n.spriteFrame},t.prototype.onOkClick=function(){s.uiManager.close()},t.prototype.onClose=function(){return this.selectItem},i([c],t)}(a.UIView));n.default=l,cc._RF.pop()},{"../../standard/ui/UIManager":"UIManager","../../standard/ui/UIView":"UIView"}],UIConnectMetaMask:[function(e,t,n){"use strict";cc._RF.push(t,"03c22tgsrBLS4m6oAXDEWv0","UIConnectMetaMask");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var u=e("../../standard/ui/UIManager"),c=e("../../standard/ui/UIView"),l=e("../logic/GameLogic"),f=e("../models/session_data"),h=e("./UIConstant"),p=cc._decorator,d=p.ccclass,_=p.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.InstallNode=null,t.ConnectNode=null,t}return o(t,e),t.prototype.onCloseClick=function(){u.uiManager.close()},t.prototype.onConnectingClick=function(e){return s(this,void 0,void 0,function(){var t,n,r;return a(this,function(o){switch(o.label){case 0:return e.target.getComponent(cc.Button).interactable=!1,[4,ethereum.request({method:"eth_requestAccounts"})];case 1:return t=o.sent(),n=t[0],(r=f.default.playerProfile).metaData=JSON.stringify({walletAddress:n}),u.uiManager.close(),l.GameLogic.Instance.updateProfile(r,function(){u.uiManager.open(h.UIIDCustom.UINotice,{title:"NOTICE",message:"MetaMask is ready connected!"})},function(){}),[2]}})})},t.prototype.onInstallClick=function(e){e.target.getComponent(cc.Button).interactable=!1,window.open("https://metamask.io","_blank")},t.prototype.start=function(){void 0===window.ethereum?(this.InstallNode.active=!0,this.ConnectNode.active=!1):(this.InstallNode.active=!1,this.ConnectNode.active=!0)},i([_(cc.Node)],t.prototype,"InstallNode",void 0),i([_(cc.Node)],t.prototype,"ConnectNode",void 0),i([d],t)}(c.UIView);n.default=m,cc._RF.pop()},{"../../standard/ui/UIManager":"UIManager","../../standard/ui/UIView":"UIView","../logic/GameLogic":"GameLogic","../models/session_data":"session_data","./UIConstant":"UIConstant"}],UIConstant:[function(e,t,n){"use strict";var r;cc._RF.push(t,"1985dFOFcFNkI3OihbJpfFe","UIConstant"),Object.defineProperty(n,"__esModule",{value:!0}),n.UICFCustom=n.UIIDCustom=void 0;var o,i=cc._decorator;i.ccclass,i.property,function(e){e[e.UIShop=0]="UIShop",e[e.UISignIn=1]="UISignIn",e[e.UIUpgrade=2]="UIUpgrade",e[e.UIInventory=3]="UIInventory",e[e.UIMarket=4]="UIMarket",e[e.UINotice=5]="UINotice",e[e.UIToast=6]="UIToast",e[e.UIResult=7]="UIResult",e[e.UIInsufficientNotify=8]="UIInsufficientNotify",e[e.UIConnectMetaMask=9]="UIConnectMetaMask",e[e.UILoadingScene=10]="UILoadingScene"}(o=n.UIIDCustom||(n.UIIDCustom={})),n.UICFCustom=((r={})[o.UIShop]={prefab:"custom/Prefab/Shop"},r[o.UISignIn]={prefab:"custom/Prefab/Signin"},r[o.UIUpgrade]={prefab:"custom/Prefab/Upgrade"},r[o.UIInventory]={prefab:"custom/Prefab/Inventory"},r[o.UIMarket]={prefab:"custom/Prefab/Market"},r[o.UINotice]={prefab:"custom/Prefab/Notify"},r[o.UIToast]={prefab:"custom/Prefab/Toast"},r[o.UIResult]={prefab:"custom/Prefab/Result"},r[o.UIInsufficientNotify]={prefab:"custom/Prefab/InsufficientNotify"},r[o.UIConnectMetaMask]={prefab:"custom/Prefab/ConnectMetaMask"},r[o.UILoadingScene]={prefab:"custom/Prefab/LoadingScene"},r),cc._RF.pop()},{}],UIExample:[function(e,t,n){"use strict";cc._RF.push(t,"1ac13Sq8cxLKZtQe1hCgor0","UIExample");var r,o,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.UICF=n.UIID=void 0;var a,u=e("../standard/ui/UIManager"),c=cc._decorator,l=c.ccclass;c.property,function(e){e[e.UILogin=0]="UILogin",e[e.UIHall=1]="UIHall",e[e.UINotice=2]="UINotice",e[e.UIBag=3]="UIBag"}(a=n.UIID||(n.UIID={})),n.UICF=((o={})[a.UILogin]={prefab:"example/Prefab/Login"},o[a.UIHall]={prefab:"example/Prefab/Hall"},o[a.UINotice]={prefab:"example/Prefab/Notice"},o[a.UIBag]={prefab:"example/Prefab/Bag",preventTouch:!0},o);var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){u.uiManager.initUIConf(n.UICF),u.uiManager.open(a.UILogin)},s([l],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../standard/ui/UIManager":"UIManager"}],UIHall:[function(e,t,n){"use strict";cc._RF.push(t,"f3353O2bc9EsbNFkNcfD5/M","UIHall");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../standard/ui/UIManager"),a=e("../../standard/ui/UIView"),u=e("../UIExample"),c=cc._decorator,l=c.ccclass,f=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.weapon=null,t}return o(t,e),t.prototype.onBag=function(){s.uiManager.open(u.UIID.UIBag)},t.prototype.onNotice=function(){s.uiManager.open(u.UIID.UINotice)},t.prototype.onTop=function(e,t){this.weapon.spriteFrame=t},i([f({type:cc.Sprite})],t.prototype,"weapon",void 0),i([l],t)}(a.UIView);n.default=h,cc._RF.pop()},{"../../standard/ui/UIManager":"UIManager","../../standard/ui/UIView":"UIView","../UIExample":"UIExample"}],UIInsufficientNotify:[function(e,t,n){"use strict";cc._RF.push(t,"87057pjSNtMw5RXpzf8vTlw","UIInsufficientNotify");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../standard/ui/UIManager"),a=e("../../standard/ui/UIView"),u=e("../logic/GameLogic"),c=cc._decorator,l=c.ccclass,f=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onCloseClick=function(){s.uiManager.close()},t.prototype.onLobbyClick=function(){s.uiManager.close(),u.GameLogic.Instance.loadScene("lobby",function(){})},t.prototype.onShopClick=function(){s.uiManager.close(),u.GameLogic.Instance.loadScene("lobby",function(){})},i([l],t)}(a.UIView));n.default=f,cc._RF.pop()},{"../../standard/ui/UIManager":"UIManager","../../standard/ui/UIView":"UIView","../logic/GameLogic":"GameLogic"}],UIInventory:[function(e,t,n){"use strict";cc._RF.push(t,"71671I9B2JJHbcy43s+lrqE","UIInventory");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../standard/ui/UIManager"),a=e("../../standard/ui/UIView"),u=cc._decorator,c=u.ccclass,l=(u.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onCloseClick=function(){s.uiManager.close()},i([c],t)}(a.UIView));n.default=l,cc._RF.pop()},{"../../standard/ui/UIManager":"UIManager","../../standard/ui/UIView":"UIView"}],UILoadingScene:[function(e,t,n){"use strict";cc._RF.push(t,"e1f04lAukZEe5+tpbzqFTKb","UILoadingScene");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../standard/ui/UIManager"),a=e("../../standard/ui/UIView"),u=cc._decorator,c=u.ccclass,l=(u.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(){},t.prototype.onDestroy=function(){s.uiManager.close()},i([c],t)}(a.UIView));n.default=l,cc._RF.pop()},{"../../standard/ui/UIManager":"UIManager","../../standard/ui/UIView":"UIView"}],UILogin:[function(e,t,n){"use strict";cc._RF.push(t,"969aczWd9lHOpX3wou4IN95","UILogin");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../standard/ui/UIManager"),a=e("../../standard/ui/UIView"),u=e("../UIExample"),c=cc._decorator,l=c.ccclass,f=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLogin=function(){s.uiManager.replace(u.UIID.UIHall),s.uiManager.open(u.UIID.UINotice)},i([l],t)}(a.UIView));n.default=f,cc._RF.pop()},{"../../standard/ui/UIManager":"UIManager","../../standard/ui/UIView":"UIView","../UIExample":"UIExample"}],UIManager:[function(e,t,n){"use strict";cc._RF.push(t,"53550gvXOhBFrnzqMfqR5v9","UIManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.uiManager=n.UIManager=void 0;var r=e("./UIView"),o=e("../res/ResLoader"),i=function(){function e(){this.BackGroundUI=0,this.isClosing=!1,this.isOpening=!1,this.UICache={},this.UIStack=[],this.UIOpenQueue=[],this.UICloseQueue=[],this.UIConf={},this.uiOpenBeforeDelegate=null,this.uiOpenDelegate=null,this.uiCloseDelegate=null}return e.prototype.initUIConf=function(e){this.UIConf=e},e.prototype.setUIConf=function(e,t){this.UIConf[e]=t},e.prototype.preventTouch=function(e){var t=new cc.Node;return t.name="preventTouch",t.setContentSize(cc.winSize),t.on(cc.Node.EventType.TOUCH_START,function(e){e.stopPropagation()},t),cc.director.getScene().getChildByName("Canvas").addChild(t,e),t},e.prototype.autoExecNextUI=function(){if(this.UICloseQueue.length>0){var e=this.UICloseQueue[0];this.UICloseQueue.splice(0,1),this.close(e)}else this.UIOpenQueue.length>0&&(e=this.UIOpenQueue[0],this.UIOpenQueue.splice(0,1),this.open(e.uiId,e.uiArgs))},e.prototype.autoExecAnimation=function(e,t,n){n()},e.prototype.autoLoadRes=function(e,t){t()},e.prototype.updateUI=function(){for(var e=0,t=this.UIStack.length-1;t>=0;--t){var n=this.UIStack[t].uiView.showType;if(this.UIStack[t].uiView.node.active=!0,r.UIShowTypes.UIFullScreen==n)break;if(r.UIShowTypes.UISingle==n){for(var o=0;o<this.BackGroundUI;++o)this.UIStack[o]&&(this.UIStack[o].uiView.node.active=!0);e=this.BackGroundUI;break}}for(var i=e;i<t;++i)this.UIStack[i].uiView.node.active=!1},e.prototype.getOrCreateUI=function(e,t,n,i){var s=this,a=this.UICache[e];if(a)n(a);else{var u=this.UIConf[e].prefab;if(null==u)return cc.log("getOrCreateUI "+e+" faile, prefab conf not found!"),void n(null);o.resLoader.loadRes(u,t,function(t,c){if(t)return cc.log("getOrCreateUI loadRes "+e+" faile, path: "+u+" error: "+t),void n(null);var l=cc.instantiate(c);return null==l?(cc.log("getOrCreateUI instantiate "+e+" faile, path: "+u),n(null),void o.resLoader.releaseAsset(c)):null==(a=l.getComponent(r.UIView))?(cc.log("getOrCreateUI getComponent "+e+" faile, path: "+u),l.destroy(),n(null),void o.resLoader.releaseAsset(c)):void s.autoLoadRes(a,function(){a.init(i),n(a)})})}},e.prototype.onUIOpen=function(e,t,n,r){var o=this;if(null!=t){if(n.uiView=t,t.node.active=!0,t.node.zIndex=n.zOrder||this.UIStack.length,t.quickClose){var i=t.node.getChildByName("background");i||((i=new cc.Node).name="background",i.setContentSize(cc.winSize),t.node.addChild(i,-1)),i.targetOff(cc.Node.EventType.TOUCH_START),i.on(cc.Node.EventType.TOUCH_START,function(e){e.stopPropagation(),o.close(t)},i)}cc.director.getScene().getChildByName("Canvas").addChild(t.node),this.updateUI();var s=0;this.UIStack.length>1&&(s=this.UIStack[this.UIStack.length-2].uiId),this.uiOpenBeforeDelegate&&this.uiOpenBeforeDelegate(e,s),t.onOpen(s,r),this.autoExecAnimation(t,"uiOpen",function(){t.onOpenAniOver(),o.uiOpenDelegate&&o.uiOpenDelegate(e,s)})}},e.prototype.open=function(e,t,n){var r=this;void 0===t&&(t=null),void 0===n&&(n=null);var o={uiId:e,uiArgs:t,uiView:null};this.isOpening||this.isClosing?this.UIOpenQueue.push(o):-1==this.getUIIndex(e)?(o.zOrder=this.UIStack.length+1,this.UIStack.push(o),this.UIConf[e].preventTouch&&(o.preventNode=this.preventTouch(o.zOrder)),this.isOpening=!0,this.getOrCreateUI(e,n,function(n){if(o.isClose||null==n)return cc.log("getOrCreateUI "+e+" faile!\n                        close state : "+o.isClose+" , uiView : "+n),r.isOpening=!1,void(o.preventNode&&(o.preventNode.destroy(),o.preventNode=null));r.onUIOpen(e,n,o,t),r.isOpening=!1,r.autoExecNextUI()},t)):this.closeToUI(e,t)},e.prototype.replace=function(e,t){void 0===t&&(t=null),this.close(this.UIStack[this.UIStack.length-1].uiView),this.open(e,t)},e.prototype.close=function(e){var t=this,n=this.UIStack.length;if(n<1||this.isClosing||this.isOpening)e&&this.UICloseQueue.push(e);else{var r;if(e){for(var o=this.UIStack.length-1;o>=0;o--){var i=this.UIStack[o];if(i.uiView===e){r=i,this.UIStack.splice(o,1);break}}if(void 0===r)return}else r=this.UIStack.pop();var s=r.uiId,a=r.uiView;if(r.isClose=!0,r.preventNode&&(r.preventNode.destroy(),r.preventNode=null),null!=a){var u=this.UIStack[n-2];this.updateUI(),this.autoExecAnimation(a,"uiClose",function(){t.isClosing=!1,u&&u.uiView&&t.isTopUI(u.uiId)?(u.uiView.node.active=!0,u.uiView.onTop(s,a.onClose())):a.onClose(),t.uiCloseDelegate&&t.uiCloseDelegate(s),a.cache?(t.UICache[s]=a,a.node.removeFromParent(!1),cc.log("uiView removeFromParent "+r.uiId)):(a.node.destroy(),cc.log("uiView destroy "+r.uiId)),t.autoExecNextUI()})}}},e.prototype.closeAll=function(){for(var e=0,t=this.UIStack;e<t.length;e++){var n=t[e];n.isClose=!0,n.preventNode&&(n.preventNode.destroy(),n.preventNode=null),n.uiView&&(n.uiView.onClose(),n.uiView.node.destroy())}this.UIOpenQueue=[],this.UICloseQueue=[],this.UIStack=[],this.isOpening=!1,this.isClosing=!1},e.prototype.closeToUI=function(e,t,n){void 0===n&&(n=!0);var r=this.getUIIndex(e);if(-1!=r){r=n?r:r+1;for(var o=this.UIStack.length-1;o>=r;--o){var i=this.UIStack.pop(),s=i.uiId,a=i.uiView;i.isClose=!0,i.preventNode&&(i.preventNode.destroy(),i.preventNode=null),this.uiCloseDelegate&&this.uiCloseDelegate(s),a&&(a.onClose(),a.cache?(this.UICache[s]=a,a.node.removeFromParent(!1)):a.node.destroy())}this.updateUI(),this.UIOpenQueue=[],this.UICloseQueue=[],n&&this.open(e,t)}},e.prototype.clearCache=function(){for(var e in this.UICache){var t=this.UICache[e];cc.isValid(t.node)&&t.node.destroy()}this.UICache={}},e.prototype.isTopUI=function(e){return 0!=this.UIStack.length&&this.UIStack[this.UIStack.length-1].uiId==e},e.prototype.getUI=function(e){for(var t=0;t<this.UIStack.length;t++){var n=this.UIStack[t];if(e==n.uiId)return n.uiView}return null},e.prototype.getTopUI=function(){return this.UIStack.length>0?this.UIStack[this.UIStack.length-1].uiView:null},e.prototype.getUIIndex=function(e){for(var t=0;t<this.UIStack.length;t++)if(e==this.UIStack[t].uiId)return t;return-1},e}();n.UIManager=i,n.uiManager=new i,cc._RF.pop()},{"../res/ResLoader":"ResLoader","./UIView":"UIView"}],UIMarket:[function(e,t,n){"use strict";cc._RF.push(t,"656b9lCNEFAT5J+EXJqnabL","UIMarket");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../standard/ui/UIManager"),a=e("../../standard/ui/UIView"),u=cc._decorator,c=u.ccclass,l=(u.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onCloseClick=function(){s.uiManager.close()},i([c],t)}(a.UIView));n.default=l,cc._RF.pop()},{"../../standard/ui/UIManager":"UIManager","../../standard/ui/UIView":"UIView"}],UINotice:[function(e,t,n){"use strict";cc._RF.push(t,"db881TdTLhM0Z/O2XQ/E9mc","UINotice");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../standard/ui/UIView"),a=cc._decorator,u=a.ccclass,c=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(){},i([u],t)}(s.UIView));n.default=c,cc._RF.pop()},{"../../standard/ui/UIView":"UIView"}],UINotify:[function(e,t,n){"use strict";cc._RF.push(t,"0ecd6XLlgdMKawF0c1ieMon","UINotify");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../standard/ui/UIManager"),a=e("../../standard/ui/UIView"),u=cc._decorator,c=u.ccclass,l=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lbTitle=null,t.lbMesage=null,t}return o(t,e),t.prototype.init=function(){},t.prototype.onCloseClick=function(){s.uiManager.close()},t.prototype.onOpen=function(e,t){cc.warn("UINotify onOpen ",e,t),t?(this.lbTitle.string=t.title,this.lbMesage.string=t.message):(this.lbTitle.string="NOTICE",this.lbMesage.string="This is a notice.")},i([l(cc.Label)],t.prototype,"lbTitle",void 0),i([l(cc.Label)],t.prototype,"lbMesage",void 0),i([c],t)}(a.UIView);n.default=f,cc._RF.pop()},{"../../standard/ui/UIManager":"UIManager","../../standard/ui/UIView":"UIView"}],UIResult:[function(e,t,n){"use strict";cc._RF.push(t,"5c5cdEOupZD0JSubYWL7zHJ","UIResult");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../standard/common/EventManager"),a=e("../../standard/ui/UIManager"),u=e("../../standard/ui/UIView"),c=e("../logic/GameLogic"),l=e("../models/game_constants"),f=cc._decorator,h=f.ccclass,p=f.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.titleNodes=null,t}return o(t,e),t.prototype.onOpen=function(e,t){var n=this.titleNodes;if(n&&t){cc.warn("UIResult onOpen ",e,t);var r=t.isWin;cc.log("onOpen isWin > ",r);var o=n.getChildByName("[win]");o&&(o.active=r);var i=n.getChildByName("[lose]");i&&(i.active=!r)}else cc.error("Something went wrong!")},t.prototype.onCloseClick=function(){a.uiManager.close()},t.prototype.onLobbyClick=function(){a.uiManager.close(),c.GameLogic.Instance.loadScene("lobby",function(){})},t.prototype.onReplayClick=function(){cc.log("onReplayClick"),a.uiManager.close(),s.EventMgr.raiseEvent(l.EventName.Request_Replay.toString(),{})},i([p(cc.Node)],t.prototype,"titleNodes",void 0),i([h],t)}(u.UIView);n.default=d,cc._RF.pop()},{"../../standard/common/EventManager":"EventManager","../../standard/ui/UIManager":"UIManager","../../standard/ui/UIView":"UIView","../logic/GameLogic":"GameLogic","../models/game_constants":"game_constants"}],UIShop:[function(e,t,n){"use strict";cc._RF.push(t,"aff8a0o7eRJqpHU3s18JVSu","UIShop");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.FilterType=void 0;var s,a=e("lodash"),u=e("../../standard/res/ResLoader"),c=e("../../standard/res/ResUtil"),l=e("../../standard/ui/UIManager"),f=e("../../standard/ui/UIView"),h=e("../comp/PageController"),p=e("../comp/ShopItem"),d=e("../comp/TabController");(function(e){e.All="all",e.Character="character",e.Energy="energy"})(s=n.FilterType||(n.FilterType={}));var _=cc._decorator,m=_.ccclass,y=_.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemContainerLayout=null,t.tabController=null,t.pageController=null,t.currentIndexPage=0,t.currentFilterType=s.All,t.itemData={},t}return o(t,e),t.prototype.start=function(){cc.warn("start UIShop");var e=this;this.getItemData(function(t){e.itemData=t,e.tabController.setFocus(e.getCurrentIndexTab()),e.loadData()})},t.prototype.init=function(){cc.warn("init UIShop");var e=this;e.pageController.addClickHandler(function(t){e.currentIndexPage=t,e.loadData()}),e.tabController.addClickHandler(function(t){switch(t){case 0:e.currentFilterType=s.All;break;case 1:e.currentFilterType=s.Character;break;case 2:e.currentFilterType=s.Energy}e.currentIndexPage=0,e.loadData()})},t.prototype.onClose=function(){cc.log("onClose UIShop")},t.prototype.onCloseClick=function(){l.uiManager.close()},t.prototype.loadData=function(){var e=this,t=e.itemData[e.currentFilterType],n=t.length%2,r=(t.length-n)/2;n>0&&r++,0==r&&(r=1),e.pageController.loadData(this.currentIndexPage,r);var o=2*e.currentIndexPage,i=o+2;(t=a.slice(t,o,i))&&0!=t.length&&u.resLoader.loadRes("custom/Prefab/ShopItem",cc.Prefab,function(n,r){if(!n){e.itemContainerLayout.removeAllChildren();for(var o=0;o<t.length;o++){var i=c.ResUtil.instantiate(r);i.parent=e.itemContainerLayout;var s=i.getComponent(p.default);null==s||s.setInfo("CHEST NORMAL "+(2*e.currentIndexPage+1+o),o)}}})},t.prototype.getCurrentIndexTab=function(){switch(this.currentFilterType){case s.All:return 0;case s.Character:return 1;case s.Energy:return 2}return-1},t.prototype.getItemData=function(e){var t=[{},{},{},{},{},{},{},{},{},{},{}],n=[{},{},{},{},{},{},{},{},{},{}],r={};r[s.All]=t.concat(n),r[s.Character]=t,r[s.Energy]=n,e&&e(r)},i([y(cc.Node)],t.prototype,"itemContainerLayout",void 0),i([y(d.default)],t.prototype,"tabController",void 0),i([y(h.default)],t.prototype,"pageController",void 0),i([m],t)}(f.UIView);n.default=g,cc._RF.pop()},{"../../standard/res/ResLoader":"ResLoader","../../standard/res/ResUtil":"ResUtil","../../standard/ui/UIManager":"UIManager","../../standard/ui/UIView":"UIView","../comp/PageController":"PageController","../comp/ShopItem":"ShopItem","../comp/TabController":"TabController",lodash:6}],UISignin:[function(e,t,n){"use strict";cc._RF.push(t,"94fd90qEydI+LEaGs7FzK7R","UISignin");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../standard/ui/UIManager"),a=e("../../standard/ui/UIView"),u=e("../logic/GameLogic"),c=e("../models/game_constants"),l=e("../services/storage_service"),f=cc._decorator,h=f.ccclass,p=f.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.signInNode=null,t.signUpNode=null,t.ebSignInEmail=null,t.ebSignInPassword=null,t.ebSignUpUsername=null,t.ebSignUpEmail=null,t.ebSignUpPassword=null,t.ebSignUpConfirmPassword=null,t.lbSignUpError=null,t.lbSignInError=null,t.toggleRemember=null,t.blockedTouch=null,t}return o(t,e),t.prototype.start=function(){this.focusSignIn(!0),this.blockedTouch.active=!1,this.toggleRemember.isChecked="true"===l.default.Instance.getLocalItem(c.StringConstant.KEY_LOCAL_IS_REMEMBER_ME),this.toggleRemember.isChecked?(this.ebSignInEmail.string=l.default.Instance.getLocalItem(c.StringConstant.KEY_LOCAL_EMAIL),this.ebSignInPassword.string=l.default.Instance.getLocalItem(c.StringConstant.KEY_LOCAL_PASSWORD)):(l.default.Instance.setLocalItem(c.StringConstant.KEY_LOCAL_EMAIL,""),l.default.Instance.setLocalItem(c.StringConstant.KEY_LOCAL_PASSWORD,""))},t.prototype.onCloseClick=function(){s.uiManager.close()},t.prototype.onSignInClick=function(){var e=this,t=this.ebSignInEmail.string,n=this.ebSignInPassword.string,r=this.validation(null,t,n,null,!0);if(r)return cc.log(r),void(this.lbSignInError.string=r);this.lbSignInError.string="",cc.log("BINGO with user = "+t+" & pw = "+n),this.blockedTouch.active=!0,u.GameLogic.Instance.signInWithEmail(t,n,function(t){cc.log("result > ",t),e.onCloseClick()},function(t){cc.log("error > ",t);var n="Something went wrong!";t&&t.requestErrorText&&(n=t.requestErrorText),e.lbSignInError.string=n,e.blockedTouch.active=!1})},t.prototype.onSignUpClick=function(){var e=this,t=this.ebSignUpUsername.string,n=this.ebSignUpEmail.string,r=this.ebSignUpPassword.string,o=this.ebSignUpConfirmPassword.string,i=this.validation(t,n,r,o,!1);if(i)return cc.log(i),void(this.lbSignUpError.string=i);this.lbSignUpError.string="",cc.log("BINGO with user = "+t+" & pw = "+r),this.blockedTouch.active=!0,u.GameLogic.Instance.signUpWithEmail(t,n,r,function(t){cc.log("result > ",t),e.ebSignInEmail.string=n,e.ebSignInPassword.string=r,l.default.Instance.setLocalItem(c.StringConstant.KEY_LOCAL_IS_REMEMBER_ME,!0),e.onSignInClick()},function(t){cc.log("error > ",t);var n="Something went wrong!";t&&t.requestErrorText&&(n=t.requestErrorText),e.lbSignUpError.string=n,e.blockedTouch.active=!1})},t.prototype.onGoToSignUpClick=function(){this.focusSignIn(!1)},t.prototype.onGoBackSignInClick=function(){this.focusSignIn(!0)},t.prototype.focusSignIn=function(e){this.signInNode.active=e,this.signUpNode.active=!e,e||(this.ebSignUpUsername.string="",this.ebSignUpEmail.string="",this.ebSignUpPassword.string="",this.ebSignUpConfirmPassword.string=""),this.lbSignUpError.string="",this.lbSignInError.string=""},t.prototype.onRememberToggle=function(e){cc.log("onRememberToggle > ",e.isChecked),l.default.Instance.setLocalItem(c.StringConstant.KEY_LOCAL_IS_REMEMBER_ME,e.isChecked)},t.prototype.validation=function(e,t,n,r,o){if(void 0===o&&(o=!0),null==t)return"Email must not empty.";if(t.indexOf("@")<0||t.indexOf(".")<0)return"Email was wrong format.";if(n.length<6)return"Password must min 6 chars";if(!o){if(e.length<6)return"Username must 6-30 chars!";for(var i=0;i<e.length;i++){var s=e[i];if(" !@#$%^&*()_+=-[{'\";:,></?}]".indexOf(s)>=0)return"Username must not include special word!"}if(r!==n)return"Confirm password is not exactly!"}return null},i([p(cc.Node)],t.prototype,"signInNode",void 0),i([p(cc.Node)],t.prototype,"signUpNode",void 0),i([p(cc.EditBox)],t.prototype,"ebSignInEmail",void 0),i([p(cc.EditBox)],t.prototype,"ebSignInPassword",void 0),i([p(cc.EditBox)],t.prototype,"ebSignUpUsername",void 0),i([p(cc.EditBox)],t.prototype,"ebSignUpEmail",void 0),i([p(cc.EditBox)],t.prototype,"ebSignUpPassword",void 0),i([p(cc.EditBox)],t.prototype,"ebSignUpConfirmPassword",void 0),i([p(cc.Label)],t.prototype,"lbSignUpError",void 0),i([p(cc.Label)],t.prototype,"lbSignInError",void 0),i([p(cc.Toggle)],t.prototype,"toggleRemember",void 0),i([p(cc.Node)],t.prototype,"blockedTouch",void 0),i([h],t)}(a.UIView);n.default=d,cc._RF.pop()},{"../../standard/ui/UIManager":"UIManager","../../standard/ui/UIView":"UIView","../logic/GameLogic":"GameLogic","../models/game_constants":"game_constants","../services/storage_service":"storage_service"}],UIToast:[function(e,t,n){"use strict";cc._RF.push(t,"ba218VX1gdPApkscBJdFKYe","UIToast");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../standard/ui/UIManager"),a=e("../../standard/ui/UIView"),u=cc._decorator,c=u.ccclass,l=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lbMesage=null,t}return o(t,e),t.prototype.init=function(){},t.prototype.onOpen=function(e,t){cc.warn("UIToast onOpen ",e,t),this.lbMesage.string=t?t.message:"This is a toast.",this.scheduleOnce(function(){s.uiManager.close()},2.5)},i([l(cc.Label)],t.prototype,"lbMesage",void 0),i([c],t)}(a.UIView);n.default=f,cc._RF.pop()},{"../../standard/ui/UIManager":"UIManager","../../standard/ui/UIView":"UIView"}],UIUpgrade:[function(e,t,n){"use strict";cc._RF.push(t,"b3d4fL70DxEMIoIOmOi77f4","UIUpgrade");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../standard/ui/UIManager"),a=e("../../standard/ui/UIView"),u=cc._decorator,c=u.ccclass,l=(u.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onCloseClick=function(){s.uiManager.close()},i([c],t)}(a.UIView));n.default=l,cc._RF.pop()},{"../../standard/ui/UIManager":"UIManager","../../standard/ui/UIView":"UIView"}],UIView:[function(e,t,n){"use strict";cc._RF.push(t,"743a8DSuqhBr4IQgN4a26Ii","UIView");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.UIView=n.UIShowTypes=void 0;var s,a=e("../res/ResKeeper"),u=cc._decorator,c=u.ccclass,l=u.property;(function(e){e[e.UIFullScreen=0]="UIFullScreen",e[e.UIAddition=1]="UIAddition",e[e.UISingle=2]="UISingle"})(s=n.UIShowTypes||(n.UIShowTypes={}));var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.quickClose=!1,t.cache=!1,t.showType=s.UISingle,t.UIid=0,t}return o(t,e),t.prototype.init=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.onOpen=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},t.prototype.onOpenAniOver=function(){},t.prototype.onClose=function(){},t.prototype.onTop=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},i([l()],t.prototype,"quickClose",void 0),i([l()],t.prototype,"cache",void 0),i([l({type:cc.Enum(s)})],t.prototype,"showType",void 0),i([c],t)}(a.default);n.UIView=f,cc._RF.pop()},{"../res/ResKeeper":"ResKeeper"}],VersionLabel:[function(e,t,n){"use strict";cc._RF.push(t,"2ff12n9xmRBOoGmirbV77Tk","VersionLabel");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../logic/GameLogic"),a=cc._decorator,u=a.ccclass,c=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.start=function(){var e=this.node.getComponent(cc.Label);e&&(e.string=s.GameLogic.Instance.GameVersion)},i([u],t)}(cc.Component));n.default=c,cc._RF.pop()},{"../logic/GameLogic":"GameLogic"}],WebSock:[function(e,t,n){"use strict";cc._RF.push(t,"70df2VbIU9B66Fr+op8FKJp","WebSock"),Object.defineProperty(n,"__esModule",{value:!0}),n.WebSock=void 0;var r=function(){function e(){this._ws=null,this.onConnected=null,this.onMessage=null,this.onError=null,this.onClosed=null}return e.prototype.connect=function(e){var t=this;if(this._ws&&this._ws.readyState===WebSocket.CONNECTING)return console.log("websocket connecting, wait for a moment..."),!1;var n=null;if(e.url)n=e.url;else{var r=e.ip,o=e.port;n=e.protocol+"://"+r+":"+o}return this._ws=new WebSocket(n),this._ws.binaryType=e.binaryType?e.binaryType:"arraybuffer",this._ws.onmessage=function(e){t.onMessage(e.data)},this._ws.onopen=this.onConnected,this._ws.onerror=this.onError,this._ws.onclose=this.onClosed,!0},e.prototype.send=function(e){return this._ws.readyState==WebSocket.OPEN&&(this._ws.send(e),!0)},e.prototype.close=function(e,t){this._ws.close(e,t)},e}();n.WebSock=r,cc._RF.pop()},{}],audio_service:[function(e,t,n){"use strict";cc._RF.push(t,"ee8f2FjIiZEJqkViQqV8kiT","audio_service"),Object.defineProperty(n,"__esModule",{value:!0});var r=e("lodash"),o=e("../../standard/common/EventManager"),i=e("../models/game_constants"),s=e("./storage_service"),a=function(){function e(){var e=this;this.audios=null,this.isSoundMuted=!1,this.isBGMMuted=!1,this.bgmTrackId=-1,this.audios={};var t="true"===s.default.Instance.getLocalItem(i.StringConstant.KEY_LOCAL_IS_MUTED_BG_MUSIC),n="true"===s.default.Instance.getLocalItem(i.StringConstant.KEY_LOCAL_IS_MUTED_SFX);t?this.isBGMMuted=t:console.log("no bgm data"),n?this.isSoundMuted=n:console.log("no sound data"),this.isBGMMuted?cc.audioEngine.setMusicVolume(0):cc.audioEngine.setMusicVolume(1),this.isSoundMuted?cc.audioEngine.setEffectsVolume(0):cc.audioEngine.setEffectsVolume(1),o.EventMgr.addEventListener(i.EventName.LostFocus.toString(),function(){cc.audioEngine.setMusicVolume(0),cc.audioEngine.setEffectsVolume(0)},this),o.EventMgr.addEventListener(i.EventName.GainFocus.toString(),function(){cc.audioEngine.setMusicVolume(e.IsBGMMuted?0:1),cc.audioEngine.setEffectsVolume(e.IsSoundMuted?0:1)},this)}return Object.defineProperty(e,"Instance",{get:function(){return this.instance||(this.instance=new e),this.instance},enumerable:!1,configurable:!0}),e.prototype.setup=function(e){r.assign(this.audios,e)},Object.defineProperty(e.prototype,"IsSoundMuted",{get:function(){return this.isSoundMuted},set:function(e){this.isSoundMuted=e,s.default.Instance.setLocalItem(i.StringConstant.KEY_LOCAL_IS_MUTED_SFX,this.isSoundMuted),this.IsSoundMuted?cc.audioEngine.setEffectsVolume(0):cc.audioEngine.setEffectsVolume(1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsBGMMuted",{get:function(){return this.isBGMMuted},set:function(e){this.isBGMMuted=e,s.default.Instance.setLocalItem(i.StringConstant.KEY_LOCAL_IS_MUTED_BG_MUSIC,this.isBGMMuted),this.IsBGMMuted?(cc.audioEngine.stopMusic(),cc.audioEngine.setMusicVolume(0)):(cc.audioEngine.setMusicVolume(1),this.playMusic("bgm"))},enumerable:!1,configurable:!0}),e.prototype.playOwnEffect=function(e,t){void 0===t&&(t=!1),this.IsBGMMuted||1===cc.audioEngine.getState(this.bgmTrackId)||(cc.audioEngine.stopAllEffects(),this.playMusic("bgm"));var n=-1;return e&&(n=cc.audioEngine.playEffect(e,t)),n},e.prototype.playEffect=function(e,t){void 0===t&&(t=!1),this.IsBGMMuted||1===cc.audioEngine.getState(this.bgmTrackId)||(cc.audioEngine.stopAllEffects(),this.playMusic("bgm"));var n=-1,r=this.audios[e];return r&&(n=cc.audioEngine.playEffect(r,t)),n},e.prototype.stopEffect=function(e){cc.audioEngine.stopEffect(e)},e.prototype.stopAllEffect=function(){cc.audioEngine.stopAllEffects()},e.prototype.playMusic=function(e,t){if(void 0===t&&(t=!0),!1===cc.audioEngine.isMusicPlaying()){var n=this.audios[e];n&&(this.bgmTrackId=cc.audioEngine.playMusic(n,t))}return this.bgmTrackId},e.instance=null,e}();n.default=a,cc._RF.pop()},{"../../standard/common/EventManager":"EventManager","../models/game_constants":"game_constants","./storage_service":"storage_service",lodash:6}],character_anim:[function(e,t,n){"use strict";cc._RF.push(t,"bce7cMCgBVFv400cUbf9Hw4","character_anim");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.CharacterAnimData=void 0;var s=e("lodash"),a=e("../../standard/common/EventManager"),u=e("../models/game_constants"),c=e("./enemy_character"),l=e("./playing_constant"),f=e("./warrior_character"),h=cc._decorator,p=h.ccclass,d=h.property;n.CharacterAnimData=function(e,t,n,r){this.isEnemy=!1,this.animNames=[],this.hpHurts=[],this.isEnemy=e,this.animNames=t,this.hpHurts=n,this.warriorSkin=r};var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.arrowNode=null,t.warriorCharacter=null,t.enemyCharacter=null,t.duration_of_attack=0,t.duration_of_hurt=0,t.animData=null,t.indexOfHurt=-1,t.hpLost=0,t.hpTotal=0,t.cbFuncOnChangingZIndex=null,t.cbFuncOnUpdatingHP=null,t}return o(t,e),t.prototype.onLoad=function(){var e=this,t=this;this.warriorCharacter&&this.warriorCharacter.addFuncOnStartAnimation(function(n){if(n==l.WarriorAction.ATTACK||n==l.WarriorAction.ATTACK_RANGE||n==l.WarriorAction.HURT){var r=2;n==l.WarriorAction.HURT&&(r=1),e.cbFuncOnChangingZIndex&&e.cbFuncOnChangingZIndex(r)}n==l.WarriorAction.HURT&&t.onCheckHp(t.warriorCharacter.durationOfAnim(l.WarriorAction.HURT))}),this.enemyCharacter&&this.enemyCharacter.addFuncOnStartAnimation(function(n){if(n==l.EnemyAction.ATTACK||n==l.EnemyAction.HURT){var r=2;n==l.EnemyAction.HURT&&(r=1),e.cbFuncOnChangingZIndex&&e.cbFuncOnChangingZIndex(r)}n==l.EnemyAction.HURT&&t.onCheckHp(t.enemyCharacter.durationOfAnim(l.EnemyAction.HURT))})},t.prototype.start=function(){this.onPrepare()},t.prototype.onDestroy=function(){this.cbFuncOnChangingZIndex=null,this.cbFuncOnUpdatingHP=null},t.prototype.onCheckHp=function(e){this.indexOfHurt++,this.hpLost+=this.animData.hpHurts[this.indexOfHurt];var t=this;this.scheduleOnce(function(){t.cbFuncOnUpdatingHP&&t.cbFuncOnUpdatingHP(t.getCurrentHpPercent())},e-.2)},t.prototype.onLoadData=function(e){cc.log("onLoadData > ",e),this.animData=e,this.indexOfHurt=-1,this.hpLost=0,this.hpTotal=s.sum(this.animData.hpHurts),cc.log("hpTotal > ",this.hpTotal),this.arrowNode.active=!e.isEnemy,this.warriorCharacter&&this.warriorCharacter.loadSkin(e.warriorSkin)},t.prototype.onPrepare=function(){this.indexOfHurt=-1,this.hpLost=0,this.warriorCharacter&&this.warriorCharacter.runAction(l.WarriorAction.IDLE,!0),this.enemyCharacter&&this.enemyCharacter.runAction(l.EnemyAction.IDLE,!0)},t.prototype.onActions=function(){var e=this;cc.warn("animData > ",this.animData);var t=this,n=function(){if(t.warriorCharacter){var n=e.animData.animNames;t.warriorCharacter.runActions(n)}e.enemyCharacter&&(n=e.animData.animNames,t.enemyCharacter.runActions(n))},r=this.animData.animNames[0],o=1;if(t.warriorCharacter&&r==l.WarriorAction.ATTACK?o+=t.warriorCharacter.durationOfAnim(l.WarriorAction.ATTACK)-t.warriorCharacter.durationOfAnim(l.WarriorAction.HURT):t.enemyCharacter&&r==l.EnemyAction.ATTACK&&(o+=t.enemyCharacter.durationOfAnim(l.EnemyAction.ATTACK)-t.enemyCharacter.durationOfAnim(l.EnemyAction.HURT)),this.scheduleOnce(function(){n()},o),t.warriorCharacter){var i=1+(t.animData.animNames.length-1)*t.warriorCharacter.durationOfAnim(l.WarriorAction.ATTACK)+t.warriorCharacter.durationOfAnim(l.WarriorAction.VICTORY)+1;this.scheduleOnce(function(){var e=t.animData.animNames[t.animData.animNames.length-1]==l.WarriorAction.VICTORY;a.EventMgr.raiseEvent(u.EventName.End_Game.toString(),{isWin:e})},i)}},t.prototype.getCurrentHpPercent=function(){var e=this.hpTotal;return Math.ceil((e-this.hpLost)/e*100)},t.prototype.addFuncOnChangingZIndex=function(e){this.cbFuncOnChangingZIndex=e},t.prototype.addFuncOnUpdatingHP=function(e){this.cbFuncOnUpdatingHP=e},i([d(cc.Node)],t.prototype,"arrowNode",void 0),i([d(f.default)],t.prototype,"warriorCharacter",void 0),i([d(c.default)],t.prototype,"enemyCharacter",void 0),i([p],t)}(cc.Component);n.default=_,cc._RF.pop()},{"../../standard/common/EventManager":"EventManager","../models/game_constants":"game_constants","./enemy_character":"enemy_character","./playing_constant":"playing_constant","./warrior_character":"warrior_character",lodash:6}],character_controller:[function(e,t,n){"use strict";cc._RF.push(t,"8b971DrzEdKFL4Cr5wqsiFL","character_controller");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.CharacterData=void 0;var s=e("./character_anim"),a=e("./character_info"),u=cc._decorator,c=u.ccclass,l=u.property;n.CharacterData=function(e,t,n,r,o,i,u,c,l,f){this.infoData=null,this.animData=null,this.infoData=new a.CharacterInfoData(e,t,n,r,o,i,u),this.animData=new s.CharacterAnimData(u,c,l,f)};var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.info=null,t.anim=null,t}return o(t,e),t.prototype.onLoad=function(){var e=this,t=this;this.anim.addFuncOnChangingZIndex(function(t){e.node.zIndex=t}),this.anim.addFuncOnUpdatingHP(function(e){t.info.onHpDisplay(e)})},t.prototype.start=function(){},t.prototype.onDestroy=function(){},t.prototype.onLoadData=function(e){this.info.onDisplay(e.infoData),this.anim.onLoadData(e.animData)},t.prototype.onActions=function(){this.anim.onActions()},t.prototype.onPrepare=function(){this.anim.onPrepare(),this.info.onPrepare()},i([l(a.default)],t.prototype,"info",void 0),i([l(s.default)],t.prototype,"anim",void 0),i([c],t)}(cc.Component);n.default=f,cc._RF.pop()},{"./character_anim":"character_anim","./character_info":"character_info"}],character_info:[function(e,t,n){"use strict";cc._RF.push(t,"8bcdasCEAFORY6uIPCVDeOo","character_info");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.CharacterInfoData=void 0;var s=e("lodash"),a=e("../../standard/res/ResLoader"),u=cc._decorator,c=u.ccclass,l=u.property;n.CharacterInfoData=function(e,t,n,r,o,i,s){this.id=null,this.name=null,this.avatar=null,this.star=0,this.items=null,this.hpPercent=0,this.isEnemy=!1,this.id=e,this.name=t,this.avatar=n,this.star=r,this.items=o,this.hpPercent=i,this.isEnemy=s};var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.avatarOnLeft=!0,t.avatarNode=null,t.charAvatar=null,t.charName=null,t.charItems=null,t.charStars=null,t.hpNode=null,t.hpGreenFrame=null,t.hpRedFrame=null,t.infoData=null,t}return o(t,e),t.prototype.onLoad=function(){var e=this,t="custom/sprites/hp/hp_green";this.loadSpriteFrame(t,function(t,n){t||(e.hpGreenFrame=n)}),t="custom/sprites/hp/hp_red",this.loadSpriteFrame(t,function(t,n){t||(e.hpRedFrame=n)})},t.prototype.start=function(){this.alignAndFlip()},t.prototype.onDestroy=function(){},t.prototype.alignAndFlip=function(){var e=this.avatarOnLeft;this.node.scaleX=e?1:-1,this.charName.horizontalAlign=e?cc.Label.HorizontalAlign.LEFT:cc.Label.HorizontalAlign.RIGHT,this.charName.node.anchorX=e?0:1,this.charName.node.scaleX=e?1:-1,s.each(this.charItems.children,function(t){t.scaleX=e?1:-1});var t=this.charStars.x;this.charStars.scaleX=e?1:-1,this.charStars.x=e?t:-t},t.prototype.onDisplay=function(e){var t=this;this.infoData=e,this.charName.string=e.name;var n="custom/sprites/avatars/"+e.avatar;this.loadSpriteFrame(n,function(e,n){e||(t.charAvatar.spriteFrame=n)});var r=e.star;s.each(this.charStars.children,function(e,t){e.active=t<r}),s.each(this.charItems.children,function(e){e.active=!1});var o=e.items;o&&o.length>0&&s.each(o,function(e,n){var r="custom/sprites/items/"+e;t.loadSpriteFrame(r,function(e,r){if(!e){var o=t.charItems.children[n];o.getComponent(cc.Sprite).spriteFrame=r,o.active=!0}})}),this.onHpDisplay(e.hpPercent);var i=this;this.scheduleOnce(function(){i.onHpDisplay(100)},2)},t.prototype.onHpDisplay=function(e){if(cc.log("onHpDisplay > ",e),this.hpNode){var t=this.hpNode.getChildByName("[hp_background]"),n=this.hpNode.getChildByName("[hp_progress]");if(t&&n){var r=100-e;n.width=r/100*t.width;var o=t.getComponent(cc.Sprite);o&&(e<=30?this.hpRedFrame&&(o.spriteFrame=this.hpRedFrame):this.hpGreenFrame&&(o.spriteFrame=this.hpGreenFrame))}}},t.prototype.loadSpriteFrame=function(e,t){a.resLoader.loadRes(e,cc.SpriteFrame,function(e,n){t(e,n)})},t.prototype.onHpUpdated=function(e,t){cc.log("onHpUpdated uiId > ",e,t);var n=t.isEnemy,r=t.hpPercent;n==this.isEnemy&&this.onHpDisplay(r)},t.prototype.onPrepare=function(){this.onHpDisplay(100)},Object.defineProperty(t.prototype,"isEnemy",{get:function(){return this.infoData.isEnemy},enumerable:!1,configurable:!0}),i([l()],t.prototype,"avatarOnLeft",void 0),i([l(cc.Node)],t.prototype,"avatarNode",void 0),i([l(cc.Sprite)],t.prototype,"charAvatar",void 0),i([l(cc.Label)],t.prototype,"charName",void 0),i([l(cc.Node)],t.prototype,"charItems",void 0),i([l(cc.Node)],t.prototype,"charStars",void 0),i([l(cc.Node)],t.prototype,"hpNode",void 0),i([c],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../standard/res/ResLoader":"ResLoader",lodash:6}],character_manager:[function(e,t,n){"use strict";cc._RF.push(t,"39fa8VgkbRAxYElayCcp0K6","character_manager");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("lodash"),a=e("./character_controller"),u=e("./playing_constant"),c=e("./warrior_character"),l=cc._decorator,f=l.ccclass,h=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.leftChar=null,t.rightChar=null,t}return o(t,e),t.prototype.start=function(){var e=["attack","hurt","attack","hurt","attack","hurt","attack","hurt","attack","hurt","attack","hurt","attack","hurt","attack","hurt","attack","hurt","attack","hurt","attack","victory"],t=[];s.each(e,function(e){"victory"==e?t.push("death"):"attack"==e?t.push("hurt"):t.push("attack")});var n=s.random(0,10)%2==0,r=n?e:t,o=n?t:e,i=this.randomHpHurtFromNames(r),l=new c.WarriorSkin(u.WarriorName.BOY,u.WarriorArmor.ARMOR_1,u.WarriorWeapon.SWORD_1),f=this.randomHpHurtFromNames(o),h=s.random(0,5);n?i.push(h):f.push(h);var p=new a.CharacterData("testing_char_1","TestingChar1","avatar_1",3,["item_1","item_2","item_3","item_4","item_5"],100,!1,r,i,l),d=new a.CharacterData("testing_char_2","TestingChar2","avatar_2",2,["item_2","item_5","item_3"],100,!0,o,f,null);this.leftChar.onLoadData(p),this.rightChar.onLoadData(d)},t.prototype.onStartActions=function(){cc.warn("char manager run anim"),this.leftChar.onActions(),this.rightChar.onActions()},t.prototype.onPrepare=function(){this.leftChar.onPrepare(),this.rightChar.onPrepare()},t.prototype.randomHpHurtFromNames=function(e){var t=s.filter(e,function(e){return"hurt"==e}),n=[];return s.each(t,function(){var e=s.random(0,10);n.push(e)}),n},i([h(a.default)],t.prototype,"leftChar",void 0),i([h(a.default)],t.prototype,"rightChar",void 0),i([f],t)}(cc.Component);n.default=p,cc._RF.pop()},{"./character_controller":"character_controller","./playing_constant":"playing_constant","./warrior_character":"warrior_character",lodash:6}],enemy_character:[function(e,t,n){"use strict";cc._RF.push(t,"b9748FpH8lH7497yk7nt8hY","enemy_character");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("lodash"),a=e("./playing_constant"),u=cc._decorator,c=u.ccclass,l=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeEnemy=null,t.cbFuncOnStartAnimation=null,t.dataAnims=null,t}return o(t,e),t.prototype.onLoad=function(){var e=this;this.cacheDataAnimInAssets(),this.skeEnemy.setStartListener(function(t){var n=t.animation.name;e.cbFuncOnStartAnimation&&e.cbFuncOnStartAnimation(n)})},t.prototype.start=function(){},t.prototype.onDestroy=function(){this.cbFuncOnStartAnimation=null},t.prototype.runAction=function(e,t){void 0===t&&(t=!1),this.skeEnemy.setAnimation(0,e,t)},t.prototype.runActions=function(e){cc.warn("Enemy runActions > ",e);var t=this.skeEnemy;s.each(e,function(e,n){0==n?t.setAnimation(0,e,!1):t.addAnimation(0,e,e==a.EnemyAction.VICTORY)})},t.prototype.addFuncOnStartAnimation=function(e){this.cbFuncOnStartAnimation=e},t.prototype.cacheDataAnimInAssets=function(){var e=this;cc.warn("==== anim enemy =========");var t=Object.keys(this.skeEnemy.skeletonData.skeletonJson.animations),n={};s.each(t,function(t){e.skeEnemy.setAnimation(0,t,!1);var r=e.skeEnemy.getCurrent(0);n[t]=r.animationEnd}),this.dataAnims=n,cc.warn("==== end anim enemy ========="),cc.log("enemy > ",n)},t.prototype.durationOfAnim=function(e){return this.dataAnims[e]},i([l(sp.Skeleton)],t.prototype,"skeEnemy",void 0),i([c],t)}(cc.Component);n.default=f,cc._RF.pop()},{"./playing_constant":"playing_constant",lodash:6}],game_constants:[function(e,t,n){"use strict";cc._RF.push(t,"eaa83fYwcVJ/rfJYyfA3ncs","game_constants"),Object.defineProperty(n,"__esModule",{value:!0}),n.StringConstant=n.NameScene=n.EventName=void 0,function(e){e[e.GainFocus=0]="GainFocus",e[e.LostFocus=1]="LostFocus",e[e.Shop_Chosen_Category=2]="Shop_Chosen_Category",e[e.Loading_Game_Play_Finish=3]="Loading_Game_Play_Finish",e[e.End_Game=4]="End_Game",e[e.Request_Replay=5]="Request_Replay",e[e.HP_Updated=6]="HP_Updated",e[e.Change_Position=7]="Change_Position",e[e.UpdatedAuthentication=8]="UpdatedAuthentication"}(n.EventName||(n.EventName={})),function(e){e.Lobby="lobby",e.Arena="arena",e.Adventure="adventure",e.Playing="playing"}(n.NameScene||(n.NameScene={}));var r=function(){function e(){}return e.durationLoadingGame=1.2,e}();n.default=r;var o=function(){function e(){}return e.KEY_LOCAL_UUID="local_uuid",e.KEY_LOCAL_IS_REMEMBER_ME="is_remember_me",e.KEY_LOCAL_EMAIL="current_email",e.KEY_LOCAL_PASSWORD="current_password",e.KEY_LOCAL_IS_SIGNED_IN="is_signed_in",e.KEY_LOCAL_IS_MUTED_BG_MUSIC="is_muted_bg_music",e.KEY_LOCAL_IS_MUTED_SFX="is_muted_sfx",e}();n.StringConstant=o,cc._RF.pop()},{}],network:[function(e,t,n){"use strict";cc._RF.push(t,"8b4b0Il4V9PloNHd6EnGXcP","network");var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var o=e("@heroiclabs/nakama-js"),i=e("./custom/models/response_models"),s=cc._decorator,a=s.ccclass,u=(s.property,function(){function e(){this.client=null,this.session=null,this.isInitialized=!1,this.initialize()}var t;return t=e,Object.defineProperty(e,"Instance",{get:function(){return null==this.instance&&(this.instance=new t),this.instance},enumerable:!1,configurable:!0}),e.prototype.initialize=function(e){void 0===e&&(e=!1),this.isInitialized&&!e||(cc.log("Initializing network"),this.client=new o.Client(t.serverKey,t.host,t.port,t.useSSL),this.isInitialized=!0)},e.prototype.loginAsGuest=function(e,t,n,r){var o=this;this.client.authenticateDevice(e,!0,t).then(function(e){o.session=e,n(e)},r)},e.prototype.loginWithEmail=function(e,n,r,o){var i=this;this.client.authenticateEmail(e,n,!1).then(function(e){i.session=e,r(e)},function(e){t.notifyError(e,o)})},e.prototype.registerAccount=function(e,n,r,o,i){var s=this;this.client.authenticateEmail(e,r,!0,n).then(function(e){s.session=e,o(e)},function(e){t.notifyError(e,i)})},e.prototype.fetchPlayerInfor=function(e,n){null==this.session||this.session.isexpired(Date.now()/1e3)?n("Invalid Session"):this.client.getAccount(this.session).then(e,function(e){t.notifyError(e,n)})},e.prototype.claimGuestAccountByEmail=function(e,n,r,o){var i={Email:e,Password:n};this.client.linkEmail(this.session,i).then(r,function(e){t.notifyError(e,o)})},e.prototype.getCurrentPlayerProfile=function(e,t){this.getPlayerProfile(this.session.user_id,e,t)},e.prototype.getPlayerProfile=function(e,n,r){if(null==this.session||this.session.isexpired(Date.now()/1e3))t.notifySimpleError("Invalid Session",r);else{var o={userId:e};this.client.rpc(this.session,"getProfile",o).then(function(e){cc.error(e.payload);var t=e.payload;n(t)},function(e){t.notifyError(e,r)})}},e.prototype.updatePlayerProfile=function(e,n,r){if(null==this.session||this.session.isexpired(Date.now()/1e3))t.notifySimpleError("Invalid Session",r);else{var o={profile:e};this.client.rpc(this.session,"updateProfile",o).then(function(e){cc.error(e.payload);var t=e.payload;n(t)},function(e){t.notifyError(e,r)})}},e.prototype.getPvEMatch=function(e,n){null==this.session||this.session.isexpired(Date.now()/1e3)?t.notifySimpleError("Invalid Session",n):this.client.rpc(this.session,"getPvEMatch",{characterId:""}).then(function(t){cc.error(t.payload);var n=t.payload;e(n)},function(e){t.notifyError(e,n),n(e)})},e.prototype.getMatchProgress=function(e,n){null==this.session||this.session.isexpired(Date.now()/1e3)?t.notifySimpleError("Invalid Session",n):this.client.rpc(this.session,"getMatchProgress",{characterId:""}).then(function(t){cc.error(t.payload);var n=i.Convert.toMatchData(String(t.payload));e(n)},function(e){t.notifyError(e,n)})},e.notifyError=function(e,t){var n={};n.url=e.url,n.statusText=e.statusText,n.statusCode=e.status,e.json().then(function(e){n.requestErrorCode=e.code,n.requestErrorText=e.message,t(n)})},e.notifySimpleError=function(e,t){var n={statusText:"Failed",statusCode:-1,requestErrorCode:-1};n.requestErrorText=e,t(n)},e.instance=null,e.host="128.199.196.150",e.port="7350",e.serverKey="defaultkey",e.useSSL=!1,t=r([a],e)}());n.default=u,cc._RF.pop()},{"./custom/models/response_models":"response_models","@heroiclabs/nakama-js":5}],player_info:[function(e,t,n){"use strict";cc._RF.push(t,"ad3c2zE1PZLdKF0pVIeEXLM","player_info");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.PlayerData=void 0;var s=e("lodash"),a=e("../../standard/res/ResLoader"),u=e("../models/session_data"),c=cc._decorator,l=c.ccclass,f=c.property,h=function(){function e(e,t,n,r){this.id=null,this.name=null,this.portrail=null,this.medals=null,this.id=e,this.name=t,this.portrail=n,this.medals=r}return e.prototype.setTesting1=function(){this.id="testing_player_1",this.name=u.default.userData.displayName,this.portrail="portrail_1",this.medals=["medal_1","medal_2"]},e.prototype.setTesting2=function(){this.id="testing_player_2",this.name="TestingPlayer2",this.portrail="portrail_2",this.medals=["medal_1"]},e}();n.PlayerData=h;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.avatarOnLeft=!0,t.avatarNode=null,t.playerPortrait=null,t.playerName=null,t.playerMedals=null,t.isTestingData1=!0,t.isTestingData2=!1,t}return o(t,e),t.prototype.start=function(){if(this.alignAndFlip(),this.isTestingData1)(e=new h).setTesting1(),this.onDisplay(e);else if(this.isTestingData2){var e;(e=new h).setTesting2(),this.onDisplay(e)}},t.prototype.alignAndFlip=function(){var e=this.avatarOnLeft;this.node.scaleX=e?1:-1,this.playerName.horizontalAlign=e?cc.Label.HorizontalAlign.LEFT:cc.Label.HorizontalAlign.RIGHT,this.playerName.node.anchorX=e?0:1,this.playerName.node.scaleX=e?1:-1,s.each(this.playerMedals.children,function(t){t.scaleX=e?1:-1})},t.prototype.onDisplay=function(e){var t=this;this.playerName.string=e.name;var n="custom/sprites/portrails/"+e.portrail;this.loadSpriteFrame(n,function(e,n){e||(t.playerPortrait.spriteFrame=n)}),s.each(this.playerMedals.children,function(e){e.active=!1});var r=e.medals;r&&r.length>0&&s.each(r,function(e,n){var r="custom/sprites/medals/"+e;t.loadSpriteFrame(r,function(e,r){if(!e){var o=t.playerMedals.children[n];o.getComponent(cc.Sprite).spriteFrame=r,o.active=!0}})})},t.prototype.loadSpriteFrame=function(e,t){a.resLoader.loadRes(e,cc.SpriteFrame,function(e,n){t(e,n)})},i([f()],t.prototype,"avatarOnLeft",void 0),i([f(cc.Node)],t.prototype,"avatarNode",void 0),i([f(cc.Sprite)],t.prototype,"playerPortrait",void 0),i([f(cc.Label)],t.prototype,"playerName",void 0),i([f(cc.Node)],t.prototype,"playerMedals",void 0),i([f()],t.prototype,"isTestingData1",void 0),i([f()],t.prototype,"isTestingData2",void 0),i([l],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../../standard/res/ResLoader":"ResLoader","../models/session_data":"session_data",lodash:6}],playing_constant:[function(e,t,n){"use strict";cc._RF.push(t,"dc378xlYtJB877GWIlfGwsZ","playing_constant");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.WarriorWeapon=n.WarriorArmor=n.WarriorName=n.WarriorAction=n.EnemyAction=n.CharacterType=void 0;var s=cc._decorator,a=s.ccclass;s.property,function(e){e.WARRIOR="warrior",e.ENEMY="enemy"}(n.CharacterType||(n.CharacterType={})),function(e){e.ATTACK="attack",e.HURT="hurt",e.IDLE="idle",e.DEATH="death",e.VICTORY="victory"}(n.EnemyAction||(n.EnemyAction={})),function(e){e.ATTACK="attack",e.ATTACK_RANGE="attack_range",e.HURT="hurt",e.IDLE="idle",e.DEATH="death",e.VICTORY="victory"}(n.WarriorAction||(n.WarriorAction={})),function(e){e.BOY="boy",e.GIRL="girl"}(n.WarriorName||(n.WarriorName={})),function(e){e.ARMOR_1="armor1",e.ARMOR_2="armor2",e.ARMOR_3="armor3",e.ARMOR_4="armor4",e.ARMOR_5="armor5"}(n.WarriorArmor||(n.WarriorArmor={})),function(e){e.STAFF_1="staff1",e.STAFF_2="staff2",e.STAFF_3="staff3",e.SWORD_1="sword1",e.SWORD_2="sword2",e.SWORD_3="sword3"}(n.WarriorWeapon||(n.WarriorWeapon={}));var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),i([a],t)}(cc.Component);n.default=u,cc._RF.pop()},{}],request_models:[function(e,t,n){"use strict";cc._RF.push(t,"cd43b0ny4VHvpf4qpI7k2k2","request_models"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],response_models:[function(e,t,n){"use strict";cc._RF.push(t,"49ec8QYm0lCoZKN4ygvydNI","response_models"),Object.defineProperty(n,"__esModule",{value:!0}),n.Convert=n.Reward=n.Result=n.Armor=n.Weapon=n.Character=n.PlayerProfile=n.Activity=n.MatchData=void 0;n.MatchData=function(){};n.Activity=function(){};n.PlayerProfile=function(){this.isRealPlayer=!0,this.characterIDS=[],this.listCharacters=[],this.listArmors=[],this.listWeapon=[]};n.Character=function(){this.hp=0,this.dmg_magic=0,this.dmg_physic=0,this.exp=0,this.level=1,this.equipped=[],this.metaData=""};n.Weapon=function(){this.dmg_magic=0,this.dmg_physic=0,this.metadata=""};n.Armor=function(){this.hp=0,this.metadata=""};n.Result=function(){};n.Reward=function(){};var r=function(){function e(){}return e.toMatchData=function(e){return a(JSON.parse(e),l("MatchData"),i)},e.matchDataToJson=function(e){return JSON.stringify(a(e,l("MatchData"),s),null,2)},e}();function o(e,t,n){if(void 0===n&&(n=""),n)throw Error('Invalid value for key "'+n+'". Expected type '+JSON.stringify(e)+" but got "+JSON.stringify(t));throw Error("Invalid value "+JSON.stringify(t)+" for type "+JSON.stringify(e))}function i(e){if(void 0===e.jsonToJS){var t={};e.props.forEach(function(e){return t[e.json]={key:e.js,typ:e.typ}}),e.jsonToJS=t}return e.jsonToJS}function s(e){if(void 0===e.jsToJSON){var t={};e.props.forEach(function(e){return t[e.js]={key:e.json,typ:e.typ}}),e.jsToJSON=t}return e.jsToJSON}function a(e,t,n,r){if(void 0===r&&(r=""),"any"===t)return e;if(null===t)return null===e?e:o(t,e);if(!1===t)return o(t,e);for(;"object"==typeof t&&void 0!==t.ref;)t=f[t.ref];return Array.isArray(t)?function(e,t){return-1!==e.indexOf(t)?t:o(e,t)}(t,e):"object"==typeof t?t.hasOwnProperty("unionMembers")?function(e,t){for(var r=e.length,i=0;i<r;i++){var s=e[i];try{return a(t,s,n)}catch(u){}}return o(e,t)}(t.unionMembers,e):t.hasOwnProperty("arrayItems")?function(e,t){return Array.isArray(t)?t.map(function(t){return a(t,e,n)}):o("array",t)}(t.arrayItems,e):t.hasOwnProperty("props")?function(e,t,r){if(null===r||"object"!=typeof r||Array.isArray(r))return o("object",r);var i={};return Object.getOwnPropertyNames(e).forEach(function(t){var o=e[t],s=Object.prototype.hasOwnProperty.call(r,t)?r[t]:void 0;i[o.key]=a(s,o.typ,n,o.key)}),Object.getOwnPropertyNames(r).forEach(function(o){Object.prototype.hasOwnProperty.call(e,o)||(i[o]=a(r[o],t,n,o))}),i}(n(t),t.additional,e):o(t,e):t===Date&&"number"!=typeof e?function(e){if(null===e)return null;var t=new Date(e);return isNaN(t.valueOf())?o("Date",e):t}(e):function(e,t){return typeof e==typeof t?t:o(e,t,r)}(t,e)}function u(e){return{arrayItems:e}}function c(e,t){return{props:e,additional:t}}function l(e){return{ref:e}}n.Convert=r;var f={MatchData:c([{json:"match_id",js:"matchID",typ:0},{json:"duration",js:"duration",typ:3.14},{json:"started_at",js:"startedAt",typ:0},{json:"players",js:"players",typ:u(l("Player"))},{json:"theme_id",js:"themeID",typ:0},{json:"actions",js:"actions",typ:u(u(3.14))},{json:"result",js:"result",typ:u(l("Result"))}],!1),Activity:c([{json:"character_id",js:"characterID",typ:3.14},{json:"actions",js:"actions",typ:u(u(3.14))},{json:"status",js:"status",typ:u(u(3.14))}],!1),Player:c([{json:"id",js:"id",typ:""},{json:"name",js:"name",typ:""},{json:"avatar",js:"avatar",typ:""},{json:"character_ids",js:"characterIDS",typ:u(0)},{json:"meta_data",js:"metaData",typ:""}],!1),Result:c([{json:"player_id",js:"playerID",typ:""},{json:"is_winner",js:"isWinner",typ:!0},{json:"reward",js:"reward",typ:u(l("Reward"))}],!1),Reward:c([{json:"item_type",js:"itemType",typ:""},{json:"value",js:"value",typ:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{unionMembers:e}}(void 0,"")},{json:"quantity",js:"quantity",typ:0}],!1)};cc._RF.pop()},{}],session_data:[function(e,t,n){"use strict";cc._RF.push(t,"bed26PCSfNHE53Ulro9H045","session_data");var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var o=e("./response_models"),i=e("./user_data"),s=cc._decorator,a=s.ccclass,u=(s.property,function(){function e(){}var t;return t=e,e.initialize=function(){t.userData=new i.default,t.playerProfile=new o.PlayerProfile,t.isAuthenticated=!1},e.userData=null,e.isAuthenticated=!1,e.playerProfile=null,t=r([a],e)}());n.default=u,cc._RF.pop()},{"./response_models":"response_models","./user_data":"user_data"}],storage_service:[function(e,t,n){"use strict";cc._RF.push(t,"ced15NAbmpCY4AWL7fILSkB","storage_service");var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,s=(o.property,function(){function e(){this.firstCheck=!1,this.localAvailable=!1,this.itemList={}}var t;return t=e,Object.defineProperty(e,"Instance",{get:function(){return null==this.instance&&(this.instance=new t),this.instance},enumerable:!1,configurable:!0}),e.prototype.localStorageTest=function(){try{return localStorage.setItem("local_test","test"),localStorage.removeItem("local_test"),!0}catch(e){return!1}},e.prototype.checkForStorage=function(){this.localAvailable=this.localStorageTest(),this.firstCheck||(this.firstCheck=!0)},e.prototype.setLocalItem=function(e,t){if(!this.firstCheck&&this.checkForStorage(),this.localAvailable)try{localStorage.setItem(e,t)}catch(n){this.localAvailable=!1}this.localAvailable||(this.itemList[e]=t)},e.prototype.getLocalItem=function(e){if(!this.firstCheck&&this.checkForStorage(),this.localAvailable)try{return localStorage.getItem(e)}catch(t){this.localAvailable=!1}return this.itemList[e]},e.prototype.removeLocalItem=function(e){if(!this.firstCheck&&this.checkForStorage(),this.localAvailable)try{localStorage.removeItem(e)}catch(t){this.localAvailable=!1}this.localAvailable||(this.itemList[e]=null)},e.instance=null,t=r([i],e)}());n.default=s,cc._RF.pop()},{}],testNetwork:[function(e,t,n){"use strict";cc._RF.push(t,"a26eaxXWrtJzYY3+9SCPubW","testNetwork");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../Script/custom/models/user_data"),a=e("../../Script/network"),u=cc._decorator,c=u.ccclass,l=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.userID="",t}return o(t,e),t.prototype.start=function(){a.default.Instance},t.prototype.testLoginWithCustomID=function(){var e=s.default.getLocalUUID();cc.log("logging in with id: "+e),a.default.Instance.loginAsGuest(e,e,function(e){cc.log("=> logged in with user ID: "+e.user_id,e)},function(e){cc.log("=> error logging in: "+e)})},t.prototype.testLoginWithEmail=function(){cc.log("logging in with email: test0@acc.com"),a.default.Instance.loginWithEmail("test0@acc.com","test1234",function(e){cc.log("=> login with email completed",e)},function(e){cc.log("=> error logging in: "+e)})},t.prototype.testGetPlayerInfor=function(){a.default.Instance.fetchPlayerInfor(function(e){cc.log("=> fetch completed",e)},function(e){cc.log("=> error logging in: ",e)})},t.prototype.testClaimGuestAccount=function(){a.default.Instance.claimGuestAccountByEmail("testClaim@acc.com","test1234",function(e){cc.log("=> register completed",e)},function(e){cc.log("=> error register",e)})},t.prototype.testRegisterWithEmail=function(){a.default.Instance.registerAccount("test01@acc.com","test0","test124",function(e){cc.log("=> register completed",e)},function(e){cc.log("=> error register: ",e)})},t.prototype.testGetCharInfo=function(){},t.prototype.testQuickMatch=function(){a.default.Instance.getMatchProgress(function(e){cc.log("=> getMatchProgress",e)},function(e){cc.error("=> getMatchProgress: ",e)})},t.prototype.testPvEMatch=function(){a.default.Instance.getPvEMatch(function(e){cc.log("=> getPvEMatch",e)},function(e){cc.error("=> getPvEMatch: ",e)})},t.prototype.testGetProfile=function(){var e=this;a.default.Instance.getCurrentPlayerProfile(function(t){e.profile=t,cc.log("=> getPlayerProfile",t)},function(e){cc.error("=> getPlayerProfile: ",e)})},t.prototype.testPushProfile=function(){a.default.Instance.updatePlayerProfile(this.profile,function(e){cc.log("=> getPlayerProfile",e)},function(e){cc.error("=> getPlayerProfile: ",e)})},t.prototype.testReadMetadata=function(){a.default.Instance.getCurrentPlayerProfile(function(e){var t=e.metaData;if(cc.log("=> metadata",t),null!=t&&t.length>0){var n=JSON.parse(t);cc.log("address: "+n.walletAddress),cc.log("token: "+n.token)}},function(e){cc.error("=> getPlayerProfile: ",e)})},t.prototype.testPushMetadata=function(){this.profile.metaData=JSON.stringify({walletAddress:"thisiswallet_address",token:"this_is_token"}),this.testPushProfile()},i([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../../Script/custom/models/user_data":"user_data","../../Script/network":"network"}],use_reversed_rotateBy:[function(e,t){"use strict";cc._RF.push(t,"2bfb8Yud8tK/4QY1SJgWJr2","use_reversed_rotateBy"),cc.RotateBy._reverse=!0,cc._RF.pop()},{}],user_data:[function(e,t,n){"use strict";cc._RF.push(t,"1ad58xN1H9Bo55mBso2jmWW","user_data");var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../services/storage_service"),i=e("../utils"),s=e("./game_constants"),a=cc._decorator,u=a.ccclass,c=(a.property,function(){function e(){this.userId=null,this.displayName=null}return e.getLocalUUID=function(e){void 0===e&&(e=!1);var t=o.default.Instance.getLocalItem(s.StringConstant.KEY_LOCAL_UUID);return(null==t||e)&&(t=i.default.generateUUID(),o.default.Instance.setLocalItem(s.StringConstant.KEY_LOCAL_UUID,t)),t},r([u],e)}());n.default=c,cc._RF.pop()},{"../services/storage_service":"storage_service","../utils":"utils","./game_constants":"game_constants"}],utils:[function(e,t,n){"use strict";cc._RF.push(t,"8bf32ow2YlG3q/nPIgDcfXz","utils");var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../standard/res/ResLoader"),i=cc._decorator,s=i.ccclass,a=(i.property,function(){function e(){}return e.generateUUID=function(){var e=(new Date).getTime(),t=cc.director.getTotalTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var r=16*Math.random();return e>0?(r=(e+r)%16|0,e=Math.floor(e/16)):(r=(t+r)%16|0,t=Math.floor(t/16)),("x"===n?r:3&r|8).toString(16)})},e.loadSpriteFrame=function(e,t){o.resLoader.loadRes(e,cc.SpriteFrame,function(e,n){t(e,n)})},r([s],e)}());n.default=a,cc._RF.pop()},{"../standard/res/ResLoader":"ResLoader"}],warrior_character:[function(e,t,n){"use strict";cc._RF.push(t,"cf595056a5PeZxE/mmZAJsf","warrior_character");var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.WarriorSkin=void 0;var s=e("lodash"),a=e("./playing_constant"),u=cc._decorator,c=u.ccclass,l=u.property;n.WarriorSkin=function(e,t,n){this.name=e,this.armor=t,this.weapon=n};var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeBotCharacter=null,t.skeTopCharacter=null,t.skeWeapon=null,t.cbFuncOnStartAnimation=null,t.dataAnims=null,t}return o(t,e),t.prototype.onLoad=function(){var e=this;this.cacheDataAnimInAssets(),this.skeBotCharacter.setStartListener(function(t){var n=t.animation.name;e.cbFuncOnStartAnimation&&e.cbFuncOnStartAnimation(n)})},t.prototype.start=function(){},t.prototype.onDestroy=function(){this.cbFuncOnStartAnimation=null},t.prototype.loadSkin=function(e){var t=this.skeBotCharacter,n=this.skeTopCharacter,r=this.skeWeapon;t.setSkin(e.name+"_bot_"+e.armor),n.setSkin(e.name+"_top_"+e.armor),r.setSkin(e.weapon)},t.prototype.runAction=function(e,t){void 0===t&&(t=!1);var n=this.skeBotCharacter,r=this.skeTopCharacter,o=this.skeWeapon;n.setAnimation(0,e,t),r.setAnimation(0,e,t),o.setAnimation(0,e,t)},t.prototype.addAction=function(e,t){void 0===t&&(t=!1);var n=this.skeBotCharacter,r=this.skeTopCharacter,o=this.skeWeapon;n.addAnimation(0,e,t),r.addAnimation(0,e,t),o.addAnimation(0,e,t)},t.prototype.runActions=function(e){cc.warn("Warrior runActions > ",e);var t=this;s.each(e,function(e,n){0==n?t.runAction(e):t.addAction(e,e==a.WarriorAction.VICTORY)})},t.prototype.addFuncOnStartAnimation=function(e){this.cbFuncOnStartAnimation=e},t.prototype.cacheDataAnimInAssets=function(){var e=this;cc.warn("==== anim warrior =========");var t=Object.keys(this.skeBotCharacter.skeletonData.skeletonJson.animations),n={};s.each(t,function(t){e.skeBotCharacter.setAnimation(0,t,!1);var r=e.skeBotCharacter.getCurrent(0);n[t]=r.animationEnd}),this.dataAnims=n,cc.warn("==== end anim warrior ========="),cc.log("warrior > ",n)},t.prototype.durationOfAnim=function(e){return this.dataAnims[e]},i([l(sp.Skeleton)],t.prototype,"skeBotCharacter",void 0),i([l(sp.Skeleton)],t.prototype,"skeTopCharacter",void 0),i([l(sp.Skeleton)],t.prototype,"skeWeapon",void 0),i([c],t)}(cc.Component);n.default=f,cc._RF.pop()},{"./playing_constant":"playing_constant",lodash:6}]},{},["JumpAnim","LoadingGame","PageController","ScaleAnim","ShopItem","TabController","VersionLabel","Enemy","Player","character_anim","character_controller","character_info","character_manager","enemy_character","player_info","playing_constant","warrior_character","GameLogic","GameLogicInit","game_constants","request_models","response_models","session_data","user_data","audio_service","storage_service","AdventureScene","ArenaScene","LobbyScene","PlayingScene","UIConnectMetaMask","UIConstant","UIInsufficientNotify","UIInventory","UILoadingScene","UIMarket","UINotify","UIResult","UIShop","UISignin","UIToast","UIUpgrade","utils","EmptyScene","NetExample","ResExample","ResKeeperExample","UIExample","UIBag","UIHall","UILogin","UINotice","network","EventManager","TaskQueue","NetInterface","NetManager","NetNode","WebSock","NodePool","ResKeeper","ResLeakChecker","ResLoader","ResPool","ResUtil","SyncComponent","UIManager","UIView","use_reversed_rotateBy","testNetwork"]);